(this.webpackJsonp=this.webpackJsonp||[]).push([["idowapro-productfeed"],{"/hTs":function(e,t,n){},"/rL6":function(e,t){e.exports='\x3c!-- block name has to be exactly this to override a block in the rule component --\x3e\n{% block sw_condition_value_content %}\n    <div class="sw-condition-goods-price">\n        {% block idowapro_feed_generator_condition_product_price_operator %}\n            <sw-condition-operator-select v-bind="{ operators, condition }"></sw-condition-operator-select>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_product_price_number_field %}\n            <sw-number-field size="medium" numberType="float" :step="0.01" v-model="value"></sw-number-field>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_product_price_filter %}\n            <div class="sw-condition-goods-price__filter">\n                <sw-button @click="showFilterModal = true"\n                           v-tooltip="{ message: $tc(\'sw-settings-rule.conditionFilter.infoText\') }">\n                    <sw-icon name="small-default-stack-filter" small></sw-icon>\n                </sw-button>\n            </div>\n        {% endblock %}\n    </div>\n\n    {% block idowapro_feed_generator_condition_product_price_condition_model %}\n        <sw-condition-modal v-if="showFilterModal"\n                            @modal-close="showFilterModal = false"\n                            v-bind="{ condition, conditionDataProviderService }">\n        </sw-condition-modal>\n    {% endblock %}\n{% endblock %}\n'},"04c8":function(e,t,n){var r=n("/hTs");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("7be435c1",r,!0,{})},"3qrl":function(e,t){e.exports='\x3c!-- block name has to be exactly this to override a block in the rule component --\x3e\n{% block sw_condition_value_content %}\n    <div class="sw-condition-last-name sw-condition__condition-value">\n        {% block idowapro_feed_generator_condition_category_name_operator %}\n            <sw-condition-operator-select v-bind="{ operators, condition }"></sw-condition-operator-select>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_category_name_text_field %}\n            <sw-text-field\n                size="medium"\n                v-model="value">\n            </sw-text-field>\n        {% endblock %}\n    </div>\n{% endblock %}\n'},"7I4t":function(e,t){e.exports='\x3c!-- block name has to be exactly this to override a block in the rule component --\x3e\n{% block sw_condition_value_content %}\n    <div class="sw-condition-last-name sw-condition__condition-value">\n        {% block idowapro_feed_generator_condition_product_name_operator %}\n            <sw-condition-operator-select v-bind="{ operators, condition }"></sw-condition-operator-select>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_product_name_text_field %}\n            <sw-text-field\n                size="medium"\n                v-model="value">\n            </sw-text-field>\n        {% endblock %}\n    </div>\n{% endblock %}\n'},"9TZF":function(e,t){e.exports='<sw-page class="swag-bundle-detail">\n    <template slot="smart-bar-header">\n        {% block idowapro_feed_generator_logs_detail_smart_bar_header %}\n        <h2>{{ $tc(\'product-feed.logs.detail.title\') }}</h2>\n        {% endblock %}\n    </template>\n    <template slot="smart-bar-actions">\n        {% block idowapro_feed_generator_logs_detail_smart_bar_actions %}\n        <sw-button :routerLink="{ name: \'product.feed.list\' }">\n            {{ $t(\'product-feed.logs.detail.back\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    <template slot="content">\n\n        \x3c!-- General --\x3e\n        {% block idowapro_feed_generator_logs_detail_content %}\n        <sw-card-view>\n            <div class="general_card">\n                <sw-card :isLoading="isLoading" v-if="this.log" :large="true"\n                         :title="$t(\'product-feed.logs.detail.titleGeneral\')"\n                >\n                    <sw-container slot="grid" rows="auto auto">\n                        <sw-card-section divider="bottom">\n                            <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="30px 30px">\n                                {% block idowapro_feed_generator_logs_detail_general_container_content %}\n                                <sw-description-list>\n                                    {% block idowapro_feed_generator_logs_detail_general_description_block_left %}\n                                    <div class="description_list_left">\n                                        <dt>{{ $tc(\'product-feed.logs.detail.name\') }}</dt>\n                                        <dd class="log_name">{{ log.name }}</dd>\n                                        <div v-if="log.fileName && log.fileType">\n                                            <dt>{{ $tc(\'product-feed.logs.detail.file\') }}</dt>\n                                            <dd><a :href="\'./feeds/\' + logfile" class="log_file">{{ logfile }}</a></dd>\n                                        </div>\n                                        <dt>{{ $tc(\'product-feed.logs.detail.status\') }}</dt>\n                                        <dd class="log_status">{{ feedstatus }}</dd>\n                                        <dt>{{ $tc(\'product-feed.logs.detail.message\') }}</dt>\n                                        <dd class="log_message">{{ $tc(log.message) }}</dd>\n                                    </div>\n                                </sw-description-list>\n                                {% endblock %}\n                                {% block idowapro_feed_generator_logs_detail_general_description_block_right %}\n                                <div class="description_list_right">\n                                    <sw-description-list>\n                                        <dt>{{ $tc(\'product-feed.logs.detail.createdAt\') }}</dt>\n                                        <dd class="log_creation_timestamp">{{ createdAtTimestampFormatted }}</dd>\n                                        <dt>{{ $tc(\'product-feed.logs.detail.creationMode\') }}</dt>\n                                        <dd class="log_creation_mode">{{ creationMode }}</dd>\n                                        <div v-if="log.stackTrace">\n                                            <dt>{{ $tc(\'product-feed.logs.detail.stackTrace\') }}</dt>\n                                            <sw-code-editor\n                                                :value="log.stackTrace"\n                                            ></sw-code-editor>\n                                        </div>\n                                    </sw-description-list>\n                                </div>\n                                {% endblock %}\n                                {% endblock %}\n                            </sw-container>\n                        </sw-card-section>\n                    </sw-container>\n                </sw-card>\n            </div>\n\n            \x3c!-- Delivery --\x3e\n            {% block idowapro_feed_generator_logs_detail_general_delivery_card %}\n            <div class="delivery_card">\n                <sw-card :isLoading="isLoading" v-if="this.log" :large="true"\n                         :title="$t(\'product-feed.logs.detail.titleDelivery\')"\n                         class="delivery_card"\n                >\n\n                    <sw-container slot="grid" rows="auto auto">\n                        <sw-card-section divider="bottom">\n                            <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="30px 30px">\n                                {% block idowapro_feed_generator_logs_detail_delivery_description_list_left %}\n                                <sw-description-list>\n                                    <div class="description_list_left">\n                                        <dt>{{ $tc(\'product-feed.logs.detail.deliveryState\') }}</dt>\n                                        <dd class="log_delivery_state">\n                                            {{ $tc(productfeed.formatDeliveryState(log.deliveryState)) }}\n                                        </dd>\n                                        <div v-if="log.deliveryState === \'enabled\'">\n                                            <dt>{{ $tc(\'product-feed.logs.detail.deliveryUrl\') }}</dt>\n                                            <dd>{{ log.hostUrl }}</dd>\n                                        </div>\n                                    </div>\n                                </sw-description-list>\n                                {% endblock %}\n                                {% block idowapro_feed_generator_logs_detail_delivery_description_list_right %}\n                                <div class="description_list_right">\n                                    <sw-description-list>\n                                        <div v-if="log.deliveryState === \'enabled\'">\n                                            <dt>{{ $tc(\'product-feed.logs.detail.deliveryUsername\') }}</dt>\n                                            <dd>{{ log.hostUsername }}</dd>\n                                            <dt>{{ $tc(\'product-feed.logs.detail.deliveryDirectory\') }}</dt>\n                                            <dd>{{ log.hostDirectory }}</dd>\n                                        </div>\n                                    </sw-description-list>\n                                </div>\n                                {% endblock %}\n                            </sw-container>\n                        </sw-card-section>\n                    </sw-container>\n                </sw-card>\n            </div>\n            {% endblock %}\n        </sw-card-view>\n        {% endblock %}\n    </template>\n</sw-page>\n'},AObi:function(e,t){e.exports='<sw-page class="product-feed-detail" v-if="loaded && feed && feed.notification">\n    <template slot="smart-bar-header">\n        {% block idowapro_feed_generator_smart_bar_header %}\n        <h2>{{ $tc(\'product-feed.detail.title\') }}</h2>\n        {% endblock %}\n    </template>\n    <template slot="smart-bar-actions">\n        {% block idowapro_feed_generator_smart_bar_actions %}\n        <sw-button :routerLink="{ name: \'product.feed.list\' }">\n            {{ $t(\'product-feed.detail.cancelButtonText\') }}\n        </sw-button>\n        <sw-button-process\n            variant="primary"\n            @click="saveFeed"\n            @process="saveFinish"\n            :processSuccess="processSuccess"\n            :isLoading="isLoading"\n        >\n            {{ $tc(\'product-feed.detail.save\') }}\n        </sw-button-process>\n\n        <sw-button-process\n            variant="primary"\n            @click="onBtnGenerate"\n            @process="saveFinish"\n            :processSuccess="generateSuccess"\n            :isLoading="isLoading"\n            v-if="detailMode && feed.executionMode === manualExecutionMode && feed.enabled"\n        >\n            {{ $tc(\'product-feed.detail.generateFeed\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    <template slot="content">\n\n        \x3c!-- Modal --\x3e\n        {% block idowapro_feed_generator_popover %}\n        <sw-modal v-if="showPopover"\n                  :title="$t(\'product-feed.create.selectTemplate\')"\n                  variant="small"\n                  @modal-close="closeModal">\n\n            <sw-grid :items="[\n                {label:\'product-feed.create.templates.google\', name:\'google\'},\n                {label:\'product-feed.create.templates.idealo\', name:\'idealo\'},\n                {label:\'product-feed.create.templates.empty\', name:\'empty\'}]"\n                    :selectable=\'false\'\n                    variant="table"\n                    :header="true"\n                >\n                <template #header>\n                    <div class="template-modal__header">\n                        <h4>\n                          {{ $tc(\'product-feed.detail.chooseTemplateDescription\') }}\n                        </h4>\n                    </div>\n                </template>\n\n                <template #columns="{ item }">\n                    <sw-grid-column flex="minmax(200px, 1fr)">\n                        <strong>{{ $tc(item.label) }}</strong>\n                    </sw-grid-column>\n            \n                    <sw-grid-column flex="minmax(200px, 1fr)" class="template-modal__right-column">\n                        <sw-button \n                          variant="primary"\n                          @click="selectTemplate(item.name)"\n                        >\n                          {{ $tc(\'product-feed.create.choose\') }}\n                        </sw-button>\n                    </sw-grid-column>\n                </template>\n\n                <template #pagination>\n                    <div class="template-modal__help-text" style="height: fit-content">\n                        <span>\n                            {{ $tc(\'product-feed.detail.seeDocumentation\') }}\n                            <a \n                                rel="noopener"\n                                target="_blank"\n                                href="https://idowapro.de/product-feed-generator-documentation/"\n                            >\n                            {{ $tc(\'product-feed.detail.documentation\') }}\n                            </a>\n                            <br/>\n                            {{ $tc(\'product-feed.detail.preSuggestion\') }}\n                            <a href="mailto:ecom@idowa.de"\n                                rel="noopener"\n                                target="_blank"\n                            >\n                                {{ $tc(\'product-feed.detail.linkSuggestion\') }}\n                            </a>\n                            {{ $tc(\'product-feed.detail.afterSuggestion\') }}\n                        </span>\n                    </div>\n                </template>\n            </sw-grid>\n        </sw-modal>\n        {% endblock %}\n\n        \x3c!-- Overwrite changes modal --\x3e\n        <sw-modal variant="small"\n                  :title="$t(\'product-feed.detail.overwriteCurrentData\')"\n                  v-if="showDiscardChangesModal"\n                  @modal-close="closeDiscardChangesModal">\n            {% block sw_discard_changes_modal_text %}\n                <p class="sw-discard-changes-modal-delete-text">\n                    {{ $t(\'product-feed.detail.overwriteCurrentDataMessage\') }}\n                </p>\n            {% endblock %}\n\n            {% block sw_discard_changes_modal_footer %}\n                <template #modal-footer>\n                    {% block sw_discard_changes_modal_discard_changes_modal_cancel %}\n                        <sw-button @click="closeDiscardChangesModal">\n                            {{ $t(\'product-feed.detail.cancelOverwrite\') }}\n                        </sw-button>\n\n                        <sw-button variant="danger"\n                                   @click="deleteChanges">\n                            {{ $t(\'product-feed.detail.overwrite\') }}\n                        </sw-button>\n                    {% endblock %}\n                </template>\n            {% endblock %}\n        </sw-modal>\n\n\n\n        \x3c!-- General --\x3e\n        <sw-card-view>\n            {% block idowapro_feed_generator_general_card %}\n            <sw-card v-if="feed" :title="$t(\'product-feed.detail.titleGeneral\')" :large="true">\n                <sw-container slot="grid" rows="auto auto">\n                    <sw-card-section v-if="!isLoading" divider="bottom">\n                        <sw-switch-field\n                            :label="$t(\'product-feed.detail.enabled\')" v-model="feed.enabled">\n                        </sw-switch-field>\n                        <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="30px 30px">\n                            {% block idowapro_feed_generator_general_content %}\n\n                            <sw-text-field :copyable="false"\n                                           :copyableTooltip="false"\n                                           :label="$t(\'product-feed.detail.feedname\')"\n                                           v-model="feed.name"\n                                           validation="required"\n                                           required\n                                           :error="feedNameError">\n                            </sw-text-field>\n                            <sw-text-field :copyable="false" :copyableTooltip="false"\n                                           :label="$t(\'product-feed.detail.filename\')" v-model="feed.filename"\n                                           :error="feedFilenameError"\n                                           validation="required"\n                                           required\n                            >\n                            </sw-text-field>\n\n                            <div v-if="latestFile">\n                                <dt>{{ $t(\'product-feed.detail.lastGeneratedFile\') }}</dt>\n                                <dd><a :href="\'./feeds/\' + latestFile.fileName" class="log_file">{{ latestFile.fileName }}</a></dd>\n                            </div>\n                        </sw-container>\n                        <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="30px 30px">\n\n                            <sw-select-field :label="$t(\'product-feed.detail.salesChannel\')"\n                                             v-model="feed.salesChannelId" v-if="salesChannel">\n                                <option :value="channel.id" v-for="channel in salesChannel">{{ channel.name }}</option>\n                            </sw-select-field>\n\n                            \n                            <sw-entity-single-select\n                                :label="$t(\'product-feed.detail.language\')" \n                                v-if="salesChannel"\n                                v-model="feed.languageId"\n                                entity="language"\n                                :criteria="nameCriteria"\n                            >\n                            </sw-entity-single-select>\n\n                            <sw-entity-single-select\n                                :label="$t(\'product-feed.detail.currency\')" \n                                v-if="salesChannel"\n                                v-model="feed.currencyId"\n                                entity="currency"\n                                :criteria="nameCriteria"\n                            >\n                            </sw-entity-single-select>\n                            {% endblock %}\n                        </sw-container>\n                    </sw-card-section>\n                </sw-container>\n            </sw-card>\n            {% endblock %}\n\n            \x3c!-- Template --\x3e\n            {% block idowapro_feed_generator_template_card %}\n                <sw-card v-if="feed" :title="$t(\'product-feed.detail.titleTemplate\')" :large="true">\n                    <sw-container slot="grid" rows="auto auto">\n                        <sw-card-section v-if="!isLoading" divider="bottom">\n                            <sw-container>\n                            {% block idowapro_feed_generator_template_content %}\n                                <sw-select-field :label="$t(\'product-feed.detail.filetype\')"\n                                    v-model="feed.filetype">\n                                    <option :value="item.value"\n                                        v-for="(item, index) in formattedFileTypes">{{ item.label }}\n                                    </option>\n                                </sw-select-field>\n                                <sw-code-editor \n                                    :completerFunction="null" \n                                    completionMode="text" \n                                    mode="twig"\n                                    :softWraps="true" \n                                    :setFocus="false" \n                                    v-model="feed.template"\n                                    :helpText="$tc(\'product-feed.detail.separateWithCommas\')"\n                                    id="template-editor">\n                                </sw-code-editor>\n                                <sw-button @click="showTemplateModal()">\n                                    {{ $tc(\'product-feed.create.selectTemplate\')  }}\n                                </sw-button>\n                                <sw-alert\n                                    variant="error"\n                                    appearance="default"\n                                    :showIcon="true"\n                                    :closable="false"\n                                    v-if="templateError">\n                                        {{ $tc(templateError.detail) }}\n                                </sw-alert>\n                            {% endblock %}\n                        </sw-container>\n                    </sw-card-section>\n                </sw-container>\n            </sw-card>\n            {% endblock %}\n\n            \x3c!-- Filter --\x3e\n            {% block idowapro_feed_generator_filter_card %}\n                <sw-card v-if="feed && rule && conditions" :title="$t(\'product-feed.detail.titleFilter\')" :large="true">\n                {% block idowapro_feed_generator_filter_content %}\n\n                    <sw-tabs :small="false" defaultItem="rule">\n                        <template #default="{ active }">\n                            {% block idowapro_feed_generator_filter_rule %}\n                                <sw-tabs-item name="rule"\n                                              :title="$tc(\'product-feed.detail.rule\')"\n                                              :activeTab="active">\n                                    {{ $tc(\'product-feed.detail.rule\') }}\n                                </sw-tabs-item>\n                            {% endblock %}\n\n                            {% block idowapro_feed_generator_filter_product_group %}\n                                <sw-tabs-item name="stream"\n                                              :title="$tc(\'product-feed.detail.productGroup\')"\n                                              :activeTab="active">\n                                    {{ $tc(\'product-feed.detail.productGroup\') }}\n                                </sw-tabs-item>\n                            {% endblock %}\n                        </template>\n\n                        <template #content="{ active }">\n                            {% block idowapro_feed_generator_filter_rule_content %}\n                                <sw-container v-if="active === \'rule\'">\n\n                                    <sw-switch-field\n                                        :label="$t(\'product-feed.detail.ruleEnabled\')" v-model="feed.ruleFilterEnabled">\n                                    </sw-switch-field>\n\n                                    <sw-condition-tree\n                                        :initialConditions="conditions"\n                                        :conditionDataProviderService="feedConditionDataProviderService"\n                                        associationField="ruleId"\n                                        :associationValue="rule.id"\n                                        :conditionRepository="conditionRepository"\n                                        :rootCondition="null"\n                                        @conditions-changed="conditionsChanged"\n                                    ></sw-condition-tree>\n\n                                </sw-container>\n                            {% endblock %}\n\n                            {% block idowapro_feed_generator_filter_product_group_content %}\n                                <sw-container v-if="active === \'stream\'">\n                                    <sw-switch-field\n                                        :label="$t(\'product-feed.detail.productGroupEnabled\')" v-model="feed.productStreamFilterEnabled">\n                                    </sw-switch-field>\n\n                                <sw-entity-multi-select\n                                    entity="product_stream"\n                                    :entityCollection="dynamicProductGroups"\n                                    @change="setDynamicProductGroups">\n                                </sw-entity-multi-select>\n\n                                </sw-container>\n                            {% endblock %}\n                        </template>\n                    </sw-tabs>\n\n                {% endblock %}\n                </sw-card>\n            {% endblock %}\n\n            \x3c!-- execution mode --\x3e\n            {% block idowapro_feed_generator_execution_mode_card %}\n                <sw-card v-if="feed" :title="$t(\'product-feed.detail.titleExecution\')" :large="true"\n                         @change="resetFirstTry">\n                    <sw-container slot="grid" rows="auto auto">\n                        <sw-card-section divider="bottom">\n                            <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="30px 30px">\n                            {% block idowapro_feed_generator_exeution_mode_content %}\n                                <sw-select-field\n                                    :label="$t(\'product-feed.detail.executionMode\')"\n                                    v-model="feed.executionMode">\n                                    <option :value="item.value" v-for="(item, index) in formattedExecutionModes">\n                                        {{ item.label }}\n                                    </option>\n                                </sw-select-field>\n                                <sw-number-field\n                                    v-model="interval.time"\n                                    :label="$t(\'product-feed.detail.generateEvery\')"\n                                    :required="feed.executionMode == \'execution_type_cron\'"\n                                    :error="executionTimeError"\n                                    :disabled="feed.executionMode !== \'execution_type_cron\'">\n                                </sw-number-field>\n                                <sw-select-field\n                                v-model="interval.multiplicator"\n                                :disabled="feed.executionMode !== \'execution_type_cron\'"\n                                :label="$t(\'product-feed.detail.interval\')"\n                                >\n                                <option :value="item.value" v-for="(item, index) in timeIntervals">{{ item.label }}</option>\n                                </sw-select-field>\n                            {% endblock %}\n                           </sw-container>\n                        </sw-card-section>\n                    </sw-container>\n                </sw-card>\n            {% endblock %}\n\n            \x3c!-- Notifications --\x3e\n            {% block idowapro_feed_generator_notification_card %}\n                <sw-card v-if="feed" :title="$t(\'product-feed.detail.titleEmailAlert\')" :large="true">\n                    <sw-container slot="grid" rows="auto auto">\n                        <sw-card-section v-if="!isLoading" divider="bottom">\n                            <sw-container>\n                                {% block idowapro_feed_generator_notification_content %}\n                                    <sw-switch-field :label="$t(\'product-feed.detail.enabled\')"\n                                                     v-model="feed.notificationsEnabled"\n                                                     @change="resetFirstTry"\n                                    >\n                                    </sw-switch-field>\n\n                                    <sw-container rows="auto auto">\n                                        <sw-text-field\n                                            :copyable="false"\n                                            :copyableTooltip="false"\n                                            :label="$t(\'product-feed.detail.emailAddress\')"\n                                            v-model="feed.notificationAddresses"\n                                            :required="feed.notificationsEnabled === true"\n                                            :disabled="this.feed.notificationsEnabled !== true"\n                                            :error="emailAddressesError"\n                                            :helpText="$tc(\'product-feed.detail.separateWithCommas\')"\n                                            v-if="feed.notification"\n                                        >\n                                        </sw-text-field>\n                                    </sw-container>\n\n                                    <sw-multi-select\n                                        :label="$t(\'product-feed.detail.notificationEvents\')"\n                                        :options="formattedNotificationEvents"\n                                        :value="selectedMessageEvents"\n                                        v-model="feed.notificationEvents"\n                                        :required="feed.notificationsEnabled === true"\n                                        :error="emailEventsError"\n                                        :disabled="this.feed.notificationsEnabled !== true"\n                                    >\n                                    </sw-multi-select>\n                                {% endblock %}\n                            </sw-container>\n                        </sw-card-section>\n                    </sw-container>\n                </sw-card>\n            {% endblock %}\n\n                    \x3c!-- Delivery --\x3e\n            {% block idowapro_feed_generator_delivery_card %}\n            <sw-card v-if="feed" :title="$t(\'product-feed.detail.titleDelivery\')" :large="true">\n                <sw-container slot="grid" rows="auto auto">\n                    <sw-card-section v-if="!isLoading" divider="bottom">\n                        <sw-switch-field\n                            :label="$t(\'product-feed.detail.enabled\')"\n                            v-model="feed.deliveryEnabled"\n                            @change="resetFirstTry">\n                        </sw-switch-field>\n                        <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="30px 30px">\n                        {% block idowapro_feed_generator_delivery_content %}\n                        <sw-select-field\n                            :label="$t(\'product-feed.detail.deliveryProtocol\')"\n                            v-model="feed.fileTransferProtocol"\n                            :required="feed.deliveryEnabled === true"\n                            :disabled="feed.deliveryEnabled == false">\n                            <option\n                                :value="item.value"\n                                v-for="item in formattedFileTransferProtocols">\n                                {{ item.label }}\n                            </option>\n                        </sw-select-field>\n                        <sw-text-field\n                            :copyable="false"\n                            :copyableTooltip="false"\n                            :label="$t(\'product-feed.detail.hostUrl\')"\n                            v-model="feed.hostUrl"\n                            :required="feed.deliveryEnabled === true"\n                            :validation="feed.deliveryEnabled ?? required"\n                            :error="hostUrlError"\n                            :disabled="feed.deliveryEnabled == false"\n                        ></sw-text-field>\n                        <sw-text-field\n                            :copyable="false"\n                            :copyableTooltip="false"\n                            :label="$t(\'product-feed.detail.hostUsername\')"\n                            v-model="feed.hostUsername"\n                            :required="feed.deliveryEnabled === true"\n                            :validation="feed.deliveryEnabled ?? required"\n                            :error="hostUsernameError"\n                            :disabled="feed.deliveryEnabled == false"\n                        >\n                        </sw-text-field>\n                        <sw-password-field\n                            type="password"\n                            :label="$t(\'product-feed.detail.hostPassword\')"\n                            v-model="feed.hostPassword"\n                            :disabled="feed.deliveryEnabled == false"\n                            :required="feed.deliveryEnabled === true"\n                            :error="hostPasswordError"\n                        >\n                        </sw-password-field>\n                        <sw-text-field\n                            :copyable="false"\n                            :copyableTooltip="false"\n                            :label="$t(\'product-feed.detail.hostDirectoryPath\')"\n                            :disabled="feed.deliveryEnabled == false"\n                            v-model="feed.hostDirectoryPath"\n                            :required="feed.deliveryEnabled === true"\n                            :error="hostDirectoryError"\n                        >\n                        </sw-text-field>\n                {% endblock %}\n                    </sw-container>\n                    </sw-card-section>\n                </sw-container>\n                </sw-card>\n            {% endblock %}\n\n        </sw-card-view>\n    </template>\n</sw-page>\n'},B8fu:function(e,t,n){var r=n("KKDZ");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("35934a42",r,!0,{})},"Cm/U":function(e){e.exports=JSON.parse('{"product-feed":{"general":{"title":"Produktfeed Generator","description":"Hier können Sie Produkt Feeds verwalten","enabled":"Eingeschalten","disabled":"Ausgeschalten","notification_events_create_success":"Generieren erfolgreich","notification_events_create_error":"Generieren fehler","notification_events_delivery_success":"Versenden erfolgreich","notification_events_delivery_error":"Versenden fehler","execution_type_manual":"Manuell","execution_type_cron":"Automatisch generieren","file_type_csv":"CSV","file_type_txt":"TXT","file_type_xml":"XML","file_transfer_protocol_ftp":"FTP","file_transfer_protocol_sftp":"SFTP","week_key":"Woche","day_key":"Tag","hour_key":"Stunde","minute_key":"Minute","delivery_state_delivered":"Zugestellt","delivery_state_disabled":"Ausgeschalten","delivery_state_not_delivered_yet":"Noch nicht zugestellt","feed_state_error":"Fehler","feed_state_success":"Erfolgreich","errorOccurred":"Ein Fehler ist aufgetreten","success":"Erfolgreich","textRequired":"Dieses Feld darf nicht leer sein","error":"Fehler","errorSendingMail":"Fehler beim Versenden von E-Mails","errorDeliveringFeed":"Fehler beim Versenden des Feeds"},"list":{"addProductFeed":"Feed hinzufügen","name":"Name","enabled":"Eingeschalten","filename":"Dateiname","fileType":"Dateityp","executionType":"Ausführtyp","latestFile":"Letzte Datei","title":"Produkt Feeds","logs":"Logs","lastTimeGenerated":"Zuletzt generiert","nextGeneration":"Nächste Generierung","lastGeneratedLink":"Letzte generierte Datei"},"detail":{"title":"Produkt Feed","separateWithCommas":"Addressen getrennt durch Komma","titleGeneral":"Allgemein","titleTemplate":"Template","titleEmailAlert":"E-Mail Benachrichtigung","hostDirectoryPath":"Dateiupload Pfad","hostUsername":"Benutzername","hostPassword":"Passwort","executionMode":"Ausführmodus","titleExecution":"Ausführmodus","hostUrl":"Dateiupload URL","disabled":"Ausgeschalten","enabled":"Eingeschalten","titleDelivery":"Automatischer Dateiupload","emailAddress":"E-Mail Adresse","deliveryProtocol":"Dateiupload Protokoll","notificationEvents":"Benachrichtigungszeitpunkte","save":"Speichern","cancelButtonText":"Abbrechen","filename":"Dateiname","feedname":"Name","filetype":"Dateiformat","generateFeed":"Feed erstellen","titleFilter":"Filter","salesChannel":"Verkaufskanal","requiredFieldsAreEmpty":"Mindestens ein benötigtes Feld ist leer","error":"Fehler","feedWasGenerated":"Feed wurde erstellt","feedWasSaved":"Feed wurde gespeichert","generateEvery":"Zahlenwert","generateSuccess":"Feed was created successfully","manufacturers":"Hersteller","generateError":"Fehler beim erstellen des Productfeeds, in den Logs stehen weitere Details","overwriteCurrentData":"Bisherige Daten überschreiben?","overwriteCurrentDataMessage":"Möchten Sie die bisherigen Daten sicher überschreiben?","cancelOverwrite":"Abbrechen","overwrite":"Überschreiben","interval":"Intervall","seeDocumentation":"Mehr Informationen zu Templates: ","documentation":"Dokumentation","preSuggestion":"Ihr Dienstleister ist nicht dabei? Senden Sie uns Ihren Vorschlag ","linkSuggestion":"hier","afterSuggestion":"","chooseTemplateDescription":"Hier kann eine Standardvorlage ausgewählt werden","weeks":"keine Wochen | {count} Woche | {count} Wochen","days":"kein Tag | {count} Tag | {count} Tage","hours":"keine Stunden | {count} Stunde | {count} Stunden","minutes":"keine Minuten | {count} Minute | {count} Minuten","lastGeneratedFile":"Zuletzt generierte Datei: ","rule":"Regel","productGroup":"Dynamische Produktgruppe","ruleEnabled":"Filter Regel aktiviert","productGroupEnabled":"Filter dynamische Produktgruppe aktiviert","language":"Sprache","currency":"Währung","country":"Land"},"create":{"title":"Füge eine Feed hinzu","next":"Nächste","messageEvents":"Benachrichtigen wenn","titleProductFilter":"Produkt Filter","selectTemplate":"Vorlage auswählen","choose":"Auswählen","condition":{"productName":"Produkt Name","productPrice":"Produkt Preis","productId":"Produkt Id","productCategory":"Produkte einer Kategorie","categoryName":"Kategorie Name","manufacturerName":"Hersteller Name","active":"Aktiv","productEnabled":"Produkt aktiv"},"templates":{"google":"Google Shopping","idealo":"Idealo","empty":"Leeres Template"}},"logs":{"title":"Logs","back":"Zurück","message":"Nachricht","name":"Name","generationTimestamp":"Erstellzeitpunkt","state":"Status","detail":{"title":"Produkt Feed Log","back":"Zurück","titleGeneral":"Allgemein","name":"Name","file":"Datei","createdAt":"Erstellzeitpunkt","creationMode":"Erstellmodus","status":"Status","titleDelivery":"Automatischer Dateiupload","deliveryEnabled":"Automatischer Dateiupload aktiviert","titleNotification":"Benachrichtigung","message":"Nachricht","deliveryState":"Dateiupload Status","deliveryUrl":"Dateiupload URL","deliveryUsername":"Dateiupload Username","deliveryDirectory":"Dateiupload pfad","stackTrace":"Fehlerbeschreibung","directoryPublicFeedsHasNoWritePermissons":"Für das Verzeichnis /public/feeds existiert kein Schreibzugriff, bitte überprüfen Sie die Berechtigungen","directoryPublicFeedsCouldNotBeCreated":"Das Verzeichnis /public/feeds konnte nicht erstellt werden, bitte überprüfen Sie die Berechtigungen"}}},"global":{"error-codes":{"fieldMustNotBeEmpty":"Dieses Feld darf nicht leer sein"}}}')},KKDZ:function(e,t,n){},Sy3J:function(e,t){e.exports='\x3c!-- block name has to be exactly this to override a block in the rule component --\x3e\n{% block sw_condition_value_content %}\n    <div class="sw-condition-currency sw-condition__condition-value">\n        {% block idowapro_feed_generator_condition_product_operator %}\n            <sw-condition-operator-select v-bind="{ operators, condition }"></sw-condition-operator-select>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_product_multi_select %}\n            <sw-entity-multi-select\n                size="medium"\n                entity="value"\n                :entityCollection="values"\n                @change="setValueIds">\n            </sw-entity-multi-select>\n        {% endblock %}\n    </div>\n{% endblock %}\n'},UDRn:function(e,t,n){"use strict";function r(){var e={},t={lowerThanEquals:{identifier:"<=",label:"global.sw-condition.operator.lowerThanEquals"},equals:{identifier:"=",label:"global.sw-condition.operator.equals"},greaterThanEquals:{identifier:">=",label:"global.sw-condition.operator.greaterThanEquals"},notEquals:{identifier:"!=",label:"global.sw-condition.operator.notEquals"},greaterThan:{identifier:">",label:"global.sw-condition.operator.greaterThan"},lowerThan:{identifier:"<",label:"global.sw-condition.operator.lowerThan"},isOneOf:{identifier:"=",label:"global.sw-condition.operator.isOneOf"},isNoneOf:{identifier:"!=",label:"global.sw-condition.operator.isNoneOf"},gross:{identifier:!1,label:"global.sw-condition.operator.gross"},net:{identifier:!0,label:"global.sw-condition.operator.net"},empty:{identifier:"empty",label:"global.sw-condition.operator.empty"}},n={defaultSet:[t.equals,t.notEquals,t.greaterThanEquals,t.lowerThanEquals],singleStore:[t.equals,t.notEquals],multiStore:[t.isOneOf,t.isNoneOf],string:[t.equals,t.notEquals],bool:[t.equals],number:[t.equals,t.greaterThan,t.greaterThanEquals,t.lowerThan,t.lowerThanEquals,t.notEquals],date:[t.equals,t.greaterThan,t.greaterThanEquals,t.lowerThan,t.lowerThanEquals,t.notEquals],isNet:[t.gross,t.net],empty:[t.empty],zipCode:[t.isOneOf,t.greaterThan,t.greaterThanEquals,t.lowerThan,t.lowerThanEquals,t.isNoneOf]},r={shipping:{id:"shipping",name:"sw-settings-rule.detail.types.shipping"},payment:{id:"payment",name:"sw-settings-rule.detail.types.payment"},price:{id:"price",name:"sw-settings-rule.detail.types.price"}};return{getByType:o,addCondition:function(t,n){n.type=t,e[t]=n},getConditions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Object.values(e);null!==t&&(n=n.filter((function(e){return t.some((function(t){return-1!==e.scopes.indexOf(t)}))})));return n},addModuleType:function(e){r[e.id]=e},getModuleTypes:function(){return Object.values(r)},getOperatorSet:function(e){return n[e]},getOperatorSetByComponent:function(e){var t=e.config.componentName,r=e.type;if("sw-single-select"===t)return n.singleStore;if("sw-multi-select"===t)return n.multiStore;if("bool"===r)return n.bool;if("text"===r)return n.string;if("int"===r)return n.number;return n.defaultSet},getAndContainerData:function(){return{type:"andContainer",value:{}}},isAndContainer:i,getOrContainerData:function(){return{type:"orContainer",value:{}}},isOrContainer:a,getPlaceholderData:function(){return{type:null,value:{}}},getComponentByCondition:function(e){if(i(e))return"sw-condition-and-container";if(a(e))return"sw-condition-or-container";if(!e.type)return"sw-condition-base";var t=o(e.type);if(void 0===t||!t.component)return"sw-condition-not-found";return t.component},addEmptyOperatorToOperatorSet:function(e){return e.concat(n.empty)}};function o(t){return t?e[t]:o("placeholder")}function i(e){return"andContainer"===e.type}function a(e){return"orContainer"===e.type}}n.d(t,"a",(function(){return r}))},"UU/m":function(e,t){e.exports='<sw-page>\n    <template slot="smart-bar-header">\n        {% block idowapro_feed_generator_feed_list_smart_bar_header %}\n        <h2>{{ $tc(\'product-feed.list.title\') }}</h2>\n        {% endblock %}\n    </template>\n    <template slot="smart-bar-actions">\n        {% block idowapro_feed_generator_feed_list_smart_bar_actions %}\n        <sw-button :routerLink="{ name: \'product.feed.logs\' }">\n            {{ $tc(\'product-feed.list.logs\') }}\n        </sw-button>\n        <sw-button variant="primary" :routerLink="{ name: \'product.feed.create\' }">\n            {{ $tc(\'product-feed.list.addProductFeed\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    <template slot="content">\n        {% block idowapro_feed_generator_feed_list_block %}\n        <sw-entity-listing\n            v-if="feeds"\n            :repository="repository"\n            :columns="columns"\n            :items="feeds"\n            :isLoading="isLoading"\n            :fullPage="true"\n            detailRoute="product.feed.detail"\n        >\n            <template #column-lastGeneratedLink="{ item }">\n                <a v-if="item.latestFile" :href="\'./feeds/\' + item.linkToLastGenerated">{{ item.linkToLastGenerated }}</a>\n                <p v-else>---</p>\n            </template>\n        </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n\n\n'},abe4:function(e,t){e.exports='\x3c!-- block name has to be exactly this to override a block in the rule component --\x3e\n{% block sw_condition_value_content %}\n    <div class="sw-condition-last-name sw-condition__condition-value">\n        {% block idowapro_feed_generator_condition_product_name_operator %}\n            <sw-condition-operator-select v-bind="{ operators, condition }"></sw-condition-operator-select>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_product_name_text_field %}\n            <sw-text-field\n                size="medium"\n                disabled\n                v-model="value">\n            </sw-text-field>\n        {% endblock %}\n    </div>\n{% endblock %}\n'},la1W:function(e){e.exports=JSON.parse('{"product-feed":{"general":{"title":"Product feed generator","description":"Here you can edit your product feeds","enabled":"Enabled","disabled":"Disabled","notification_events_create_success":"Create Success","notification_events_create_error":"Create Error","notification_events_delivery_success":"Delivery Success","notification_events_delivery_error":"Delivery Error","execution_type_manual":"Manual","execution_type_cron":"Automatic generation","file_type_csv":"CSV","file_type_txt":"TXT","file_type_xml":"XML","file_transfer_protocol_ftp":"FTP","file_transfer_protocol_sftp":"SFTP","week_key":"Week","day_key":"Day","hour_key":"Hour","minute_key":"Minute","delivery_state_delivered":"Delivered","delivery_state_disabled":"Disabled","delivery_state_not_delivered_yet":"Not Delivered yet","feed_state_error":"Error","feed_state_success":"Success","errorOccurred":"An Error Occurred","success":"Success","textRequired":"This value should not be blank","error":"error","errorSendingMail":"failed sending email","errorDeliveringFeed":"error sending the feed"},"list":{"addProductFeed":"Add Feed","name":"Name","enabled":"Enabled","filename":"Filename","fileType":"File Type","executionType":"Execution Type","latestFile":"Latest File","title":"Product Feeds","logs":"Logs","lastTimeGenerated":"Last Time Generated","nextGeneration":"Next generation","lastGeneratedLink":"Last generated"},"detail":{"title":"Product Feed","separateWithCommas":"Separate addresses with commas","titleGeneral":"General","titleTemplate":"Template","titleEmailAlert":"Email Notification","hostDirectoryPath":"Host Direcory Path","hostUsername":"Host Username","hostPassword":"Host Password","executionMode":"Execution Mode","titleExecution":"Execution Mode","hostUrl":"Host Url","disabled":"Disabled","enabled":"Enabled","titleDelivery":"Automatic file upload","emailAddress":"Email Address","deliveryProtocol":"File upload protocol","notificationEvents":"Notification Events","save":"Save","cancelButtonText":"Cancel","filename":"File Name","feedname":"Name","filetype":"File type","generateFeed":"Generate Feed","titleFilter":"Filter","salesChannel":"Sales Channel","requiredFieldsAreEmpty":"At least one required field is empty","error":"Error","feedWasGenerated":"Feed was generated","feedWasSaved":"Feed was saved","generateEvery":"Generate every","generateSuccess":"Feed wurde erfolgreich erstellt","manufacturers":"Manufacturer","generateError":"Error while creating product feed, see logs for more details","overwriteCurrentData":"Overwrite current data?","overwriteCurrentDataMessage":"Are you sure, you want to overwrite the current data?","cancelOverwrite":"Cancel Overwrite","overwrite":"Overwrite","interval":"Interval","seeDocumentation":"For more information about templates: ","documentation":"Documentation","preSuggestion":"Your serivce provider is not here? Send us your suggestion ","linkSuggestion":"here","afterSuggestion":"","chooseTemplateDescription":"Here you can choose a default template","weeks":"no weeks | {count} week | {count} weeks","days":"no days | {count} day | {count} days","hours":"no hours | {count} hour | {count} hours","minutes":"no minutes | {count} minute | {count} minutes","lastGeneratedFile":"Last generated file: ","rule":"Rule","productGroup":"Dynamic product groups","ruleEnabled":"Filter rule enabled","productGroupEnabled":"Filter dynamic product group","language":"Language","currency":"Currency","country":"Country"},"create":{"title":"Add a Product Feed","next":"Next","messageEvents":"Message When","titleProductFilter":"Product Filter","selectTemplate":"Choose template","choose":"Auswählen","condition":{"productName":"Product Name","productPrice":"Product Price","productId":"Product Id","productCategory":"Products of Category","categoryName":"Category Name","manufacturerName":"Manufacturer Name","active":"Active","productEnabled":"Product active"},"templates":{"google":"Google Shopping","idealo":"Idealo","empty":"Empty template"}},"logs":{"title":"Logs","back":"Back","message":"Message","name":"Name","generationTimestamp":"Generation Timestamp","state":"State","detail":{"title":"Product Feed Log","back":"Back","titleGeneral":"General","name":"Name","file":"File","createdAt":"Creation Timestamp","creationMode":"Creation Mode","status":"Status","titleDelivery":"File upload","deliveryEnabled":"Delivery Enabled","titleNotification":"Notifications","message":"Message","deliveryState":"File upload state","deliveryUrl":"File upload URL","deliveryUsername":"File upload username","deliveryDirectory":"File upload directory","stackTrace":"Error stack trace","directoryPublicFeedsHasNoWritePermissons":"Directory /public/feeds is not writeable, please set write permissons to this directory to create feeds","directoryPublicFeedsCouldNotBeCreated":"Directory /public/feeds could not be created, please check permissons"}}},"global":{"error-codes":{"fieldMustNotBeEmpty":"This value should not be blank"}}}')},u4LB:function(e,t){e.exports='\x3c!-- block name has to be exactly this to override a block in the rule component --\x3e\n{% block sw_condition_value_content %}\n    <div class="sw-condition-last-name sw-condition__condition-value">\n        {% block idowapro_feed_generator_condition_product_id_operator %}\n            <sw-condition-operator-select v-bind="{ operators, condition }"></sw-condition-operator-select>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_product_id_text_field %}\n            <sw-text-field\n                size="medium"\n                v-model="value">\n            </sw-text-field>\n        {% endblock %}\n    </div>\n{% endblock %}\n'},uDHC:function(e,t,n){"use strict";n.r(t);var r=n("7I4t"),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Shopware.Component,d=c.getComponentHelper().mapPropertyErrors;c.extend("productfeed-condition-product-name","sw-condition-base",{template:o.a,computed:a(a({operators:function(){return this.conditionDataProviderService.getOperatorSet("string")},value:{get:function(){return this.ensureValueExist(),this.condition.value.value},set:function(e){this.ensureValueExist(),this.condition.value=a(a({},this.condition.value),{},{value:e})}}},d("condition",["value.operator","value.productName"])),{},{currentError:function(){return this.conditionValueOperatorError||this.conditionValueLastNameError}})});var l=n("/rL6"),u=n.n(l);n("B8fu");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Shopware.Component,v=h.getComponentHelper().mapPropertyErrors;h.extend("productfeed-condition-product-price","sw-condition-base",{template:u.a,data:function(){return{showFilterModal:!1}},computed:f(f({operators:function(){return this.conditionDataProviderService.getOperatorSet("number")},value:{get:function(){return this.ensureValueExist(),this.condition.value.value},set:function(e){this.ensureValueExist(),this.condition.value=f(f({},this.condition.value),{},{value:e})}}},v("condition",["value.operator","value.price"])),{},{currentError:function(){return this.conditionValueOperatorError||this.conditionValueAmountError}})});var g=n("Sy3J"),y=n.n(g);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Shopware,k=x.Component,E=x.Context,P=k.getComponentHelper().mapPropertyErrors,S=Shopware.Data,O=S.EntityCollection,C=S.Criteria;k.extend("productfeed-condition-product-category","sw-condition-base",{template:y.a,inheritAttrs:!1,inject:["repositoryFactory"],created:function(){this.createdComponent()},data:function(){return{values:null}},computed:w(w({categoryRepository:function(){return this.repositoryFactory.create("category")},operators:function(){return this.conditionDataProviderService.getOperatorSet("multiStore")},valueIds:{get:function(){return this.ensureValueExist(),this.condition.value.values||[]},set:function(e){this.ensureValueExist(),this.condition.value=w(w({},this.condition.value),{},{values:e})}}},P("condition",["value.operator","value.valueIds"])),{},{currentError:function(){return this.conditionValueOperatorError||this.conditionValueValueIdsError}}),methods:{createdComponent:function(){var e=this;if(this.values=new O(this.categoryRepository.route,this.categoryRepository.entityName,E.api),this.valueIds.length<=0)return Promise.resolve();var t=new C;return t.setIds(this.valueIds),this.categoryRepository.search(t,E.api).then((function(t){e.values=t}))},setValueIds:function(e){this.valueIds=e.getIds(),this.values=e}}});var T=n("u4LB"),F=n.n(T);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=Shopware.Component,M=j.getComponentHelper().mapPropertyErrors;j.extend("productfeed-condition-product-id","sw-condition-base",{template:F.a,computed:$($({operators:function(){return this.conditionDataProviderService.getOperatorSet("string")},value:{get:function(){return this.ensureValueExist(),this.condition.value.value},set:function(e){this.ensureValueExist(),this.condition.value=$($({},this.condition.value),{},{value:e})}}},M("condition",["value.operator","value.id"])),{},{currentError:function(){return this.conditionValueOperatorError||this.conditionValueLastNameError}})});var A=n("3qrl"),I=n.n(A);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=Shopware.Component,B=q.getComponentHelper().mapPropertyErrors;q.extend("productfeed-condition-category-name","sw-condition-base",{template:I.a,computed:L(L({operators:function(){return this.conditionDataProviderService.getOperatorSet("string")},value:{get:function(){return this.ensureValueExist(),this.condition.value.value},set:function(e){this.ensureValueExist(),this.condition.value=L(L({},this.condition.value),{},{value:e})}}},B("condition",["value.operator","value.categoryName"])),{},{currentError:function(){return this.conditionCategoryOperatorError||this.conditionValueCategoryNameError}})});var V=n("ymQz"),U=n.n(V);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=Shopware.Component,K=Z.getComponentHelper().mapPropertyErrors;Z.extend("productfeed-condition-manufacturer-name","sw-condition-base",{template:U.a,computed:W(W({operators:function(){return this.conditionDataProviderService.getOperatorSet("string")},value:{get:function(){return this.ensureValueExist(),this.condition.value.value},set:function(e){this.ensureValueExist(),this.condition.value=W(W({},this.condition.value),{},{value:e})}}},K("condition",["value.operator","value.categoryName"])),{},{currentError:function(){return this.conditionCategoryOperatorError||this.conditionValueCategoryNameError}})});var J=n("abe4"),X=n.n(J);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=Shopware.Component,ne=te.getComponentHelper().mapPropertyErrors;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oe(i,r,o,a,s,"next",e)}function s(e){oe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}te.extend("productfeed-condition-product-enabled","sw-condition-base",{template:X.a,computed:Y(Y({operators:function(){return this.conditionDataProviderService.getOperatorSet("string")},value:{get:function(){return this.value=this.$tc("product-feed.create.condition.active"),this.$tc("product-feed.create.condition.active")},set:function(e){this.ensureValueExist(),this.condition.value=Y(Y({},this.condition.value),{},{value:e})}}},ne("condition",["value.operator","value.productName"])),{},{currentError:function(){return this.conditionValueOperatorError||this.conditionValueLastNameError}})});var pe=Shopware.Classes.ApiService,fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(s,e);var t,n,r,o,i,a=de(s);function s(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"productfeed";return ae(this,s),(n=a.call(this,e,t,r)).fetchEnums(),n}return t=s,(n=[{key:"generateFeed",value:function(e){var t=this.getBasicHeaders();return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/generate/").concat(e),{headers:t}).then((function(e){return pe.handleResponse(e)}))}},{key:"fetchEnums",value:(i=ie(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.promises=[],t=this.getBasicHeaders(),this.promises.push(this.httpClient.get("_action/".concat(this.getApiBasePath(),"/getDeliveryStates"),{headers:t}).then((function(e){return pe.handleResponse(e)})).then((function(e){return n.deliveryStates=e}))),this.promises.push(this.httpClient.get("_action/".concat(this.getApiBasePath(),"/getExecutionTypes"),{headers:t}).then((function(e){return pe.handleResponse(e)})).then((function(e){return n.executionTypes=e}))),this.promises.push(this.httpClient.get("_action/".concat(this.getApiBasePath(),"/getFeedStates"),{headers:t}).then((function(e){return pe.handleResponse(e)})).then((function(e){return n.feedStates=e}))),this.promises.push(this.httpClient.get("_action/".concat(this.getApiBasePath(),"/getFileTransferProtocols"),{headers:t}).then((function(e){return pe.handleResponse(e)})).then((function(e){return n.fileTransferProtocols=e}))),this.promises.push(this.httpClient.get("_action/".concat(this.getApiBasePath(),"/getFileTypes"),{headers:t}).then((function(e){return pe.handleResponse(e)})).then((function(e){return n.fileTypes=e}))),this.promises.push(this.httpClient.get("_action/".concat(this.getApiBasePath(),"/getNotificationEvents"),{headers:t}).then((function(e){return pe.handleResponse(e)})).then((function(e){return n.notificationEvents=e})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"wait",value:(o=ie(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.promises);case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"formatExecutionType",value:function(e){switch(e){case"execution_type_manual":return"product-feed.general.execution_type_manual";case"execution_type_cron":return"product-feed.general.execution_type_cron";default:console.warn(e)}}},{key:"formatFeedState",value:function(e){switch(e){case"feed_state_success":return"product-feed.general.success";case"feed_state_error":return"product-feed.general.feed_state_error";default:console.warn(e)}}},{key:"formatFileTransferProtocol",value:function(e){switch(e){case"file_transfer_protocol_ftp":return"product-feed.general.file_transfer_protocol_ftp";case"file_transfer_protocol_sftp":return"product-feed.general.file_transfer_protocol_sftp";default:console.warn(e)}}},{key:"formatNotificationEvents",value:function(e){switch(e){case"notification_events_create_success":return"product-feed.general.notification_events_create_success";case"notification_events_create_error":return"product-feed.general.notification_events_create_error";case"notification_events_delivery_success":return"product-feed.general.notification_events_delivery_success";case"notification_events_delivery_error":return"product-feed.general.notification_events_delivery_error";default:console.warn(e)}}},{key:"formatExecutionMode",value:function(e){switch(e){case"execution_type_manual":return"product-feed.general.execution_type_manual";case"execution_type_cron":return"product-feed.general.execution_type_cron"}}},{key:"formatFileType",value:function(e){switch(e){case"file_type_csv":return"product-feed.general.file_type_csv";case"file_type_txt":return"product-feed.general.file_type_txt";case"file_type_xml":return"product-feed.general.file_type_xml";default:console.warn(e)}}},{key:"formatFileTypeRaw",value:function(e){switch(e){case"file_type_csv":return"csv";case"file_type_txt":return"txt";case"file_type_xml":return"xml";default:console.warn(e)}}},{key:"formatDeliveryState",value:function(e){switch(e){case"delivery_state_disabled":return"product-feed.general.delivery_state_disabled";case"delivery_state_delivered":return"product-feed.general.delivery_state_delivered";case"delivery_state_error":return"product-feed.general.delivery_state_error";case"delivery_state_not_delivered_yet":return"product-feed.general.delivery_state_not_delivered_yet";default:console.warn(e)}}},{key:"formatInteval",value:function(e){var t=e/1e3/60;if(t<60)return{minutes:parseInt(t,10)};var n=t/60;if(n<24)return(t%=60)>0?{hours:parseInt(n,10),minutes:parseInt(t,10)}:{hours:n};var r=n/24;if(r<7)return(n%=24)>0?{days:parseInt(r,10),hours:parseInt(n,10)}:{days:parseInt(r,10)};var o=r/7;return(r%=7)>0?{weeks:parseInt(o,10),days:parseInt(r,10)}:{weeks:parseInt(o,10)}}},{key:"getNotificationEvents",value:function(){return this.notificationEvents}},{key:"getExecutionModes",value:function(){return this.executionTypes}},{key:"getFileTypes",value:function(){return this.fileTypes}},{key:"getDeliveryStates",value:function(){return this.deliveryStates}},{key:"getFileTransferProtocols",value:function(){return this.fileTransferProtocols}},{key:"formatTimestamp",value:function(e){return new Date(e).toLocaleString()}}])&&se(t.prototype,n),r&&se(t,r),s}(pe);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){he(i,r,o,a,s,"next",e)}function s(e){he(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Shopware.Application.addServiceProvider("productfeed",(function(e){var t=Shopware.Application.getContainer("init");return new fe(t.httpClient,e.loginService)}));var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(c,e);var t,n,r,o,i,a,s=we(c);function c(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"productfeed";return ge(this,c),(n=s.call(this,e,t,r)).fetchGoogleTemplate(),n}return t=c,(n=[{key:"fetchDefaults",value:(a=ve(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="google"===e.t0?3:"idealo"===e.t0?6:"empty"===e.t0?9:10;break;case 3:return e.next=5,this.fetchGoogleTemplate();case 5:return e.abrupt("return",e.sent.data);case 6:return e.next=8,this.fetchIdealoTemplate();case 8:return e.abrupt("return",e.sent.data);case 9:return e.abrupt("return","");case 10:throw"no template found";case 11:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchGoogleTemplate",value:(i=ve(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getBasicHeaders(),e.next=3,this.httpClient.get("_action/".concat(this.getApiBasePath(),"/googleTemplate"),{headers:t});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"fetchIdealoTemplate",value:(o=ve(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getBasicHeaders(),e.next=3,this.httpClient.get("_action/".concat(this.getApiBasePath(),"/idealoTemplate"),{headers:t});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}])&&ye(t.prototype,n),r&&ye(t,r),c}(Shopware.Classes.ApiService);Shopware.Application.addServiceProvider("template",(function(e){var t=Shopware.Application.getContainer("init");return new ke(t.httpClient,e.loginService)}));var Ee=n("UDRn"),Pe=Shopware.Application;Pe.addServiceProvider("feedConditionDataProviderService",(function(){return Object(Ee.a)()})),Pe.addServiceProviderDecorator("feedConditionDataProviderService",(function(e){return e.addCondition("product-name",{component:"productfeed-condition-product-name",label:"product-feed.create.condition.productName",scopes:["global"]}),e.addCondition("product-id",{component:"productfeed-condition-product-id",label:"product-feed.create.condition.productId",scopes:["global"]}),e.addCondition("product-price",{component:"productfeed-condition-product-price",label:"product-feed.create.condition.productPrice",scopes:["global"]}),e.addCondition("product-category",{component:"productfeed-condition-product-category",label:"product-feed.create.condition.productCategory",scopes:["global"]}),e.addCondition("category-name",{component:"productfeed-condition-category-name",label:"product-feed.create.condition.categoryName",scopes:["global"]}),e.addCondition("manufacturer-name",{component:"productfeed-condition-manufacturer-name",label:"product-feed.create.condition.manufacturerName",scopes:["global"]}),e.addCondition("product-enabled",{component:"productfeed-condition-product-enabled",label:"product-feed.create.condition.productEnabled",scopes:["global"]}),e}));var Se=n("Cm/U"),Oe=n("la1W");Shopware.Module.register("product-feed",{color:"#57D9A3",icon:"default-shopping-paper-bag-product",title:"product-feed.general.title",description:"product-feed.general.description",name:"product-feed-plugin",type:"plugin",snippets:{"de-DE":Se,"en-GB":Oe},routes:{list:{component:"product-feed-list",path:"list"},detail:{component:"product-feed-detail",path:"detail/:id",meta:{parentPath:"product.feed.list"}},create:{component:"product-feed-create",path:"create"},logs:{component:"product-feed-logs",path:"logs"},logDetails:{component:"product-feed-logsDetail",path:"logsDetails/:id",meta:{parentPath:"product.feed.logs"}}},navigation:[{label:"product-feed.general.title",color:"#57D9A3",path:"product.feed.list",position:100,parent:"sw-catalogue"}]});var Ce=n("UU/m"),Te=n.n(Ce);function Fe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var De,$e,Re=Shopware.Data.Criteria;Shopware.Component.register("product-feed-list",{template:Te.a,inject:["repositoryFactory","productfeed"],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{repository:null,fileRepository:null,feeds:null,isLoading:!0}},created:(De=regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.repository=this.repositoryFactory.create("productfeed_productfeed"),this.fileRepository=this.repositoryFactory.create("productfeed_file"),t=new Re,e.next=5,this.repository.search(t,Shopware.Context.api);case 5:this.feeds=e.sent,this.feeds.forEach((function(e){e.formattedFileType=n.$tc(n.productfeed.formatFileType(e.filetype));var t=new Re(1,1);t.addFilter(Re.equals("productfeedId",e.id)),t.addSorting(Re.sort("createdAt","DESC")),n.fileRepository.search(t,Shopware.Context.api).then((function(t){var r=t[0];r?(e.formattedLastTimeGenerated=n.productfeed.formatTimestamp(r.createdAt),e.latestFile=r):e.formattedLastTimeGenerated="--",n.addIntervalToFeed(e),n.addNextGeneration(e),n.addLastGeneratedLink(e)}))})),this.isLoading=!1;case 8:case"end":return e.stop()}}),e,this)})),$e=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=De.apply(e,t);function i(e){Fe(o,n,r,i,a,"next",e)}function a(e){Fe(o,n,r,i,a,"throw",e)}i(void 0)}))},function(){return $e.apply(this,arguments)}),computed:{columns:function(){return[{property:"name",dataIndex:"name",label:this.$t("product-feed.list.name"),allowResize:!0,primary:!0},{property:"lastGeneratedLink",dataIndex:"name",label:this.$t("product-feed.list.lastGeneratedLink"),allowResize:!0},{property:"formattedLastTimeGenerated",dataIndex:"filename",label:this.$t("product-feed.list.lastTimeGenerated"),allowResize:!0},{property:"nextGeneration",dataIndex:"filename",label:this.$t("product-feed.list.nextGeneration"),allowResize:!0},{property:"formattedExecutionType",dataIndex:"executionMode",label:this.$t("product-feed.list.executionType"),allowResize:!0}]}},methods:{addIntervalToFeed:function(e){if("execution_type_cron"===e.executionMode){var t=this.productfeed.formatInteval(e.interval),n="";t.weeks&&(n&&(n+=", "),n+=this.$tc("product-feed.detail.weeks",t.weeks)),t.days&&(n&&(n+=", "),n+=this.$tc("product-feed.detail.days",t.days)),t.hours&&(n&&(n+=", "),n+=this.$tc("product-feed.detail.hours",t.hours)),t.minutes&&(n&&(n+=", "),n+=this.$tc("product-feed.detail.minutes",t.minutes)),n="("+n+")",e.formattedExecutionType=this.$tc(this.productfeed.formatExecutionType(e.executionMode))+" "+n}else e.formattedExecutionType=this.$tc(this.productfeed.formatExecutionType(e.executionMode))},addNextGeneration:function(e){"execution_type_manual"!==e.executionMode?null!=e.latestFile?e.nextGeneration=new Date(new Date(e.latestFile.createdAt).getTime()+e.interval).toLocaleString():e.nextGeneration=new Date(new Date(e.createdAt).getTime()+e.interval).toLocaleString():e.nextGeneration="--"},addLastGeneratedLink:function(e){e.linkToLastGenerated=e.filename+"."+this.productfeed.formatFileTypeRaw(e.filetype)}}});var je=n("AObi"),Me=n.n(je);n("04c8");function Ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ne(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ie(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ge(i,r,o,a,s,"next",e)}function s(e){Ge(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=Shopware.Data.Criteria,We=Shopware,He=We.Context,Ze=We.Mixin,Ke=We.Component.getComponentHelper().mapPropertyErrors;function Je(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}Shopware.Component.register("product-feed-detail",{template:Me.a,inject:["repositoryFactory","feedConditionDataProviderService","productfeed","template"],mixins:[Ze.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{repository:null,fileRepository:null,productfeedProductStreamRepository:null,productStreamRepository:null,isLoading:!1,feed:null,interval:{},email:{},selectedMessageEvents:null,conditions:null,processSuccess:!1,rule:null,deletedIds:[],generateSuccess:!1,firstTry:!0,loaded:!1,salesChannel:null,manufacturers:null,showPopover:!1,showDiscardChangesModal:!1,tempTemplateData:null,latestFile:null,dynamicProductGroups:[]}},created:function(){this.createdComponent()},computed:Ve(Ve({},Ke("feed",["name","filename"])),{},{templateError:function(){return this.checkErrorFunction(this.feed.template)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},hostUrlError:function(){return!1===this.feed.deliveryEnabled||this.checkErrorFunction(this.feed.hostUrl)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},hostUsernameError:function(){return!1===this.feed.deliveryEnabled||this.checkErrorFunction(this.feed.hostUsername)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},hostPasswordError:function(){return!1===this.feed.deliveryEnabled||this.checkErrorFunction(this.feed.hostPassword)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},hostDirectoryError:function(){return!1===this.feed.deliveryEnabled||this.checkErrorFunction(this.feed.hostDirectoryPath)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},emailAddressesError:function(){return!this.feed.notificationsEnabled||this.checkErrorFunction(this.feed.notificationAddresses)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},emailEventsError:function(){return!this.feed.notificationsEnabled||this.checkErrorFunction(this.feed.notificationEvents)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},executionTimeError:function(){return!this.feed.executionMode.includes("cron")||this.checkErrorFunction(this.interval.time)?null:{detail:"product-feed.general.textRequired",code:"fieldMustNotBeEmpty"}},manualExecutionMode:function(){return this.productfeed.getExecutionModes().find((function(e){return e.includes("manual")}))},ruleRepository:function(){return this.repositoryFactory.create("rule")},availableModuleTypes:function(){return this.ruleConditionDataProviderService.getModuleTypes((function(e){return e}))},moduleTypes:{get:function(){return this.rule&&this.rule.moduleTypes?this.rule.moduleTypes.types:[]},set:function(e){null!==e&&0!==e.length?this.rule.moduleTypes={types:e}:this.rule.moduleTypes=null}},timeIntervals:function(){return[{label:this.$tc("product-feed.general.week_key"),value:6048e5},{label:this.$tc("product-feed.general.day_key"),value:864e5},{label:this.$tc("product-feed.general.hour_key"),value:36e5},{label:this.$tc("product-feed.general.minute_key"),value:6e4}]},detailMode:function(){return Boolean(this.$route.params.id)},formattedNotificationEvents:function(){var e=this;return this.productfeed.getNotificationEvents().map((function(t){var n={};return n.label=e.$tc(e.productfeed.formatNotificationEvents(t)),n.value=t,n}))},formattedExecutionModes:function(){var e=this;return this.productfeed.getExecutionModes().map((function(t){var n={};return n.label=e.$tc(e.productfeed.formatExecutionMode(t)),n.value=t,n}))},formattedFileTypes:function(){var e=this;return this.productfeed.getFileTypes().map((function(t){var n={};return n.label=e.$tc(e.productfeed.formatFileType(t)),n.value=t,n}))},formattedFileTransferProtocols:function(){var e=this;return this.productfeed.getFileTransferProtocols().map((function(t){var n={};return n.label=e.$tc(e.productfeed.formatFileTransferProtocol(t)),n.value=t,n}))},conditionRepository:function(){return this.rule?this.repositoryFactory.create(this.rule.conditions.entity,this.rule.conditions.source):null},nameCriteria:function(){var e=new ze;return e.addSorting(ze.sort("name","ASC")),e}}),methods:{createdComponent:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.repository=e.repositoryFactory.create("productfeed_productfeed"),e.notificationRepository=e.repositoryFactory.create("productfeed_notification"),e.fileRepository=e.repositoryFactory.create("productfeed_file"),n=e.repositoryFactory.create("product_manufacturer"),e.productfeedProductStreamRepository=e.repositoryFactory.create("productfeed_product_stream"),e.productStreamRepository=e.repositoryFactory.create("product_stream"),r=e.repositoryFactory.create("sales_channel"),e.salesChannel=r.search(new ze,Shopware.Context.api),t.next=10,n.search(new ze,Shopware.Context.api);case 10:return e.manufacturers=t.sent,e.$route.params.id||e.showTemplateModal(),t.next=14,e.productfeed.wait();case 14:return t.next=16,e.getFeed();case 16:return t.next=18,e.loadDynamicProductGroups();case 18:return t.next=20,e.salesChannel;case 20:e.salesChannel=t.sent,e.feed.salesChannel=e.salesChannel[0].id,e.loaded=!0,e.isLoading=!1;case 24:case"end":return t.stop()}}),t)})))()},getFeed:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$route.params.id){t.next=2;break}return t.abrupt("return");case 2:return(n=new ze).addFilter(ze.equals("id",e.$route.params.id)),n.addAssociation("productfeedProductStreams.productStream"),t.next=7,e.repository.search(n,Shopware.Context.api);case 7:return e.feed=t.sent.first(),(n=new ze).addFilter(ze.equals("productfeedId",e.feed.id)),r=e.notificationRepository.search(n,Shopware.Context.api),e.fillInterval(),e.feed.notification={},e.updateLatestFile(),o=e.productfeed.getNotificationEvents(),e.feed.notificationEvents=[],e.feed.messageWhenCreateSuccess&&e.feed.notificationEvents.push(o.find((function(e){return e.includes("create")&&e.includes("success")}))),e.feed.messageWhenCreateError&&e.feed.notificationEvents.push(o.find((function(e){return e.includes("create")&&e.includes("error")}))),e.feed.messageWhenDeliverySuccess&&e.feed.notificationEvents.push(o.find((function(e){return e.includes("delivery")&&e.includes("success")}))),e.feed.messageWhenDeliveryError&&e.feed.notificationEvents.push(o.find((function(e){return e.includes("delivery")&&e.includes("error")}))),e.feed.notificationAddresses="",t.next=23,r;case 23:t.sent.forEach((function(t,n){0!==n&&(e.feed.notificationAddresses+=","),e.feed.notificationAddresses+=t.emailAddress})),e.feed.ruleId?(e.ruleId=e.feed.ruleId,e.loadEntityData(e.feed.ruleId)):e.createRule();case 26:case"end":return t.stop()}}),t)})))()},showTemplateModal:function(){this.showPopover=!0},closeModal:function(){this.showPopover=!1},selectTemplate:function(e){var t=this;return qe(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.template.fetchDefaults(e);case 2:if(r=n.sent,!(t.feed.name||t.feed.filename||t.feed.template)){n.next=6;break}return t.openDiscardChangesModal(r),n.abrupt("return");case 6:t.feed.name=r.name,t.feed.filename=r.filename,t.feed.template=r.template,t.feed.countryId=r.countryId,t.feed.currencyId=r.currencyId,t.feed.languageId=r.languageId,t.closeModal();case 13:case"end":return n.stop()}}),n)})))()},openDiscardChangesModal:function(e){var t=this;this.closeModal(),this.$nextTick((function(){t.tempTemplateData=e,t.showDiscardChangesModal=!0}))},closeDiscardChangesModal:function(){this.closeModal(),this.showDiscardChangesModal=!1,this.showTemplateData=null},deleteChanges:function(){var e=this.tempTemplateData;this.feed.name=e.name,this.feed.filename=e.filename,this.feed.template=e.template,this.showDiscardChangesModal=!1,this.showTemplateData=null},createRule:function(){this.rule=this.ruleRepository.create(He.api),this.conditions=this.rule.conditions},loadEntityData:function(e){var t=this;return this.isLoading=!0,this.conditions=null,this.ruleRepository.get(e,He.api).then((function(e){return t.rule=e,t.loadConditions()}))},loadConditions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t)return this.conditionRepository.search(new ze,He.api).then((function(t){return e.loadConditions(t)}));if(t.total<=t.length)return this.conditions=t,Promise.resolve();var n=new ze(t.criteria.page+1,t.criteria.limit);return this.conditionRepository.search(n,t.context).then((function(n){return t.push.apply(t,Ie(n)),t.criteria=n.criteria,t.total=n.total,e.loadConditions(t)}))},conditionsChanged:function(e){var t=e.conditions,n=e.deletedIds;this.conditionTree=t,this.deletedIds=[].concat(Ie(this.deletedIds),Ie(n)),this.rule.conditions=t},saveFeed:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.checkBeforeRequest()){t.next=2;break}return t.abrupt("return");case 2:if(e.isLoading=!0,!e.detailMode){t.next=6;break}return t.next=6,e.removeOldNotifications();case 6:if(!(n=e.generateProductFilter())){t.next=26;break}return e.feed.filter=n,e.feed.ruleId=e.rule.id,e.rule.priority=1,e.rule.name=e.feed.name+"_feed_generator_rule",e.feed.rule=e.rule,t.prev=13,t.next=16,e.ruleRepository.save(e.rule,Shopware.Context.api);case 16:e.loadEntityData(e.feed.ruleId),t.next=24;break;case 19:return t.prev=19,t.t0=t.catch(13),e.createNotificationError({title:e.$tc("product-feed.general.error"),message:e.$tc("product-feed.general.errorOccurred")}),e.isLoading=!1,t.abrupt("return");case 24:t.next=29;break;case 26:e.feed.rule=null,e.feed.ruleId=null,e.feed.filter=null;case 29:return e.feed.interval=e.interval.time*e.interval.multiplicator,e.feed.hostDirectory=e.feed.hostDirectoryPath,e.feed.notificationsEnabled&&e.setNotificationsToFeed(),t.prev=32,t.next=35,e.repository.save(e.feed,Shopware.Context.api);case 35:t.next=42;break;case 37:return t.prev=37,t.t1=t.catch(32),e.createNotificationError({title:e.$tc("product-feed.general.error"),message:e.$tc("product-feed.detail.requiredFieldsAreEmpty")}),e.isLoading=!1,t.abrupt("return");case 42:if(t.prev=42,!e.feed.notificationsEnabled||!e.feed.notificationAddresses){t.next=50;break}r=e.feed.notificationAddresses.split(","),o=[],i=Ae(r);try{for(i.s();!(a=i.n()).done;)s=a.value,(c=e.notificationRepository.create(Shopware.Context.api)).emailAddress=s,c.enabled=!0,c.productfeedId=e.feed.id,o.push(e.notificationRepository.save(c,Shopware.Context.api))}catch(e){i.e(e)}finally{i.f()}return t.next=50,Promise.all(o);case 50:t.next=57;break;case 52:return t.prev=52,t.t2=t.catch(42),e.createNotificationError({title:e.$tc("product-feed.general.error"),message:e.$tc("product-feed.general.errorOccurred")}),e.isLoading=!1,t.abrupt("return");case 57:return t.next=59,e.saveProductStream();case 59:if(e.createNotificationSuccess({title:e.$tc("product-feed.general.success"),message:e.$tc("product-feed.detail.feedWasSaved")}),e.detailMode){t.next=63;break}return e.$router.push({name:"product.feed.detail",params:{id:e.feed.id}}),t.abrupt("return");case 63:return e.rule=null,e.ruleId=null,t.next=67,e.getFeed();case 67:e.isLoading=!1;case 68:case"end":return t.stop()}}),t,null,[[13,19],[32,37],[42,52]])})))()},saveProductStream:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new ze).addFilter(ze.equals("productfeedId",e.feed.id)),t.next=4,e.productfeedProductStreamRepository.search(n,Shopware.Context.api);case 4:return r=t.sent,t.next=7,Promise.all(r.map((function(t){return e.productfeedProductStreamRepository.delete(t.id,Shopware.Context.api)})));case 7:return o=[],e.dynamicProductGroups.forEach((function(t){var n=e.productfeedProductStreamRepository.create(Shopware.Context.api);n.productfeedId=e.feed.id,n.productStreamId=t.id,o.push(e.productfeedProductStreamRepository.save(n,Shopware.Context.api))})),t.next=11,Promise.all(o);case 11:case"end":return t.stop()}}),t)})))()},removeOldNotifications:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new ze).addFilter(ze.equals("productfeedId",e.feed.id)),t.next=4,e.notificationRepository.search(n,Shopware.Context.api);case 4:return r=t.sent,o=[],r.forEach((function(t){return o.push(e.notificationRepository.delete(t.id,Shopware.Context.api))})),t.next=9,Promise.all(o);case 9:case"end":return t.stop()}}),t)})))()},onBtnGenerate:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.productfeed.generateFeed(e.feed.id);case 4:e.createNotificationSuccess({title:e.$tc("global.default.success"),message:e.$tc("product-feed.detail.generateSuccess")}),e.generateSuccess=!0,e.updateLatestFile(),setTimeout((function(){return e.generateSuccess=!1}),2e3),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0.response.data.data?e.createNotificationError({title:e.$tc("global.default.error"),message:e.$tc(t.t0.response.data.data)}):e.createNotificationError({title:e.$tc("global.default.error"),message:e.$tc("product-feed.detail.generateError")});case 13:return t.prev=13,e.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})))()},saveFinish:function(){this.processSuccess=!1},checkBeforeRequest:function(){return this.firstTry=!1,!!(this.checkError()&&this.feed.name&&this.feed.filename)&&(this.createNotificationError({title:this.$tc("product-feed.general.error"),message:this.$tc("product-feed.detail.requiredFieldsAreEmpty")}),!0)},generateProductFilter:function(){var e,t=this.rule.conditions[0];if(!t)return null;for(;;){if("andContainer"!==t.type&&"orContainer"!==t.type){if(t.type){e=!0;break}e=!1;break}if(!t.children[0]){e=!1;break}t=t.children[0]}return this.rule.conditions[0]&&e?this.resolveCondition(this.rule.conditions[0]):null},resolveCondition:function(e){var t=this,n={};return"andContainer"===e.type?(n.and=[],e.children.forEach((function(e){n.and.push(t.resolveCondition(e))}))):"orContainer"===e.type?(n.or=[],e.children.forEach((function(e){n.or.push(t.resolveCondition(e))}))):(n.type=e.type,n.operator=e.value.operator,n.value=e.value.value,n.value||(n.value=e.value.values)),n},fillInterval:function(){var e=this.feed.interval/60/1e3,t=e/60,n=t/24,r=n/7;this.isInt(r)?(this.interval.time=r,this.interval.multiplicator=this.timeIntervals[0].value.toString()):this.isInt(n)?(this.interval.time=n,this.interval.multiplicator=this.timeIntervals[1].value.toString()):this.isInt(t)?(this.interval.time=t,this.interval.multiplicator=this.timeIntervals[2].value.toString()):this.isInt(e)&&(this.interval.time=e,this.interval.multiplicator=this.timeIntervals[3].value.toString())},isInt:function(e){return e%1==0},setNotificationsToFeed:function(){this.feed.notificationEvents&&(this.feed.messageWhenCreateSuccess=this.feed.notificationEvents.indexOf("notification_events_create_success")>=0,this.feed.messageWhenCreateError=this.feed.notificationEvents.indexOf("notification_events_create_error")>=0,this.feed.messageWhenDeliverySuccess=this.feed.notificationEvents.indexOf("notification_events_delivery_success")>=0,this.feed.messageWhenDeliveryError=this.feed.notificationEvents.indexOf("notification_events_delivery_error")>=0)},checkError:function(){return null!==this.executionTimeError||null!==this.emailEventsError||null!==this.emailAddressesError||null!==this.hostDirectoryError||null!==this.hostPasswordError||null!==this.hostUsernameError||null!==this.hostUrlError||null!==this.templateError},checkErrorFunction:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.push(this.firstTry),t.some((function(e){return!!e}))},resetFirstTry:function(){this.firstTry=!0},updateLatestFile:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new ze).addFilter(ze.equals("productfeedId",e.feed.id)),n.addSorting(ze.sort("createdAt","DESC")),t.next=5,e.fileRepository.search(n,Shopware.Context.api);case 5:r=t.sent,e.latestFile=r.first();case 7:case"end":return t.stop()}}),t)})))()},loadDynamicProductGroups:function(){var e=this;return qe(regeneratorRuntime.mark((function t(){var n,r,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.feed.productfeedProductStreams&&0!==e.feed.productfeedProductStreams.length){t.next=8;break}return n=new ze(1,1),t.next=4,e.productStreamRepository.search(n,Shopware.Context.api);case 4:return(r=t.sent).pop(),e.setDynamicProductGroups(r),t.abrupt("return");case 8:return(o=new ze).addAssociation("productStream"),o.addFilter(ze.equalsAny("id",e.feed.productfeedProductStreams.getIds())),t.next=13,e.productfeedProductStreamRepository.search(o,Shopware.Context.api);case 13:return i=t.sent,a=i.map((function(e){return e.productStreamId})),(o=new ze).addFilter(ze.equalsAny("id",a)),t.next=19,e.productStreamRepository.search(o,Shopware.Context.api);case 19:s=t.sent,e.setDynamicProductGroups(s);case 21:case"end":return t.stop()}}),t)})))()},setDynamicProductGroups:function(e){this.dynamicProductGroups=e}}}),Shopware.Component.extend("product-feed-create","product-feed-detail",{template:Me.a,methods:{getFeed:function(){var e=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Je(i,r,o,a,s,"next",e)}function s(e){Je(i,r,o,a,s,"throw",e)}a(void 0)}))}}(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.feed=e.repository.create(Shopware.Context.api),e.feed.enabled=!0,e.feed.deliveryEnabled=!1,e.feed.notificationsEnabled=!1,e.feed.notification={},e.feed.fileTransferProtocol=e.productfeed.getFileTransferProtocols()[0],e.feed.filetype=e.productfeed.getFileTypes()[0],e.feed.executionMode=e.productfeed.getExecutionModes()[0],e.interval.time=1,e.interval.multiplicator=36e5.toString(),e.feed.ruleFilterEnabled=!1,e.feed.productStreamFilterEnabled=!1,t.next=14,e.salesChannel;case 14:e.salesChannel=t.sent,e.feed.salesChannelId=e.salesChannel[0].id,e.createRule();case 17:case"end":return t.stop()}}),t)})))()}}});var Xe=n("wdML"),Qe=n.n(Xe);function Ye(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var et=Shopware.Data.Criteria;Shopware.Component.register("product-feed-logs",{template:Qe.a,inject:["repositoryFactory","productfeed"],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{repository:null,logs:null,isLoading:!0}},created:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ye(i,r,o,a,s,"next",e)}function s(e){Ye(i,r,o,a,s,"throw",e)}a(void 0)}))}}(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.repository=this.repositoryFactory.create("productfeed_file"),e.next=3,this.repository.search(new et,Shopware.Context.api);case 3:this.logs=e.sent,this.logs.forEach((function(e){e.createdAt=t.productfeed.formatTimestamp(e.createdAt),e.message=t.$tc(e.message)})),this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),computed:{columns:function(){return[{property:"name",dataIndex:"name",label:this.$t("product-feed.logs.name"),allowResize:!0},{property:"createdAt",dataIndex:"createdAt",label:this.$t("product-feed.logs.generationTimestamp"),allowResize:!0},{property:"message",dataIndex:"message",label:this.$t("product-feed.logs.message"),allowResize:!0}]}},methods:{formatFileType:function(e){switch(e){case"file_type_xml":return"xml";case"file_type_csv":return"csv";case"file_type_txt":return"txt"}}}});var tt=n("9TZF"),nt=n.n(tt);function rt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rt(i,r,o,a,s,"next",e)}function s(e){rt(i,r,o,a,s,"throw",e)}a(void 0)}))}}Shopware.Data.Criteria;var it=Shopware;it.Component,it.Mixin,it.Context;Shopware.Component.register("product-feed-logsDetail",{template:nt.a,inject:["repositoryFactory","productfeed"],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{repository:null,isLoading:!0,log:null}},created:function(){var e=ot(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createdComponent();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),computed:{logfile:function(){if(!this.isLoading)return this.log.fileName},createdAtTimestampFormatted:function(){return new Date(this.log.createdAt).toLocaleString()},creationMode:function(){return this.$tc(this.productfeed.formatExecutionType(this.log.executionType))},feedstatus:function(){return this.$tc(this.productfeed.formatFeedState(this.log.state))},deliveryEnabled:function(){return this.log.deliveryEnabled?"enabled":"disabled"},deliveryProtocol:function(){return this.productfeed.formatFileTransferProtocol(this.log.deliveryProtocol)}},watch:{},methods:{createdComponent:function(){var e=this;return ot(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.repository=e.repositoryFactory.create("productfeed_file"),t.next=3,e.getLog();case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},getLog:function(){var e=this;return ot(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.repository.get(e.$route.params.id,Shopware.Context.api);case 2:e.log=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}})},wdML:function(e,t){e.exports='<sw-page>\n    <template slot="smart-bar-header">\n        {% block idowapro_feed_generator_logs_list_smart_bar_header %}\n        <h2>{{ $tc(\'product-feed.logs.title\') }}</h2>\n        {% endblock %}\n    </template>\n    <template slot="smart-bar-actions">\n        {% block idowapro_feed_generator_logs_list_smart_bar_actions %}\n        <sw-button :routerLink="{ name: \'product.feed.list\' }">\n            {{ $tc(\'product-feed.logs.back\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    <template slot="content">\n        {% block idowapro_feed_generator_logs_list_content %}\n        <sw-entity-listing\n            v-if="logs"\n            :repository="repository"\n            :columns="columns"\n            :items="logs"\n            :fullPage="true"\n            :isLoading="isLoading"\n            detailRoute="product.feed.logDetails"\n        >\n        </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n'},ymQz:function(e,t){e.exports='\x3c!-- block name has to be exactly this to override a block in the rule component --\x3e\n{% block sw_condition_value_content %}\n    <div class="sw-condition-manufacturer-name sw-condition__condition-value">\n        {% block idowapro_feed_generator_condition_manufacturer_name_operator %}\n            <sw-condition-operator-select v-bind="{ operators, condition }"></sw-condition-operator-select>\n        {% endblock %}\n\n        {% block idowapro_feed_generator_condition_manufacturer_name_text_field %}\n            <sw-text-field\n                size="medium"\n                v-model="value">\n            </sw-text-field>\n        {% endblock %}\n    </div>\n{% endblock %}\n'}},[["uDHC","runtime","vendors-node"]]]);