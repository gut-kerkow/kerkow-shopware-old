(this.webpackJsonp=this.webpackJsonp||[]).push([["neti-next-easy-coupon"],{"+gsj":function(e,t){e.exports='{% block sw_product_detail_base_basic_info_card %}\n    <neti-easy-coupon-open-easy-coupon-product-link\n        :product="product"\n    ></neti-easy-coupon-open-easy-coupon-product-link>\n\n    {% parent %}\n{% endblock %}\n\n{% block sw_product_detail_base_price_form %}\n    <sw-alert variant="info" v-if="product && product.extensions && product.extensions.netiEasyCouponProduct">\n        {{ $t(\'neti-easy-coupon-product.detail.product.priceInformation\') }}\n    </sw-alert>\n\n    {% parent %}\n{% endblock %}'},"/xz3":function(e,t){e.exports='<sw-condition-tree\n        class="neti-easy-coupon--condition-tree"\n        :initialConditions="model.conditions"\n        :conditionRepository="conditionRepository"\n        :conditionDataProviderService="easyCouponRuleConditionService"\n        associationField="couponId"\n        :associationValue="model.id"\n        :rootCondition="null"\n        @conditions-changed="conditionsChanged">\n</sw-condition-tree>'},"0LRd":function(e,t){Shopware.Application.addServiceProviderDecorator("easyCouponRuleConditionService",(function(e){return e.addCondition("customerCustomerNumber",{component:"sw-condition-customer-number",label:"global.sw-condition.condition.customerNumberRule",scopes:["checkout"]}),e.addCondition("customerCustomerGroup",{component:"sw-condition-customer-group",label:"global.sw-condition.condition.customerGroupRule",scopes:["checkout"]}),e.addCondition("netiEasyCouponDateRange",{component:"sw-condition-date-range",label:"global.sw-condition.condition.dateRangeRule.label",scopes:["global"]}),e.addCondition("salesChannel",{component:"sw-condition-sales-channel",label:"global.sw-condition.condition.salesChannelRule",scopes:["global"]}),e.addCondition("cartLineItemInCategory",{component:"sw-condition-line-item-in-category",label:"global.sw-condition.condition.lineItemInCategoryRule",scopes:["lineItem"]}),e.addCondition("cartLineItem",{component:"sw-condition-line-item",label:"global.sw-condition.condition.lineItemRule",scopes:["lineItem"]}),e.addCondition("cartLineItemTotalPrice",{component:"sw-condition-line-item-total-price",label:"global.sw-condition.condition.lineItemTotalPriceRule",scopes:["lineItem"]}),e.addCondition("netiEasyCouponCartLineItemOfManufacturer",{component:"sw-condition-neti-easy-coupon-line-item-of-manufacturer",label:"global.sw-condition.condition.lineItemOfManufacturerRule",scopes:["lineItem"]}),e.addCondition("netiEasyCouponUsesPerCustomer",{component:"sw-condition-neti-easy-coupon-uses-per-customer",label:"global.sw-condition.condition.netiEasyCouponUsesPerCustomerRule",scopes:["global"]}),e.addCondition("netiEasyCouponCustomer",{component:"sw-condition-neti-easy-coupon-customer",label:"global.sw-condition.condition.netiEasyCouponCustomerRule",scopes:["global"]}),e.addCondition("netiEasyCouponTotalUses",{component:"sw-condition-neti-easy-coupon-total-uses",label:"global.sw-condition.condition.netiEasyCouponTotalUsesRule",scopes:["global"]}),e.addCondition("cartCartAmount",{component:"sw-condition-cart-amount",label:"global.sw-condition.condition.cartAmountRule",scopes:["cart"]}),e.addCondition("netiEasyCouponMailAddress",{component:"sw-condition-neti-easy-coupon-mail-address",label:"global.sw-condition.condition.netiEasyCouponMailAddressRule",scopes:["global"]}),e}))},"0cAn":function(e,t){e.exports='{% block sw_condition_value_content %}\n    <div class="sw-condition-sales-channel sw-condition__condition-value">\n        <sw-condition-operator-select\n                v-bind="{ operators, condition }"\n                :disabled="disabled"\n        ></sw-condition-operator-select>\n\n        <sw-entity-multi-select\n                size="medium"\n                entity="customer"\n                :disabled="disabled"\n                :entityCollection="customers"\n                @change="setCustomerIds"\n        >\n            <template #selection-label-property="{ item }">\n                <span class="sw-select-result__result-item-text">\n                    {{ item.firstName }} {{ item.lastName }}\n                </span>\n            </template>\n\n            <template #result-label-property="{ item, index }">\n                <slot name="result-label-property" v-bind="{ item, index }">\n                    <span class="sw-select-result__result-item-text">\n                        {{ item.firstName }} {{ item.lastName }}\n                    </span>\n                </slot>\n            </template>\n        </sw-entity-multi-select>\n    </div>\n{% endblock %}\n'},"21GM":function(e,t){e.exports='<sw-label variant="neutral" size="small" appearance="default" :ghost="false" :caps="false"\n          class="neti-powered-by">\n    Powered by "<a :href="pluginLink" target="_blank">{{ pluginName }}</a>" - <a href="https://netinventors.de/" target="_blank">Net Inventors GmbH</a>\n</sw-label>'},"36OD":function(e,t){e.exports='{% block sw_condition_value_content %}\n    <div class="sw-condition-neti-easy-coupon-mail-address sw-condition__condition-value">\n        <sw-condition-operator-select\n                v-bind="{ operators, condition }"\n                :disabled="disabled"\n        ></sw-condition-operator-select>\n\n        <sw-multi-tag-select\n            v-model="emails"\n        ></sw-multi-tag-select>\n    </div>\n{% endblock %}\n'},"3Lk1":function(e,t,n){var o=n("cXsU");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("73c750fa",o,!0,{})},"4IRh":function(e,t){e.exports='<div class="neti-easy-coupon-status" v-if="status">\n    <sw-alert variant="info">\n        \x3c!-- Absolute coupon --\x3e\n        <template v-if="status.valueType === 10010">\n            <p>\n                \x3c!-- General coupon --\x3e\n                <span\n                        v-if="status.voucherType === 40010"\n                        v-html="$t(\'neti-easy-coupon.detail.status.absolute.general\', { value: currency(status.value.total, status.currencyCode) })"\n                ></span>\n                \x3c!-- Individual coupon --\x3e\n                <span\n                        v-else-if="status.voucherType === 40020"\n                        v-html="$t(\'neti-easy-coupon.detail.status.absolute.individual\', { value: currency(status.value.total, status.currencyCode) })"\n                ></span>\n                <span v-html="$t(\'neti-easy-coupon.detail.status.absolute.redemptionValue\', { value: currency(status.value.redemption, status.currencyCode) })"></span>\n                <br />\n                <span v-html="$t(\'neti-easy-coupon.detail.status.absolute.remainingValue\', { value: currency(status.value.remaining, status.currencyCode) })"></span>\n            </p>\n\n            <p>\n                {{ $t(\'neti-easy-coupon.detail.status.redemptionCount\', { count: status.redemptionCount }) }}\n            </p>\n\n            <sw-progress-bar\n                    v-if="status.valueType === 10010"\n                    :value="status.value.redemption"\n                    :maxValue="status.value.total"\n            ></sw-progress-bar>\n        </template>\n\n        \x3c!-- Percentage coupon --\x3e\n        <template v-else-if="status.valueType === 10020">\n            \x3c!-- General coupon --\x3e\n            <template v-if="status.voucherType === 40010">\n                <p v-html="$t(\'neti-easy-coupon.detail.status.percentage.general\', { percentage: status.value })"></p>\n            </template>\n            \x3c!-- Individual coupon --\x3e\n            <template v-else-if="status.voucherType === 40020">\n                <p v-html="$t(\'neti-easy-coupon.detail.status.percentage.individual\', { percentage: status.value })"></p>\n            </template>\n\n            <p>\n                {{ $t(\'neti-easy-coupon.detail.status.redemptionCount\', { count: status.redemptionCount }) }}\n            </p>\n        </template>\n    </sw-alert>\n</div>'},"4XjB":function(e){e.exports=JSON.parse('{"neti-easy-coupon":{"navigation":{"mainMenuItemEasyCoupon":"EasyCoupon"},"general":{"mainMenuItemGeneral":"EasyCoupon","descriptionTextModule":"Manage your EasyCoupon vouchers."},"list":{"title":"Vouchers","buttonCreate":"create","messageEmpty":"No vouchers available","titleSidebarItemRefresh":"reload","contextMenuEdit":"edit","contextMenuDelete":"delete","modalTitleDelete":"delete voucher","textDeleteConfirm":"Are you sure you want to delete the voucher?","buttonCancel":"cancel","buttonDelete":"delete","column":{"active":"active","title":"Title","code":"Code","value":"Value","createdAt":"created","updatedAt":"changed"}},"detail":{"activeLabel":"active","activeHelpText":"Activates the voucher. Only active vouchers can be redeemed.","buttonCancel":"cancel","buttonSave":"save","codeLabel":"Code","codeHelpText":"Enter the voucher code here or generate a voucher code.","commentLabel":"Comment","commentHelpText":"Space for internal comments.","currencyLabel":"currency","currencyHelpText":"Choose the currency in which the voucher is managed.","discardRemainingLabel":"Residual value expires","discardRemainingHelpText":"Any remaining value of the voucher expires as soon as the voucher has been redeemed for the first time.","errorMessage":"The voucher could not be saved.","errorTitle":"Error","generateCodeBtn":"Generate","copyCodeBtn":"Copy to clipboard","maxRedemptionValueLabel":"Maximum redemption value per customer","maxRedemptionValueHelpText":"<p>Defines the absolute limit for a percentage deduction:</p><p>Example:</p><ul><li>10% voucher</li><li>max. Redemption value = 20 &euro;</li><li>Cart value 500 &euro;</li></ul><p>Usually your customer will get a deduction of 50 &euro;. Due to the max. redemption value, the deduction will be capped at 20 &euro;.</p>","orderPositionNumberLabel":"Product number on redemption","orderPositionNumberHelpText":"When the voucher is redeemed, this number is stored as a product number in the shopping cart position of the voucher.","successMessage":"The voucher was saved successfully.","successTitle":"Success","tagLabel":"Tag","tagHelpText":"Optionally, allocate a day for the voucher.","title":"Voucher","titleLabel":"Title","titleHelpText":"Choose a title for the voucher.","titlePlaceholder":"Voucher title","valueLabel":"Value","valueHelpText":"Add a value","combineVouchersLabel":"Combine voucher?","combineVouchersHelpText":"Decide here whether the voucher can be redeemed with other vouchers.","validUntilLabel":"Valid until (optional)","validUntilHelpText":"The voucher can be redeemed until the given date.","cardTitle":{"base":"Base data","conditions":"Conditions","conditionHelpText":"Define the conditions from when a voucher can be redeemed. If no conditions have been selected, the voucher can always be redeemed.","misc":"Others"},"tab":{"base":"Details","transactions":"Transactions"},"generateCode":{"errorTitle":"Error","errorMessage":"Unfortunately no code could be generated. Please try again."},"status":{"redemptionCount":"The coupon has already been redeemed {count} times.","absolute":{"general":"This <strong>general</strong> coupon has an <strong>absolute</strong> value of <strong>{value}</strong>.","individual":"This <strong>individual</strong> coupon has an <strong>absolute</strong> value of <strong>{value}</strong>.","redemptionValue":"Of these, <strong>{value}</strong> have already been redeemed.","remainingValue":"The residual value is <strong>{value}</strong>."},"percentage":{"general":"This <strong>general</strong> coupon has a <strong>percentage</strong> value of {percentage} percent.","individual":"This <strong>individual</strong> coupon has a <strong>percentage</strong> value of {percentage} percent."}},"copyCode":{"successTitle":"Success","successMessage":"The voucher code was successfully copied to the clipboard.","errorTitle":"Error","errorMessage":"The voucher code could not be copied to the clipboard."}},"transaction-list":{"buttonCreate":"New transaction","create-transaction":{"title":"New transaction","valueLabel":"Value","currencyLabel":"Currency","internCommentLabel":"Internal comment","buttonCreate":"Save","buttonCancel":"Cancel","successTitle":"Success","successMessage":"The transaction was saved successfully.","errorTitle":"Error","errorMessage":"The transaction could not be created."},"column":{"createdAt":"Date","id":"ID","value":"value","currency":"Currency","internComment":"Comment","orderNumber":"Order","username":"User","customer":"Customer"}},"price-field":{"currencyModalBtn":"Currency dependent prices","currency-modal":{"title":"edit currency","closeBtn":"close"}}}}')},"54T/":function(e,t){e.exports='{% block sw_data_grid_slot_action_modals %}\n    <sw-modal v-if="deleteId === item.id" @modal-close="closeModal" :title="$tc(\'global.default.warning\')" variant="small">\n        <p class="sw-listing__confirm-delete-text">\n            <slot name="delete-confirm-text" v-bind="{ item }">\n                {{ $tc(\'global.entity-components.deleteMessage\') }}\n            </slot>\n        </p>\n\n        <template #modal-footer>\n            <slot name="delete-modal-footer" v-bind="{ item }">\n                <slot name="delete-modal-cancel" v-bind="{ item }">\n                    <sw-button @click="closeModal" size="small">\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                </slot>\n\n                <slot name="delete-modal-delete-item" v-bind="{ item }">\n                    <sw-button @click="deleteItem(item)" variant="danger" size="small">\n                        {{ $tc(\'global.default.delete\') }}\n                    </sw-button>\n                </slot>\n            </slot>\n        </template>\n    </sw-modal>\n{% endblock %}'},"59a9":function(e,t,n){var o=n("DKQs");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("94ad6ac8",o,!0,{})},"5gyZ":function(e,t,n){var o=n("G/FC");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("75258148",o,!0,{})},"6Mmf":function(e,t,n){var o=n("sQSr");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("4a1054b5",o,!0,{})},"7PME":function(e,t,n){var o=n("G79D");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("78ba8b78",o,!0,{})},"7UbK":function(e,t,n){var o=n("aEEh");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("80026e40",o,!0,{})},"7l3E":function(e,t,n){var o=n("X9iV");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("38d4bbfe",o,!0,{})},"8DXu":function(e,t){e.exports='<sw-card\n        class="neti-easy-coupon-order-detail-vouchers"\n        :title="$t(\'neti-easy-coupon.order-detail.vouchersTitle\')"\n        :is-loading="isLoading"\n>\n    <template #grid>\n        <sw-data-grid\n            :dataSource="mappedData"\n            :columns="columns"\n            :showSelection="false"\n            :showActions="true"\n        >\n            <template #column-name="{ item }">\n                {{ item.label }}\n            </template>\n\n            <template #column-value="{ item }">\n                {{ item.unitPrice | currency(order.currency.shortName) }}\n            </template>\n\n            <template #column-code="{ item }">\n                {{ getCode(item) }}\n\n                <span class="unresolved-code" v-if="!getCode(item)">\n                    {{ $t(\'neti-easy-coupon.order-detail.voucherList.unresolvedCode\') }}\n\n                    <sw-help-text\n                        :text="$t(\'neti-easy-coupon.order-detail.voucherList.unresolvedCodeHelpText\')"\n                    ></sw-help-text>\n                </span>\n            </template>\n\n            <template #column-type="{ item }">\n                {{ $t(\'neti-easy-coupon.order-detail.voucherList.type.\' + getVoucherType(item)) }}\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item @click="onOpenVoucher(item)" :disabled="!getCode(item)">\n                    {{ $t(\'neti-easy-coupon.order-detail.voucherList.actionOpenVoucher\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-data-grid>\n    </template>\n</sw-card>'},"8LaC":function(e,t){e.exports='<sw-page class="neti-easy-coupon-list has--easy-coupon--sidebar-menu">\n\n    <template #search-bar>\n        <sw-search-bar\n                initialSearchType="neti_easy_coupon"\n                :initialSearch="term"\n                @search="onSearch"\n        >\n        </sw-search-bar>\n    </template>\n\n    <template #smart-bar-header>\n        <h2>\n            {{ $t(\'neti-easy-coupon.list.title\') }}\n\n            <span v-if="!isLoading" class="sw-page__smart-bar-amount">\n                ({{ total }})\n            </span>\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button variant="primary" :routerLink="{ name: \'neti.easy_coupon.create\' }">\n            {{ $t(\'neti-easy-coupon.list.buttonCreate\') }}\n        </sw-button>\n    </template>\n\n    <template #language-switch>\n        <sw-language-switch @on-change="getList"></sw-language-switch>\n    </template>\n\n    <template #content>\n        <neti-easy-coupon-sidebar-menu></neti-easy-coupon-sidebar-menu>\n\n        <div class="neti-easy-coupon-list__content">\n            <neti-easy-coupon-entity-listing\n                    v-if="data"\n                    :items="data"\n                    :columns="columns"\n                    :repository="repository"\n                    :showSelection="true"\n                    :isLoading="isLoading"\n                    @update-records="onUpdateRecords"\n            >\n                <template #column-active="{ item, compact }">\n                    <sw-icon\n                            v-if="item.active"\n                            name="small-default-checkmark-line-medium"\n                            small\n                            class="is--active"\n                    ></sw-icon>\n                    <sw-icon v-else name="small-default-x-line-medium" small class="is--inactive"></sw-icon>\n                </template>\n\n                <template #column-title="{ item, compact }">\n                    <router-link :to="{ name: \'neti.easy_coupon.detail\', params: { id: item.id } }">\n                        {{ placeholder(item, \'title\') }}\n                    </router-link>\n                </template>\n\n                <template #column-value="{ item }">\n                    {{ renderColumnValue(item) }}\n                </template>\n\n                <template #column-createdAt="{ item }">\n                    {{ item.createdAt | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\n                </template>\n\n                <template #column-updatedAt="{ item }">\n                    {{ item.updatedAt | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\n                </template>\n\n                <template #actions="{ item }">\n                    <sw-context-menu-item :routerLink="{ name: \'neti.easy_coupon.detail\', params: { id: item.id }}">\n                        {{ $t(\'neti-easy-coupon.list.contextMenuEdit\') }}\n                    </sw-context-menu-item>\n\n                    <sw-context-menu-item variant="danger" @click="onDelete(item.id)">\n                        {{ $t(\'neti-easy-coupon.list.contextMenuDelete\') }}\n                    </sw-context-menu-item>\n                </template>\n\n                <template #action-modals="{ item }">\n                    <sw-modal\n                            v-if="showDeleteModal === item.id"\n                            @modal-close="onCloseDeleteModal"\n                            :title="$t(\'neti-easy-coupon.list.modalTitleDelete\')"\n                            variant="small"\n                    >\n                        <p class="neti-easy-coupon-list__confirm-delete-text">\n                            {{ $t(\'neti-easy-coupon.list.textDeleteConfirm\', 0, { name: item.label }) }}\n                        </p>\n\n                        <template #modal-footer>\n                            <sw-button @click="onCloseDeleteModal" size="small">\n                                {{ $t(\'neti-easy-coupon.list.buttonCancel\') }}\n                            </sw-button>\n\n                            <sw-button @click="onConfirmDelete(item)" variant="primary" size="small">\n                                {{ $t(\'neti-easy-coupon.list.buttonDelete\') }}\n                            </sw-button>\n                        </template>\n                    </sw-modal>\n                </template>\n\n                <template #pagination>\n                    <sw-pagination\n                            :page="page"\n                            :limit="limit"\n                            :total="total"\n                            :total-visible="7"\n                            @page-change="onPageChange"\n                    >\n                    </sw-pagination>\n                </template>\n            </neti-easy-coupon-entity-listing>\n\n            <sw-empty-state\n                    v-if="!isLoading && !total"\n                    :title="$t(\'neti-easy-coupon.list.messageEmpty\')"\n            ></sw-empty-state>\n        </div>\n    </template>\n\n    <template #sidebar>\n        <sw-sidebar>\n            <sw-sidebar-item\n                    icon="default-arrow-360-left"\n                    :title="$t(\'neti-easy-coupon.list.titleSidebarItemRefresh\')"\n                    @click="onRefresh"\n            >\n            </sw-sidebar-item>\n        </sw-sidebar>\n    </template>\n</sw-page>\n'},"9bLs":function(e,t){e.exports='{% block sw_customer_detail_easy_coupon_vouchers_card %}\n    <sw-card class="neti-easy-coupon-customer-voucher-list">\n        <sw-alert v-if="isError" variant="error" appearance="notification" :showIcon="true" :closable="true">\n            {{ $t(\'neti-easy-coupon.customer.fetchingError\') }}\n        </sw-alert>\n\n        <template v-if="data">\n            <sw-entity-listing\n                    :items="data"\n                    :columns="columns"\n                    :repository="repository"\n                    :fullPage="false"\n                    :isLoading="isLoading"\n                    :showSelection="false"\n                    @update-records="onUpdateRecords"\n            >\n                <template #column-active="{ item, compact }">\n                    <sw-icon\n                            v-if="isVoucherPaid(item.id)"\n                            name="small-default-checkmark-line-medium"\n                            small\n                            class="is--active"\n                    ></sw-icon>\n                    <sw-icon v-else name="small-default-x-line-medium" small class="is--inactive"></sw-icon>\n                </template>\n\n                <template #column-title="{ item, compact }">\n                    <router-link :to="{ name: \'neti.easy_coupon.detail\', params: { id: item.id } }">\n                        {{ placeholder(item, \'title\') }}\n                    </router-link>\n                </template>\n\n                <template #column-value="{ item }">\n                    {{ renderColumnValue(item, \'value\') }}\n                </template>\n\n                <template #column-cashedValue="{ item }">\n                    {{ renderColumnValue(item, \'cashedValue\') }}\n                </template>\n\n                <template #column-restValue="{ item }">\n                    {{ renderColumnValue(item, \'restValue\') }}\n                </template>\n\n                <template #actions="{ item }">\n                    <sw-context-menu-item :routerLink="{ name: \'neti.easy_coupon.detail\', params: { id: item.id }}">\n                        {{ $t(\'neti-easy-coupon.list.contextMenuEdit\') }}\n                    </sw-context-menu-item>\n                </template>\n\n                <template #pagination>\n                    <sw-pagination\n                            :page="page"\n                            :limit="limit"\n                            :total="total"\n                            :total-visible="7"\n                            @page-change="onPageChange"\n                    ></sw-pagination>\n                </template>\n            </sw-entity-listing>\n\n        </template>\n\n        <template v-else>\n            <sw-alert variant="info" appearance="notification" :showIcon="true" :closable="false">\n                {{ $t(\'neti-easy-coupon.customer.noVouchersMessage\') }}\n            </sw-alert>\n        </template>\n\n        <neti-config-icon pluginName="NetiNextEasyCoupon" />\n        <neti-easy-coupon-powered-by pluginName="EasyCoupon" />\n    </sw-card>\n{% endblock %}'},"9cdj":function(e,t,n){var o=n("da79");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("973abf12",o,!0,{})},C8kQ:function(e,t){e.exports='<sw-modal\n        class="neti-easy-coupon-product-price-field-currency-modal"\n        :title="$t(\'neti-easy-coupon-product.price-field.currency-modal.title\')"\n        @modal-close="onClose"\n>\n\n    <div class="currency-list">\n        <div\n                class="currency-item"\n                v-for="(currency, key) in currencies"\n                :key="key"\n        >\n\n            <div class="item-name">\n                {{ currency.translated.name || currency.name }}\n            </div>\n\n            <div class="item-field">\n                <neti-easy-coupon-product-price-field\n                        :prices="prices"\n                        :valueType="valueType"\n                        :main="false"\n                        :currencyId="currency.id"\n                ></neti-easy-coupon-product-price-field>\n            </div>\n\n        </div>\n    </div>\n\n    <template #modal-footer>\n        <sw-button\n                variant="primary"\n                size="small"\n                @click="onClose"\n        >\n            {{ $t(\'neti-easy-coupon-product.price-field.currency-modal.closeBtn\') }}\n        </sw-button>\n    </template>\n\n</sw-modal>'},CPno:function(e,t){e.exports='<sw-page class="neti-easy-coupon-product-detail has--easy-coupon--sidebar-menu">\n    <template #smart-bar-header>\n        <h2>\n            {{ $t(\'neti-easy-coupon-product.detail.title\') }}\n        </h2>\n    </template>\n\n    <template #language-switch>\n        <sw-language-switch\n                :disabled="isCreateMode || productNotSaved"\n                :saveChangesFunction="saveOnLanguageChange"\n                :abortChangeFunction="abortOnLanguageChange"\n                @on-change="onChangeLanguage"\n        >\n        </sw-language-switch>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button :disabled="isLoading" @click="onAbortButtonClick">\n            {{ $t(\'neti-easy-coupon-product.detail.buttonCancel\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="isSaveSuccessful"\n                :disabled="isLoading"\n                variant="primary"\n                @process-finish="onSaveFinish"\n                @click.prevent="onSave"\n        >\n            {{ $t(\'neti-easy-coupon-product.detail.buttonSave\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <neti-easy-coupon-sidebar-menu></neti-easy-coupon-sidebar-menu>\n\n        <sw-card-view>\n\n            <sw-language-info\n                    :entityDescription="placeholder(model, \'title\', \'\')"\n            ></sw-language-info>\n\n            <sw-tabs>\n                <sw-tabs-item\n                        route="base"\n                        :title="$t(\'neti-easy-coupon-product.detail.tab.base\')"\n                >\n                    {{ $t(\'neti-easy-coupon-product.detail.tab.base\') }}\n                </sw-tabs-item>\n            </sw-tabs>\n\n            <router-view\n                    v-if="model"\n                    :model="model"\n                    :isCreateMode="isCreateMode"\n                    :repository="repository"\n            ></router-view>\n            <sw-loader v-else></sw-loader>\n\n        </sw-card-view>\n    </template>\n</sw-page>\n'},Cdoh:function(e,t){e.exports='<div class="neti-easy-coupon-voucher-type-select">\n    <sw-select-field\n            :value="currentValue"\n            @change="onChange"\n            :label="$t(\'neti-easy-coupon.voucher-type-select.label\')"\n            :disabled="disabled"\n            :helpText="$t(\'neti-easy-coupon.voucher-type-select.helpText\')"\n    >\n        <option v-for="type in options" :value="type">\n            {{ $t(\'neti-easy-coupon.voucher-types.\' + type) }}\n        </option>\n    </sw-select-field>\n</div>'},DKQs:function(e,t,n){},DS8m:function(e,t){e.exports='{% block sw_condition_value_content %}\n    <div class="sw-condition-neti-easy-coupon-uses-per-customer sw-condition__condition-value">\n        <sw-number-field\n                numberType="int"\n                :min="1"\n                v-model="value"\n        ></sw-number-field>\n    </div>\n{% endblock %}\n'},FoJb:function(e,t){e.exports='<sw-icon\n        name="default-action-settings"\n        class="neti-config-icon"\n        :small="true"\n        @click="onConfigOpen"\n        v-tooltip="{\n            message: $tc(\'neti-config-icon.tooltipText\'),\n            width: 200,\n            position: \'top\'\n          }"\n></sw-icon>'},"G/FC":function(e,t,n){},G3Rn:function(e,t){e.exports='<sw-page class="neti-easy-coupon-detail has--easy-coupon--sidebar-menu">\n    <template #smart-bar-header>\n        <h2>\n            {{ $t(\'neti-easy-coupon.detail.title\') }}\n        </h2>\n    </template>\n\n    <template #language-switch>\n        <sw-language-switch\n                :disabled="isCreateMode"\n                :saveChangesFunction="saveOnLanguageChange"\n                :abortChangeFunction="abortOnLanguageChange"\n                @on-change="onChangeLanguage"\n        >\n        </sw-language-switch>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button :disabled="isLoading" @click="onAbortButtonClick">\n            {{ $t(\'neti-easy-coupon.detail.buttonCancel\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="isSaveSuccessful"\n                :disabled="isLoading"\n                variant="primary"\n                @process-finish="onSaveFinish"\n                @click.prevent="onSave"\n        >\n            {{ $t(\'neti-easy-coupon.detail.buttonSave\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <neti-easy-coupon-sidebar-menu></neti-easy-coupon-sidebar-menu>\n\n        <sw-card-view>\n\n            <sw-language-info\n                    :entityDescription="placeholder(model, \'title\')"\n            ></sw-language-info>\n\n            <sw-tabs>\n                <sw-tabs-item\n                        route="base"\n                        :title="$t(\'neti-easy-coupon.detail.tab.base\')"\n                >\n                    {{ $t(\'neti-easy-coupon.detail.tab.base\') }}\n                </sw-tabs-item>\n                <sw-tabs-item\n                        route="transactions"\n                        :title="$t(\'neti-easy-coupon.detail.tab.transactions\')"\n                        :disabled="isCreateMode"\n                >\n                    {{ $t(\'neti-easy-coupon.detail.tab.transactions\') }}\n                </sw-tabs-item>\n            </sw-tabs>\n\n            <router-view\n                    v-if="model"\n                    :model="model"\n                    :isCreateMode="isCreateMode"\n                    @refresh="onRefresh"\n            ></router-view>\n            <sw-loader v-else></sw-loader>\n        </sw-card-view>\n    </template>\n</sw-page>\n'},G79D:function(e,t,n){},JjeD:function(e,t){e.exports='<sw-condition-tree\n        class="neti-easy-coupon--condition-tree"\n        :initialConditions="model.conditions"\n        :conditionRepository="conditionRepository"\n        :conditionDataProviderService="easyCouponRuleConditionService"\n        associationField="couponId"\n        :associationValue="model.id"\n        :rootCondition="null"\n        @conditions-changed="conditionsChanged">\n</sw-condition-tree>'},Kvpx:function(e,t){e.exports='<div class="neti-easy-coupon-detail-base">\n    <neti-easy-coupon-status></neti-easy-coupon-status>\n\n    <sw-card\n            :title="$t(\'neti-easy-coupon.detail.cardTitle.base\')"\n            v-if="model"\n    >\n\n        <sw-container columns="1fr auto" gap="15px">\n            <sw-field\n                    :label="$t(\'neti-easy-coupon.detail.titleLabel\')"\n                    type="text"\n                    v-model="model.title"\n                    :error="modelTitleError"\n                    :placeholder="placeholder(model, \'title\', $t(\'neti-easy-coupon.detail.titlePlaceholder\'))"\n                    :helpText="$t(\'neti-easy-coupon.detail.titleHelpText\')"\n            ></sw-field>\n\n            <sw-field\n                    type="switch"\n                    bordered\n                    :label="$t(\'neti-easy-coupon.detail.activeLabel\')"\n                    v-model="model.active"\n                    :helpText="$t(\'neti-easy-coupon.detail.activeHelpText\')"\n            ></sw-field>\n        </sw-container>\n\n        <sw-container\n                :columns="valueContainerColumns"\n                gap="15px"\n                ref="valueContainer"\n        >\n            <neti-easy-coupon-value-type-select\n                    v-model="model.valueType"\n                    :disabled="!isCreateMode"\n            ></neti-easy-coupon-value-type-select>\n\n            <neti-easy-coupon-value-field\n                    v-model="model.value"\n                    :disabled="!isCreateMode"\n                    :error="modelValueError"\n                    :currencyFactor="model.currencyFactor"\n                    :valueType="model.valueType"\n            ></neti-easy-coupon-value-field>\n\n            <sw-entity-single-select\n                    :label="$t(\'neti-easy-coupon.detail.currencyLabel\')"\n                    entity="currency"\n                    v-model="model.currencyId"\n                    :disabled="!isCreateMode"\n                    ref="currencySelect"\n                    :error="modelCurrencyIdError"\n                    :helpText="$t(\'neti-easy-coupon.detail.currencyHelpText\')"\n                    v-if="model.valueType !== 10020"\n            ></sw-entity-single-select>\n\n            <sw-field\n                    type="switch"\n                    bordered\n                    :label="$t(\'neti-easy-coupon.detail.discardRemainingLabel\')"\n                    v-model="model.discardRemaining"\n                    :helpText="$t(\'neti-easy-coupon.detail.discardRemainingHelpText\')"\n                    {# Note: The value of this field is handled by a corresponding "model.valueType" watcher. #}\n                    v-if="model.valueType !== 10020"\n            ></sw-field>\n        </sw-container>\n\n        <neti-easy-coupon-voucher-type-select\n                v-model="model.voucherType"\n                :disabled="!isCreateMode"\n        ></neti-easy-coupon-voucher-type-select>\n\n        <sw-alert variant="info" v-if="model.voucherType !== null">\n            <p v-html="valueTypeHelpText"></p>\n        </sw-alert>\n\n        <sw-container columns="1fr auto" gap="15px">\n            <sw-field\n                    :label="$t(\'neti-easy-coupon.detail.codeLabel\')"\n                    type="text"\n                    v-model="model.code"\n                    :error="modelCodeError || customApiErrors.neti_easy_coupon.code"\n                    :helpText="$t(\'neti-easy-coupon.detail.codeHelpText\')"\n                    :disabled="!isCreateMode"\n            ></sw-field>\n\n            <sw-button-process\n                    v-if="isCreateMode"\n                    class="neti-easy-coupon-generate-code-button"\n                    :disabled="isGeneratingCode"\n                    :isLoading="isGeneratingCode"\n                    :processSuccess="isGeneratingCodeSuccessful"\n                    @click.prevent="onGenerateCode"\n                    @process-finish="isGeneratingCodeSuccessful = false"\n            >\n                {{ $t(\'neti-easy-coupon.detail.generateCodeBtn\') }}\n            </sw-button-process>\n\n            <sw-button\n                    v-else\n                    class="neti-easy-coupon-copy-code-button"\n                    @click.prevent="onCopyCode"\n            >\n                {{ $t(\'neti-easy-coupon.detail.copyCodeBtn\') }}\n            </sw-button>\n        </sw-container>\n\n        <sw-container columns="1fr 1fr" gap="15px">\n            <sw-field\n                    :label="$t(\'neti-easy-coupon.detail.orderPositionNumberLabel\')"\n                    type="text"\n                    v-model="model.orderPositionNumber"\n                    :error="modelOrderPositionNumberError"\n                    :helpText="$t(\'neti-easy-coupon.detail.orderPositionNumberHelpText\')"\n            ></sw-field>\n\n            <neti-easy-coupon-price-field\n                    :main="true"\n                    :prices="model.maxRedemptionValue"\n                    :label="$t(\'neti-easy-coupon.detail.maxRedemptionValueLabel\')"\n                    :helpText="$t(\'neti-easy-coupon.detail.maxRedemptionValueHelpText\')"\n            ></neti-easy-coupon-price-field>\n        </sw-container>\n\n        <sw-container columns="1fr 1fr" gap="15px">\n            <sw-field\n                type="switch"\n                bordered\n                :label="$t(\'neti-easy-coupon.detail.combineVouchersLabel\')"\n                v-model="model.combineVouchers"\n                :helpText="$t(\'neti-easy-coupon.detail.combineVouchersHelpText\')"\n            ></sw-field>\n\n            <sw-datepicker\n                    dateType="datetime-local"\n                    :label="$t(\'neti-easy-coupon.detail.validUntilLabel\')"\n                    :helpText="$t(\'neti-easy-coupon.detail.validUntilHelpText\')"\n                    v-model="model.validUntil"\n            ></sw-datepicker>\n        </sw-container>\n\n        <neti-easy-coupon-cart-processor-priority-config\n                :coupon="model"\n        ></neti-easy-coupon-cart-processor-priority-config>\n    </sw-card>\n\n    <sw-card\n        :title="$t(\'neti-easy-coupon.detail.cardTitle.conditions\')"\n        v-if="model"\n    >\n        <sw-alert variant="info">\n            <p>{{$t(\'neti-easy-coupon.detail.cardTitle.conditionHelpText\')}}</p>\n        </sw-alert>\n\n        <neti-easy-coupon-condition-tree\n            :model="model"\n        ></neti-easy-coupon-condition-tree>\n    </sw-card>\n\n    <sw-card\n            :title="$t(\'neti-easy-coupon.detail.cardTitle.misc\')"\n            v-if="model"\n    >\n        <sw-entity-single-select\n                :label="$t(\'neti-easy-coupon.detail.tagLabel\')"\n                entity="tag"\n                v-model="model.tagId"\n                :helpText="$t(\'neti-easy-coupon.detail.tagHelpText\')"\n        ></sw-entity-single-select>\n\n        <sw-textarea-field\n                :label="$t(\'neti-easy-coupon.detail.commentLabel\')"\n                v-model="model.comment"\n                :helpText="$t(\'neti-easy-coupon.detail.commentHelpText\')"\n                :error="modelCommentError"\n        ></sw-textarea-field>\n    </sw-card>\n</div>'},LPtN:function(e,t,n){var o=n("nRzj");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("e38679ae",o,!0,{})},MTtU:function(e,t,n){var o=n("okI2");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("08400052",o,!0,{})},"N+Cw":function(e,t){e.exports='{% block sw_condition_value_content %}\n    <div class="sw-condition-neti-easy-coupon-total-uses sw-condition__condition-value">\n        <sw-number-field\n                numberType="int"\n                :min="1"\n                v-model="value"\n        ></sw-number-field>\n    </div>\n{% endblock %}\n'},PBRA:function(e,t,n){var o=n("r76v");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("0690ba20",o,!0,{})},PQ3k:function(e,t,n){var o=n("x0xy");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("7b04fe1c",o,!0,{})},ToTw:function(e,t){Shopware.Component.extend("sw-condition-neti-easy-coupon-line-item-of-manufacturer","sw-condition-line-item-of-manufacturer",{})},TvG6:function(e,t,n){},Tw8X:function(e,t){Shopware.Component.extend("neti-easy-coupon-tabs-item","sw-tabs-item",{props:{activeRoutePrefix:{type:Array,required:!1,default:function(){return[]}}},computed:{tabsItemClasses:function(){var e=this,t=this.$super("tabsItemClasses");return this.activeRoutePrefix.forEach((function(n){0===e.$route.name.indexOf(n)&&(t["sw-tabs-item--active"]=!0)})),t}}})},U4Wn:function(e,t){Shopware.Component.override("sw-product-detail",{computed:{productCriteria:function(){var e=this.$super("productCriteria");return e.addAssociation("netiEasyCouponProduct"),e}}})},Uw0g:function(e,t){e.exports='<sw-field\n        :label="$t(\'neti-easy-coupon.detail.valueLabel\')"\n        type="number"\n        :disabled="isDisabled"\n        :error="error"\n        :helpText="$t(\'neti-easy-coupon.detail.valueHelpText\')"\n        v-model="currentValue"\n></sw-field>'},Vpt4:function(e,t){Shopware.Component.extend("neti-easy-coupon-product-visibility-select","sw-product-visibility-select",{props:{mainProduct:{required:!0,type:Object}},computed:{product:function(){return this.mainProduct}}})},"W35+":function(e,t){e.exports='<div class="neti-easy-coupon-product-value-type-select">\n    <sw-select-field\n            :value="currentValue"\n            @change="onChange"\n            :label="$t(\'neti-easy-coupon.product-value-type-select.label\')"\n            :disabled="disabled"\n            :helpText="$t(\'neti-easy-coupon.product-value-type-select.helpText\')"\n    >\n        <option v-for="type in options" :value="type">\n            {{ $t(\'neti-easy-coupon.product-value-types.\' + type) }}\n        </option>\n    </sw-select-field>\n</div>'},WVmx:function(e,t){e.exports='<sw-modal\n        v-if="value"\n        :title="$t(\'neti-easy-coupon.discard-changes-modal.title\')"\n        @modal-close="onClose"\n>\n    <p>\n        {{ $t(\'neti-easy-coupon.discard-changes-modal.content\') }}\n    </p>\n\n    <template #modal-footer>\n        <sw-button\n                size="small"\n                @click="onClose"\n        >\n            {{ $t(\'neti-easy-coupon.discard-changes-modal.cancelButton\') }}\n        </sw-button>\n\n        <sw-button\n                variant="primary"\n                size="small"\n                @click="onConfirm"\n        >\n            {{ $t(\'neti-easy-coupon.discard-changes-modal.confirmButton\') }}\n        </sw-button>\n    </template>\n</sw-modal>'},X9iV:function(e,t,n){},X9im:function(e,t,n){var o=n("m2YN");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("6c016da0",o,!0,{})},XfGx:function(e,t,n){var o=n("jD8z");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("6c7f8336",o,!0,{})},YGWO:function(e,t,n){var o=n("qTKu");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("c91f6eb4",o,!0,{})},ZgPF:function(e){e.exports=JSON.parse('{"neti-easy-coupon-product":{"general":{"mainMenuItemGeneral":"Kaufgutscheine","descriptionTextModule":"Hier kannst Du Kaufgutscheine pflegen."},"list":{"title":"Kaufgutscheine","buttonCreate":"Hinzufügen","buttonCancel":"Abbrechen","buttonDelete":"Löschen","contextMenuEdit":"Bearbeiten","contextMenuDelete":"Löschen","modalTitleDelete":"Kaufgutschein löschen","textDeleteConfirm":"Bist Du sicher, dass Du den Kaufgutschein löschen möchtest? Bei Löschung des Kaufgutschein wird auch das dazugehörige Produkt gelöscht.","messageEmpty":"Keine Kaufgutscheine vorhanden","column":{"id":"ID","active":"Aktiv","title":"Titel","code":"Code","createdAt":"Hinzugefügt","updatedAt":"Bearbeitet","valueType":"Gutscheintyp"},"deleteMessage":"Soll der Eintrag wirklich gelöscht werden? Das dazugehörige Produkt wird ebenfalls gelöscht. | Sollen diese {count} Einträge wirklich gelöscht werden? Die dazugehörigen Produkte werden ebenfalls gelöscht."},"detail":{"title":"Kaufgutschein","buttonCancel":"Abbrechen","buttonSave":"Speichern","titleLabel":"Gutschein Titel bei Einlösung","titlePlaceholder":"Titel","discardRemainingLabel":"Restwert verfällt","orderPositionNumberLabel":"Bestellnummer bei Einlösung","errorTitle":"Fehler","errorMessage":"Der Kaufgutschein konnte nicht gespeichert werden.","successTitle":"Erfolg","successMessage":"Der Kaufgutschein wurde erfolgreich gespeichert.","titleHelpText":"Wird bei der Einlösung im Warenkorb angezeigt.","discardRemainingHelpText":"","orderPositionNumberHelpText":"","conditionInfo":"Die hier angegebenen Bedingungen werden später auf den erstellen Gutschein übertragen und haben keinen Einfluss auf den Bestellprozess des Kaufgutscheins.","combineVouchersLabel":"Kombinierbar mit weiteren Gutscheinen?","combineVouchersHelpText":"Können die durch den Kaufgutschein erstellten Gutscheinen mit weiteren EasyCoupon Gutscheinen kombinierbar werden?","validityTimeLabel":"Gültigkeit (optional)","validityTimeHelpText":"Definiert die Gültigkeitsdauer des Gutscheins, der später erstellt wird.","validityByEndOfYearLabel":"Gültig bis Ende des Jahres","validityByEndOfYearHelpText":"Wenn aktiviert, wird die Gültigkeitsdauer ab Ende des aktuellen Jahres anstelle des Kaufdatums berechnet.","validityTimeValues":{"0":"Keine Begrenzung","30":"30 Tage","90":"90 Tage","180":"6 Monate (180 Tage)","365":"1 Jahr","730":"2 Jahre","1095":"3 Jahre"},"tab":{"base":"Details"},"cardTitle":{"base":"Stammdaten","conditions":"Einlösebedingungen","product":"Produktkonfiguration"},"product":{"saveInfo":"Die Produkt-Konfiguration wird hier angezeigt, sobald der Kaufgutschein gespeichert wurde.","nameLabel":"Name","descriptionLabel":"Beschreibung","taxLabel":"Steuer-Konfiguration","isCloseoutLabel":"Abverkauf","shippingFreeLabel":"Produkt ist versandkostenfrei","categoriesLabel":"Produktkategorien","categoriesPlaceholder":"Produktkategorien","visibilitiesLabel":"Verkaufskanäle","visibilitiesPlaceholder":"Verkaufskanäle","tagsLabel":"Tags","tagsPlaceholder":"Tags","numberLabel":"Produkt-Nummer","stockLabel":"Bestand","priceHelpText":"","nameHelpText":"","numberHelpText":"","descriptionHelpText":"","taxHelpText":"","stockHelpText":"","isCloseoutHelpText":"","shippingFreeHelpText":"","categoriesHelpText":"","visibilitiesHelptext":"","tagsHelpText":"","priceInformation":"Bei Kaufgutscheinen des Typs \\"Definierte Werte und Individuelle Werte\\" ergibt sich der Preis aus der Gutscheinkonfiguration. Bei einem Gutschein des Typs \\"fester Wert\\" kannst du hier den Preis des Gutscheins ändern - der definierte Wert des Gutscheins wird dabei nicht angepasst."},"open-product-link":{"linkLabel":"Produkt öffnen"}},"price-field":{"valueLabel":"Wert","fromValueLabel":"Von","toValueLabel":"Bis","valuesLabel":"Werte","currencyModalBtn":"Währungsabhängige Werte","currency-modal":{"title":"Währungen pflegen","closeBtn":"Schließen"},"values-field":{"validMessage":"Wert hinzufügen","invalidMessage":"Bitte gebe einen numerischen Wert an"},"fromValueHelpText":"","toValueHelpText":"","valuesHelpText":"","valueHelpText":""}}}')},aEEh:function(e,t,n){},b0Mh:function(e,t,n){},bFII:function(e,t,n){var o=n("hHlc");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("5a61d984",o,!0,{})},bYSa:function(e,t){e.exports='<div class="neti-easy-coupon-product-price-field" v-if="price">\n    <template v-if="valueType === 20020">\n        <sw-container columns="1fr 1fr" gap="15px">\n            <sw-field\n                    :label="$t(\'neti-easy-coupon-product.price-field.fromValueLabel\')"\n                    type="number"\n                    v-model="price.from"\n                    :helpText="$t(\'neti-easy-coupon-product.price-field.fromValueHelpText\')"\n            ></sw-field>\n\n            <sw-field\n                    :label="$t(\'neti-easy-coupon-product.price-field.toValueLabel\')"\n                    type="number"\n                    v-model="price.to"\n                    :helpText="$t(\'neti-easy-coupon-product.price-field.toValueHelpText\')"\n            ></sw-field>\n        </sw-container>\n    </template>\n    <template v-else-if="valueType === 20030">\n        <sw-multi-tag-select\n                :label="$t(\'neti-easy-coupon-product.price-field.valuesLabel\')"\n                v-model="price.selectableValues"\n                :validMessage="$t(\'neti-easy-coupon-product.price-field.values-field.validMessage\')"\n                :invalidMessage="$t(\'neti-easy-coupon-product.price-field.values-field.invalidMessage\')"\n                :validate="onValidateValue"\n                :helpText="$t(\'neti-easy-coupon-product.price-field.valuesHelpText\')"\n        ></sw-multi-tag-select>\n    </template>\n    <template v-else>\n        <sw-field\n                :label="$t(\'neti-easy-coupon-product.price-field.valueLabel\')"\n                type="number"\n                v-model="price.gross"\n                :helpText="$t(\'neti-easy-coupon-product.price-field.valueHelpText\')"\n        ></sw-field>\n    </template>\n\n    <template v-if="main">\n        <a\n                class="currency-modal-button"\n                @click.prevent="currencyModal = true"\n        >\n            {{ $t(\'neti-easy-coupon-product.price-field.currencyModalBtn\') }}\n            <sw-icon name="default-arrow-simple-right" small></sw-icon>\n        </a>\n\n        <neti-easy-coupon-product-price-field-currency-modal\n                v-if="currencyModal"\n                :prices="prices"\n                :valueType="valueType"\n                @modal-close="onCurrencyModalClose"\n        ></neti-easy-coupon-product-price-field-currency-modal>\n    </template>\n</div>'},cXsU:function(e,t,n){},cp8w:function(e,t){e.exports='<div class="neti-easy-coupon-payment-status-select">\n    <sw-entity-multi-id-select\n            :label="label"\n            :helpText="helpText"\n            :repository="repository"\n            :criteria="criteria"\n            :ids="currentValue"\n            @change="onChange"\n    ></sw-entity-multi-id-select>\n</div>'},dDuT:function(e,t,n){},da79:function(e,t,n){},deAe:function(e,t,n){var o=n("b0Mh");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("3d4007ed",o,!0,{})},fu5W:function(e,t){e.exports='<div class="neti-easy-coupon-product-detail-base">\n    <sw-card\n            v-if="model"\n            :title="$t(\'neti-easy-coupon-product.detail.cardTitle.base\')"\n    >\n        <sw-field\n                :label="$t(\'neti-easy-coupon-product.detail.titleLabel\')"\n                type="text"\n                v-model="model.title"\n                :placeholder="placeholder(model, \'title\', $t(\'neti-easy-coupon-product.detail.titlePlaceholder\'))"\n                :error="modelTitleError"\n                :helpText="$t(\'neti-easy-coupon-product.detail.titleHelpText\')"\n        ></sw-field>\n\n        <sw-container columns="1fr 1fr" gap="15px">\n            <neti-easy-coupon-product-value-type-select\n                    v-model="model.valueType"\n            ></neti-easy-coupon-product-value-type-select>\n\n            <neti-easy-coupon-product-price-field\n                    :prices="model.value"\n                    :valueType="model.valueType"\n                    :main="true"\n            ></neti-easy-coupon-product-price-field>\n        </sw-container>\n\n        <sw-container columns="1fr 1fr" gap="15px">\n            <sw-field\n                    :label="$t(\'neti-easy-coupon-product.detail.orderPositionNumberLabel\')"\n                    type="text"\n                    v-model="model.orderPositionNumber"\n                    :error="modelOrderPositionNumberError"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.orderPositionNumberHelpText\')"\n            ></sw-field>\n\n\n            <sw-field\n                type="switch"\n                bordered\n                :label="$t(\'neti-easy-coupon-product.detail.combineVouchersLabel\')"\n                v-model="model.combineVouchers"\n                :helpText="$t(\'neti-easy-coupon-product.detail.combineVouchersHelpText\')"\n            ></sw-field>\n        </sw-container>\n\n        <sw-container columns="1fr 1fr" gap="15px">\n            <sw-select-number-field\n                    :label="$t(\'neti-easy-coupon-product.detail.validityTimeLabel\')"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.validityTimeHelpText\')"\n                    v-model="model.validityTime"\n            >\n                <option value="0">{{ $t(\'neti-easy-coupon-product.detail.validityTimeValues.0\') }}</option>\n                <option value="30">{{ $t(\'neti-easy-coupon-product.detail.validityTimeValues.30\') }}</option>\n                <option value="90">{{ $t(\'neti-easy-coupon-product.detail.validityTimeValues.90\') }}</option>\n                <option value="180">{{ $t(\'neti-easy-coupon-product.detail.validityTimeValues.180\') }}</option>\n                <option value="365">{{ $t(\'neti-easy-coupon-product.detail.validityTimeValues.365\') }}</option>\n                <option value="730">{{ $t(\'neti-easy-coupon-product.detail.validityTimeValues.730\') }}</option>\n                <option value="1095">{{ $t(\'neti-easy-coupon-product.detail.validityTimeValues.1095\') }}</option>\n            </sw-select-number-field>\n\n            <sw-field\n                    :label="$t(\'neti-easy-coupon-product.detail.validityByEndOfYearLabel\')"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.validityByEndOfYearHelpText\')"\n                    v-model="model.validityByEndOfYear"\n                    type="switch"\n                    bordered\n            ></sw-field>\n        </sw-container>\n    </sw-card>\n\n    <sw-card\n            :title="$t(\'neti-easy-coupon-product.detail.cardTitle.conditions\')"\n            v-if="model"\n    >\n        <sw-alert variant="info">\n            {{ $t(\'neti-easy-coupon-product.detail.conditionInfo\') }}\n        </sw-alert>\n\n        <neti-easy-coupon-product-condition-tree\n                :model="model"\n        ></neti-easy-coupon-product-condition-tree>\n    </sw-card>\n\n    <sw-card\n            v-if="isCreateMode"\n            :title="$t(\'neti-easy-coupon-product.detail.cardTitle.product\')"\n    >\n        <sw-alert\n                variant="info"\n        >\n            {{ $t(\'neti-easy-coupon-product.detail.product.saveInfo\') }}\n        </sw-alert>\n    </sw-card>\n    <sw-card\n            v-else-if="model.product"\n            :title="$t(\'neti-easy-coupon-product.detail.cardTitle.product\')"\n    >\n        <neti-easy-coupon-product-open-link\n            :model="model"\n            :product="product"\n        ></neti-easy-coupon-product-open-link>\n\n        <sw-container columns="1fr 250px" gap="15px">\n            <sw-field\n                    :label="$t(\'neti-easy-coupon-product.detail.product.nameLabel\')"\n                    type="text"\n                    v-model="model.product.name"\n                    :error="productNameError"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.product.nameHelpText\')"\n                    :placeholder="placeholder(model.product, \'name\')"\n            ></sw-field>\n\n            <sw-field\n                :label="$t(\'neti-easy-coupon-product.detail.product.numberLabel\')"\n                type="text"\n                v-model="model.product.productNumber"\n                :error="productProductNumberError || customApiErrors.product.productNumber"\n                :helpText="$t(\'neti-easy-coupon-product.detail.product.numberHelpText\')"\n            ></sw-field>\n        </sw-container>\n        <sw-text-editor\n                :label="$t(\'neti-easy-coupon-product.detail.product.descriptionLabel\')"\n                v-model="model.product.description"\n                :helpText="$t(\'neti-easy-coupon-product.detail.product.descriptionHelpText\')"\n        ></sw-text-editor>\n\n        <sw-alert variant="info">\n            {{ $t(\'neti-easy-coupon-product.detail.product.priceInformation\') }}\n        </sw-alert>\n        <sw-container columns="1fr 1fr" gap="15px">\n            <neti-easy-coupon-product-product-price-field\n                    v-model="model.product.price"\n                    :taxId="model.product.taxId"\n                    :disabled="model.valueType !== 20010"\n            ></neti-easy-coupon-product-product-price-field>\n            <sw-entity-single-select\n                    :label="$t(\'neti-easy-coupon-product.detail.product.taxLabel\')"\n                    entity="tax"\n                    v-model="model.product.taxId"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.product.taxHelpText\')"\n                    :error="productTaxIdError"\n            ></sw-entity-single-select>\n        </sw-container>\n        <sw-container columns="auto auto 1fr" gap="15px">\n            <sw-field\n                    :label="$t(\'neti-easy-coupon-product.detail.product.stockLabel\')"\n                    type="number"\n                    v-model="model.product.stock"\n                    :error="productStockError"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.product.stockHelpText\')"\n            ></sw-field>\n            <sw-field\n                    type="switch"\n                    bordered\n                    :label="$t(\'neti-easy-coupon-product.detail.product.isCloseoutLabel\')"\n                    v-model="model.product.isCloseout"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.product.isCloseoutHelpText\')"\n            ></sw-field>\n            <sw-field\n                    type="switch"\n                    bordered\n                    :label="$t(\'neti-easy-coupon-product.detail.product.shippingFreeLabel\')"\n                    v-model="model.product.shippingFree"\n                    :helpText="$t(\'neti-easy-coupon-product.detail.product.shippingFreeHelpText\')"\n            ></sw-field>\n        </sw-container>\n        <sw-category-tree-field\n                :label="$t(\'neti-easy-coupon-product.detail.product.categoriesLabel\')"\n                :categoriesCollection="model.product.categories"\n                :placeholder="$t(\'neti-easy-coupon-product.detail.product.categoriesPlaceholder\')"\n                v-model="model.product.categories"\n                :helpText="$t(\'neti-easy-coupon-product.detail.product.categoriesHelpText\')"\n        ></sw-category-tree-field>\n        <neti-easy-coupon-product-visibility-select\n                :label="$t(\'neti-easy-coupon-product.detail.product.visibilitiesLabel\')"\n                :mainProduct="model.product"\n                :entityCollection="model.product.visibilities"\n                :placeholder="$t(\'neti-easy-coupon-product.detail.product.visibilitiesPlaceholder\')"\n                v-model="model.product.visibilities"\n                :helpText="$t(\'neti-easy-coupon-product.detail.product.visibilitiesHelptext\')"\n        ></neti-easy-coupon-product-visibility-select>\n        <sw-entity-tag-select\n                :label="$t(\'neti-easy-coupon-product.detail.product.tagsLabel\')"\n                :placeholder="$t(\'neti-easy-coupon-product.detail.product.tagsPlaceholder\')"\n                :entityCollection="model.product.tags"\n                v-model="model.product.tags"\n                :helpText="$t(\'neti-easy-coupon-product.detail.product.tagsHelpText\')"\n        ></sw-entity-tag-select>\n    </sw-card>\n</div>'},"g9+U":function(e,t,n){},gEQP:function(e,t,n){var o=n("dDuT");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("3f8beb20",o,!0,{})},hHlc:function(e,t,n){},hhpP:function(e){e.exports=JSON.parse('{"neti-easy-coupon":{"main":{"tabs":{"coupons":"Gutscheine","couponProducts":"Kaufgutscheine"}},"cart-processor":{"label":"Wann sollen EasyCoupon Gutscheine eingelöst werden?","helpText":"Bestimmen Sie hier, wie die Reihenfolge der Einlösung ist.","placeholder":"Bitte wählen Sie eine Option..."},"viewMode":{"cartProcessor":{"default":"Einstellung aus Plugin-Konfiguration","before":"Vor den Shopware Promotions","after":"Nach den Shopware Promotions"}},"value-types":{"10010":"Absolut","10020":"Prozentual"},"voucher-types":{"40010":"Allgemein","40020":"Individuell"},"product-value-types":{"20010":"Fester Wert","20020":"Individueller Wert","20030":"Vordefinierte Werte"},"product-value-type-select":{"label":"Gutschein Typ","helpText":""},"value-type-select":{"label":"Abzug","helpText":"Wähle den Abzug."},"voucher-type-select":{"label":"Modus","helpText":"","helpTexts":{"40010":"Modus: <strong>Allgemein</strong><br /><p>Der Gutschein kann von jedem Kunden &uuml;ber den vollen Wert eingel&ouml;st werden. <br /><strong>Tipp:</strong> Verwende die Bedingung <strong>Maximale Einlösungen</strong>, um die Anzahl der Einlösungen je Kunde zu beschränken.</p>","40020":"Modus: <strong>Individuell</strong><br /><p>Der Gutschein kann einmalig von Kunden &uuml;ber den vollen Wert eingel&ouml;st werden. Wird der Gutscheincode weitergegeben, wird der Restwert ber&uuml;cksichtigt. <br /><strong>Tipp:</strong> Verwende für prozentuale Gutscheine die Bedingung <strong>Maximale Einlösungen</strong>, um die Anzahl der Einlösungen zu beschränken.</p>"}},"open-easy-coupon-product-link":{"content":"Diesem Produkt ist ein Kaufgutschein zugewiesen. Klicken Sie auf \\"Kaufgutschein öffnen\\" um den Kaufgutschein zu bearbeiten.","linkText":"Kaufgutschein öffnen"},"discard-changes-modal":{"title":"Nicht gespeicherte Änderungen","content":"Wenn du fortfährst, werden deine Änderungen verworfen.","confirmButton":"Fortfahren","cancelButton":"Abbrechen"},"customer":{"tabTitle":"Gutscheine","tabContent":"Gutscheine des Kunden","fetchingError":"Es gab einen Fehler beim Laden der Gutscheine.","noVouchersMessage":"Der Kunde besitzt keine Gutscheine.","column":{"paid":"Bezahlt","title":"Titel","code":"Code","value":"Wert","cashedValue":"Eingelöster Betrag","restValue":"Restwert"}},"order-detail":{"hasVouchersAlert":"Bei dieser Bestellung wurden Gutscheine gekauft oder eingelöst. Siehe unten für weitere Informationen.","vouchersTitle":"Gekaufte oder eingelöste Gutscheine (von EasyCoupon)","voucherList":{"actionOpenVoucher":"Gutschein öffnen","unresolvedCode":"Unbekannt","unresolvedCodeHelpText":"Der Code ist ungelöst, da dieses Feld nur für neue Bestellungen seit Plugin-Version 4.5.0 verfügbar ist.","column":{"type":"Typ","name":"Name","code":"Code","value":"Wert"},"type":{"voucher":"Eingelöster Gutschein","purchasableVoucher":"Kaufgutschein","invalid":"Unbekannter Typ"}}}},"global":{"error-codes":{"neti-easy-coupon":{"productNumberAlreadyInUse":"Diese Nummer ist bereits vergeben.","codeNotAvailable":"Dieser Code ist bereits vergeben. Bitte wähle einen anderen."}},"entities":{"neti_easy_coupon":"EC Gutschein","neti_easy_coupon_product":"EC Kaufgutschein"},"sw-condition":{"condition":{"netiEasyCouponUsesPerCustomerRule":"Maximale Einlösungen (pro Kunde)","netiEasyCouponCustomerRule":"Kunden","netiEasyCouponTotalUsesRule":"Maximale Einlösungen (global)","netiEasyCouponMailAddressRule":"E-Mail Adresse"}},"businessEvents":{"neti_easy_coupon_coupon_activate":"EasyCoupon: Kaufgutschein wurde bezahlt"}},"sw-order":{"createBase":{"textPromotionDescription":{"netiEasyCoupon":{"10010":"Absoluter Gutschein","10020":"Prozentualer Gutschein"}}}}}')},iBUu:function(e,t){e.exports='<sw-tabs\n        class="sw-settings__tabs neti-easy-coupon-sidebar-menu"\n        :isVertical="true"\n        :small="false"\n>\n    <template #default="{ active }">\n        <neti-easy-coupon-tabs-item\n                :route="{ name: \'neti.easy_coupon.overview\' }"\n                :title="$t(\'neti-easy-coupon.main.tabs.coupons\')"\n                :activeRoutePrefix="[ \'neti.easy_coupon.create\', \'neti.easy_coupon.detail\' ]"\n        >\n            {{ $t(\'neti-easy-coupon.main.tabs.coupons\') }}\n        </neti-easy-coupon-tabs-item>\n        <neti-easy-coupon-tabs-item\n                :route="{ name: \'neti.easy_coupon_product.overview\' }"\n                :title="$t(\'neti-easy-coupon.main.tabs.couponProducts\')"\n                :activeRoutePrefix="[ \'neti.easy_coupon_product.create\', \'neti.easy_coupon_product.detail\' ]"\n        >\n            {{ $t(\'neti-easy-coupon.main.tabs.couponProducts\') }}\n        </neti-easy-coupon-tabs-item>\n        {% block neti_easy_coupon_sidebar_menu_items %}{% endblock %}\n    </template>\n\n    <template #content="{ active }">\n        <slot></slot>\n    </template>\n</sw-tabs>\n'},iiBA:function(e,t){e.exports='<sw-modal\n        class="neti-easy-coupon-price-field-currency-modal"\n        :title="$t(\'neti-easy-coupon.price-field.currency-modal.title\')"\n        @modal-close="onClose"\n>\n    <div class="currency-list">\n        <div\n                class="currency-item"\n                v-for="(currency, key) in currencies"\n                :key="key"\n        >\n            <div class="item-name">\n                {{ currency.translated.name || currency.name }}\n            </div>\n            <div class="item-field">\n                <neti-easy-coupon-price-field\n                        :prices="prices"\n                        :main="false"\n                        :currencyId="currency.id"\n                ></neti-easy-coupon-price-field>\n            </div>\n        </div>\n    </div>\n    <template #modal-footer>\n        <sw-button\n                variant="primary"\n                size="small"\n                @click="onClose"\n        >\n            {{ $t(\'neti-easy-coupon.price-field.currency-modal.closeBtn\') }}\n        </sw-button>\n    </template>\n</sw-modal>'},jD8z:function(e,t,n){},jySF:function(e,t){e.exports='<div\n        class="neti-easy-coupon-product-open-link"\n        v-if="product._isNew === false"\n>\n    <a\n            class="neti-easy-coupon-product--product-reference-link"\n            @click.prevent="onClick"\n    >\n        {{ $t(\'neti-easy-coupon-product.detail.open-product-link.linkLabel\') }}\n        <sw-icon name="default-arrow-simple-right" small></sw-icon>\n    </a>\n\n    <neti-easy-coupon-discard-changes-modal\n        v-model="confirmOpen"\n        @confirm="openProduct"\n    ></neti-easy-coupon-discard-changes-modal>\n</div>'},m2YN:function(e,t,n){},mMAW:function(e,t,n){var o=n("nsBP");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("1f4d9d34",o,!0,{})},mdar:function(e,t){e.exports='<div class="neti-easy-coupon-value-type-select">\n    <sw-select-field\n            :value="currentValue"\n            @change="onChange"\n            :label="$t(\'neti-easy-coupon.value-type-select.label\')"\n            :disabled="disabled"\n            :helpText="$t(\'neti-easy-coupon.value-type-select.helpText\')"\n    >\n        <option v-for="type in options" :value="type">\n            {{ $t(\'neti-easy-coupon.value-types.\' + type) }}\n        </option>\n    </sw-select-field>\n</div>'},nRzj:function(e,t,n){},nsBP:function(e,t,n){},oGo7:function(e,t){e.exports='<div\n        class="neti--easy-coupon-product--product-detail"\n        v-if="visible"\n>\n    <sw-alert>\n        <p>\n            {{ $t(\'neti-easy-coupon.open-easy-coupon-product-link.content\') }}\n        </p>\n\n        <a\n                class="neti-easy-coupon-product--product-reference-link"\n                @click="onClick"\n        >\n            {{ $t(\'neti-easy-coupon.open-easy-coupon-product-link.linkText\') }}\n            <sw-icon name="default-arrow-simple-right" small></sw-icon>\n        </a>\n    </sw-alert>\n\n    <neti-easy-coupon-discard-changes-modal\n            v-model="confirmOpen"\n            @confirm="openCoupon"\n    ></neti-easy-coupon-discard-changes-modal>\n</div>'},okI2:function(e,t,n){},om1H:function(e,t){e.exports='<sw-page class="neti-easy-coupon-product-list has--easy-coupon--sidebar-menu">\n    <template #search-bar>\n        <sw-search-bar\n                initialSearchType="neti_easy_coupon_product"\n                :initialSearch="term"\n                @search="onSearch"\n        >\n        </sw-search-bar>\n    </template>\n\n    <template #smart-bar-header>\n        <h2>\n            {{ $t(\'neti-easy-coupon-product.list.title\') }}\n\n            <span v-if="!isLoading" class="sw-page__smart-bar-amount">\n                ({{ total }})\n            </span>\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button variant="primary" :routerLink="{ name: \'neti.easy_coupon_product.create\' }">\n            {{ $t(\'neti-easy-coupon-product.list.buttonCreate\') }}\n        </sw-button>\n    </template>\n\n    <template #language-switch>\n        <sw-language-switch @on-change="getList"></sw-language-switch>\n    </template>\n\n    <template #content>\n        <neti-easy-coupon-sidebar-menu></neti-easy-coupon-sidebar-menu>\n\n        <div class="neti-easy-coupon-product-list__content">\n            <neti-easy-coupon-product-entity-listing\n                    v-if="data"\n                    :items="data"\n                    :columns="columns"\n                    :repository="repository"\n                    :showSelection="true"\n                    :isLoading="isLoading"\n                    @update-records="onUpdateRecords"\n            >\n                <template #column-title="{ item, compact }">\n                    <router-link :to="{ name: \'neti.easy_coupon_product.detail\', params: { id: item.id } }">\n                        {{ placeholder(item, \'title\') }}\n                    </router-link>\n                </template>\n\n                <template #column-valueType="{ item }">\n                    {{ $t(\'neti-easy-coupon.product-value-types.\' + item.valueType) }}\n                </template>\n\n                <template #column-createdAt="{ item }">\n                    {{ item.createdAt | date({ hour: \'2-digit\', minute: \'2-digit\' }) }}\n                </template>\n\n                <template #column-updatedAt="{ item }">\n                    {{ item.updatedAt | date({ hour: \'2-digit\', minute: \'2-digit\' }) }}\n                </template>\n\n                <template #actions="{ item }">\n                    <sw-context-menu-item :routerLink="{ name: \'neti.easy_coupon_product.detail\', params: { id: item.id }}">\n                        {{ $t(\'neti-easy-coupon-product.list.contextMenuEdit\') }}\n                    </sw-context-menu-item>\n\n                    <sw-context-menu-item variant="danger" @click="onDelete(item.id)">\n                        {{ $t(\'neti-easy-coupon-product.list.contextMenuDelete\') }}\n                    </sw-context-menu-item>\n                </template>\n\n                <template #action-modals="{ item }">\n                    <sw-modal\n                            v-if="showDeleteModal === item.id"\n                            @modal-close="onCloseDeleteModal"\n                            :title="$t(\'neti-easy-coupon-product.list.modalTitleDelete\')"\n                            variant="small"\n                    >\n                        <p class="neti-easy-coupon-product-list__confirm-delete-text">\n                            {{ $t(\'neti-easy-coupon-product.list.textDeleteConfirm\', 0, { name: item.label }) }}\n                        </p>\n\n                        <template #modal-footer>\n                            <sw-button @click="onCloseDeleteModal" size="small">\n                                {{ $t(\'neti-easy-coupon-product.list.buttonCancel\') }}\n                            </sw-button>\n\n                            <sw-button @click="onConfirmDelete(item)" variant="primary" size="small">\n                                {{ $t(\'neti-easy-coupon-product.list.buttonDelete\') }}\n                            </sw-button>\n                        </template>\n                    </sw-modal>\n                </template>\n\n                <template #pagination>\n                    <sw-pagination\n                            :page="page"\n                            :limit="limit"\n                            :total="total"\n                            :total-visible="7"\n                            @page-change="onPageChange"\n                    >\n                    </sw-pagination>\n                </template>\n            </neti-easy-coupon-product-entity-listing>\n\n            <sw-empty-state\n                    v-if="!isLoading && !total"\n                    :title="$t(\'neti-easy-coupon-product.list.messageEmpty\')"\n            ></sw-empty-state>\n        </div>\n    </template>\n\n    <template #sidebar>\n        <sw-sidebar>\n            <sw-sidebar-item\n                    icon="default-arrow-360-left"\n                    :title="$t(\'neti-easy-coupon-product.list.titleSidebarItemRefresh\')"\n                    @click="onRefresh"\n            ></sw-sidebar-item>\n        </sw-sidebar>\n    </template>\n</sw-page>\n'},pBCJ:function(e,t){e.exports='<div class="neti-easy-coupon-cart-processor-priority-config">\n    <sw-container columns="1fr 1fr" gap="15px">\n        <sw-single-select\n                :label="$t(\'neti-easy-coupon.cart-processor.label\')"\n                :placeholder="$t(\'neti-easy-coupon.cart-processor.placeholder\')"\n                :helpText="$t(\'neti-easy-coupon.cart-processor.helpText\')"\n                v-model="coupon.redemptionOrder"\n                :options="viewModeStore"\n        ></sw-single-select>\n\n    </sw-container>\n</div>'},qEMu:function(e){e.exports=JSON.parse('{"neti-easy-coupon":{"navigation":{"mainMenuItemEasyCoupon":"EasyCoupon"},"general":{"mainMenuItemGeneral":"EasyCoupon","descriptionTextModule":"Hier verwaltest Du Deine EasyCoupon-Gutscheine."},"list":{"title":"Gutscheine","buttonCreate":"Hinzufügen","messageEmpty":"Keine Gutscheine vorhanden","titleSidebarItemRefresh":"Neu laden","contextMenuEdit":"Bearbeiten","contextMenuDelete":"Löschen","modalTitleDelete":"Gutschein löschen","textDeleteConfirm":"Bist Du sicher, dass Du den Gutschein löschen möchtest?","buttonCancel":"Abbrechen","buttonDelete":"Löschen","column":{"active":"Aktiv","title":"Titel","code":"Code","value":"Wert","createdAt":"Erstellt","updatedAt":"Geändert"}},"detail":{"activeLabel":"Aktiv","activeHelpText":"Aktiviert den Gutschein. Nur aktive Gutscheinen können eingelöst werden.","buttonCancel":"Abbrechen","buttonSave":"Speichern","codeLabel":"Code","codeHelpText":"Gib hier den Gutscheincode ein oder erzeuge einen Gutscheincode.","commentLabel":"Kommentar","commentHelpText":"Platz für interne Kommentare.","currencyLabel":"Währung","currencyHelpText":"Wähle die Währung, in der der Gutschein geführt wird.","discardRemainingLabel":"Restwert verfällt","discardRemainingHelpText":"Jeglicher Restwert des Gutscheins verfällt, sobald der Gutschein das erste mal eingelöst wurde.","errorMessage":"Der Gutschein konnte nicht gespeichert werden.","errorTitle":"Fehler","generateCodeBtn":"Generieren","copyCodeBtn":"Code kopieren","maxRedemptionValueLabel":"Maximaler Einlösewert je Kunde","maxRedemptionValueHelpText":"<p>Definiert bei einem prozentualen Abzug das absolute Limit:</p><p>Beispiel:</p><ul><li>10% Gutschein</li><li>max. Einl&ouml;sewert = 20&euro;</li><li>Warenkorbwert 500&euro;</li></ul><p>Normalerweise erh&auml;lt dein Kunde 50&euro; Abzug. Durch den max. Einl&ouml;sewert wird der Abzug aber bei 20&euro; gekappt.</p>","orderPositionNumberLabel":"Produktnummer bei Einlösung","orderPositionNumberHelpText":"Diese Nummer wird bei Einlösung des Gutscheins als Produktnummer in der Warenkorbposition des Gutscheins hinterlegt.","successMessage":"Der Gutschein wurde erfolgreich gespeichert.","successTitle":"Erfolg","tagLabel":"Tag","tagHelpText":"Vergib optional einen Tag für den Gutschein.","title":"Gutschein","titleHelpText":"Wähle einen Titel deiner Wahl.","titleLabel":"Titel","titlePlaceholder":"Gutscheintitel","valueLabel":"Wert","valueHelpText":"Wähle einen Wert.","combineVouchersLabel":"Kombinierbar mit weiteren Gutscheinen?","combineVouchersHelpText":"Kann dieser Gutschein mit weiteren Gutscheinen eingelöst werden?","validUntilLabel":"Gültig bis (optional)","validUntilHelpText":"Der Gutschein kann bis zu dem angegebenen Datum eingelöst werden.","cardTitle":{"base":"Stammdaten","conditions":"Einlösebedingungen","conditionHelpText":"Definiere die Bedingungen, unter denen ein Gutschein eingelöst werden kann. Wurden keine Bedingungen gewählt, kann der Gutschein immer eingelöst werden.","misc":"Sonstiges"},"tab":{"base":"Details","transactions":"Transaktionen"},"generateCode":{"errorTitle":"Fehler","errorMessage":"Es konnte leider kein Code generiert werden. Bitte versuchen Sie es erneut."},"status":{"redemptionCount":"Der Gutschein wurde bereits {count} mal eingelöst.","absolute":{"general":"Dieser <strong>allgemeine</strong> Gutschein hat einen <strong>absoluten</strong> Wert von <strong>{value}</strong>.","individual":"Dieser <strong>individuelle</strong> Gutschein hat einen <strong>absoluten</strong> Wert von <strong>{value}</strong>.","redemptionValue":"Davon wurden bereits <strong>{value}</strong> eingelöst.","remainingValue":"Der Restwert beträgt <strong>{value}</strong>."},"percentage":{"general":"Dieser <strong>allgemeine</strong> Gutschein hat einen <strong>prozentualen</strong> Wert von {percentage} Prozent.","individual":"Dieser <strong>individuelle</strong> Gutschein hat einen <strong>prozentualen</strong> Wert von {percentage} Prozent."}},"copyCode":{"successTitle":"Erfolg","successMessage":"Der Gutschein-Code wurde erfolgreich in die Zwischenablage kopiert.","errorTitle":"Fehler","errorMessage":"Der Gutschein-Code konnte nicht in die Zwischenablage kopiert werden."}},"transaction-list":{"buttonCreate":"Neue Transaktion","create-transaction":{"title":"Neue Transaktion","valueLabel":"Wert","currencyLabel":"Währung","internCommentLabel":"Kommentar","buttonCreate":"Speichern","buttonCancel":"Abbrechen","successTitle":"Erfolg","successMessage":"Die Transaktion wurde erfolgreich erstellt.","errorTitle":"Fehler","errorMessage":"Die Transsaktion konnte nicht erstellt werden."},"column":{"createdAt":"Datum","id":"ID","value":"Wert","currency":"Währung","internComment":"Kommentar","orderNumber":"Bestellung","username":"Benutzername","customer":"Kunde"}},"price-field":{"currencyModalBtn":"Währungsabhängige Preise","currency-modal":{"title":"Währungen pflegen","closeBtn":"Schließen"}}}}')},qTKu:function(e,t,n){},qdUm:function(e){e.exports=JSON.parse('{"neti-easy-coupon":{"main":{"tabs":{"coupons":"Vouchers","couponProducts":"Purchaseable vouchers"}},"cart-processor":{"label":"When should EasyCoupon vouchers be redeemed?","helpText":"Determine here how the order of the redemption is.","placeholder":"Please choose a option..."},"viewMode":{"cartProcessor":{"default":"Setting from plugin configuration","before":"Before Shopware promotions","after":"After Shopware promotions"}},"value-types":{"10010":"absolute","10020":"percentage"},"voucher-types":{"40010":"universal","40020":"individual"},"product-value-types":{"20010":"Fixed value","20020":"Individual value","20030":"Predefined values"},"product-value-type-select":{"label":"Voucher type","helpText":""},"value-type-select":{"label":"Deduction","helpText":"Choose type of deduction."},"voucher-type-select":{"label":"Mode","helpText":"","helpTexts":{"40010":"Mode: <strong>Universal</strong><p>The voucher can be redeemed by any customer for the full value. <br/> Use the Maximum redemptions condition to limit the number of redemptions.</p>","40020":"Mode: <strong>Individual</strong><p>The voucher can be redeemed once by customers for the full value. If the voucher code is passed on, the remaining value will be taken into account.</p>"}},"open-easy-coupon-product-link":{"content":"A purchasable voucher is assigned to this product. Click on \\"Open purchasable voucher\\" to edit the purchase voucher.","linkText":"Open purchasable voucher"},"discard-changes-modal":{"title":"Unsaved changes","content":"If you continue, your changes will be discarded.","confirmButton":"Continue","cancelButton":"Abort"},"customer":{"tabTitle":"Vouchers","tabContent":"Customer vouchers","fetchingError":"There was an error loading vouchers.","noVouchersMessage":"This customer has no vouchers.","column":{"paid":"Paid","title":"Title","code":"Code","value":"Value","cashedValue":"Cashed value","restValue":"Rest value"}},"order-detail":{"hasVouchersAlert":"This order has purchased or redeemed vouchers. See below for more information.","vouchersTitle":"Bought or redeemed vouchers (from EasyCoupon)","voucherList":{"actionOpenVoucher":"Open voucher","unresolvedCode":"Unresolved","unresolvedCodeHelpText":"The code is unresolved because this field is only available for new orders since plugin version 4.5.0","column":{"type":"Type","name":"Name","code":"Code","value":"Value"},"type":{"voucher":"Redeemed voucher","purchasableVoucher":"Bought voucher","invalid":"Invalid type"}}}},"global":{"error-codes":{"neti-easy-coupon":{"productNumberAlreadyInUse":"This product number is already taken.","codeNotAvailable":"This voucher code is already taken. Please choose another one."}},"entities":{"neti_easy_coupon":"EC vouchers","neti_easy_coupon_product":"EC purchasable vouchers"},"sw-condition":{"condition":{"netiEasyCouponUsesPerCustomerRule":"Maximum redemptions (per customer)","netiEasyCouponCustomerRule":"Customers","netiEasyCouponTotalUsesRule":"Maximum redemptions (global)","netiEasyCouponMailAddressRule":"eMail address"}},"businessEvents":{"neti_easy_coupon_coupon_activate":"EasyCoupon: Purchase voucher is paid"}},"sw-order":{"createBase":{"textPromotionDescription":{"netiEasyCoupon":{"10010":"Absolute voucher","10020":"Percentage voucher"}}}}}')},r71A:function(e,t,n){var o=n("g9+U");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("676052e1",o,!0,{})},r76v:function(e,t,n){},rhbM:function(e,t){e.exports='<div class="neti-easy-coupon-create-transaction-modal">\n    <sw-modal\n            v-if="active"\n            @modal-close="onClose"\n            :title="$t(\'neti-easy-coupon.transaction-list.create-transaction.title\')"\n    >\n        <sw-container columns="1fr 1fr" gap="15px">\n            <neti-easy-coupon-value-field\n                v-model="transaction.value"\n                :label="$t(\'neti-easy-coupon.transaction-list.create-transaction.valueLabel\')"\n                :error="transactionValueError"\n                :currencyFactor="transaction.currencyFactor"\n            ></neti-easy-coupon-value-field>\n\n            <sw-entity-single-select\n                :label="$t(\'neti-easy-coupon.transaction-list.create-transaction.currencyLabel\')"\n                v-model="transaction.currencyId"\n                entity="currency"\n                :error="transactionCurrencyIdError"\n            ></sw-entity-single-select>\n        </sw-container>\n\n        <sw-text-field\n            :label="$t(\'neti-easy-coupon.transaction-list.create-transaction.internCommentLabel\')"\n            v-model="transaction.internComment"\n        ></sw-text-field>\n\n        <template #modal-footer>\n            <sw-button\n                    @click="onCloseButtonClicked"\n                    size="small"\n            >\n                {{ $t(\'neti-easy-coupon.transaction-list.create-transaction.buttonCancel\') }}\n            </sw-button>\n\n            <sw-button-process\n                    :isLoading="isCreating"\n                    :processSuccess="isCreateSuccessful"\n                    :disabled="isCreating"\n                    variant="primary"\n                    size="small"\n                    @process-finish="onCreateFinish"\n                    @click.prevent="onCreateButtonClicked"\n            >\n                {{ $t(\'neti-easy-coupon.transaction-list.create-transaction.buttonCreate\') }}\n            </sw-button-process>\n        </template>\n    </sw-modal>\n</div>'},sQSr:function(e,t,n){},srhp:function(e,t){e.exports='{% block sw_data_grid_slot_action_modals %}\n    <sw-modal v-if="deleteId === item.id" @modal-close="closeModal" :title="$tc(\'global.default.warning\')" variant="small">\n        <p class="sw-listing__confirm-delete-text">\n            <slot name="delete-confirm-text" v-bind="{ item }">\n                {{ $tc(\'neti-easy-coupon-product.list.deleteMessage\') }}\n            </slot>\n        </p>\n\n        <template #modal-footer>\n            <slot name="delete-modal-footer" v-bind="{ item }">\n                <slot name="delete-modal-cancel" v-bind="{ item }">\n                    <sw-button @click="closeModal" size="small">\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                </slot>\n\n                <slot name="delete-modal-delete-item" v-bind="{ item }">\n                    <sw-button @click="deleteItem(item)" variant="danger" size="small">\n                        {{ $tc(\'global.default.delete\') }}\n                    </sw-button>\n                </slot>\n            </slot>\n        </template>\n    </sw-modal>\n{% endblock %}\n\n{% block sw_data_grid_slot_bulk_modals %}\n    <sw-modal v-if="showBulkDeleteModal"\n              @modal-close="showBulkDeleteModal = false"\n              :title="$tc(\'global.default.warning\')"\n              variant="small">\n        <p class="sw-data-grid__confirm-bulk-delete-text">\n            {{ $tc(\'neti-easy-coupon-product.list.deleteMessage\', selectionCount, { count: selectionCount }) }}\n        </p>\n\n        <template #modal-footer>\n            <slot name="bulk-modal-cancel">\n                <sw-button @click="showBulkDeleteModal = false" size="small">\n                    {{ $tc(\'global.default.cancel\') }}\n                </sw-button>\n            </slot>\n\n            <slot name="bulk-modal-delete-items">\n                <sw-button @click="deleteItems" variant="danger" size="small" :isLoading="isBulkLoading">\n                    {{ $tc(\'global.default.delete\') }}\n                </sw-button>\n            </slot>\n        </template>\n    </sw-modal>\n{% endblock %}'},t7us:function(e,t){var n=Shopware,o=n.Component,r=n.Utils.get;o.override("sw-order-create-base",{computed:{promotionCodeLineItems:function(){return this.cartLineItems.filter((function(e){return("promotion"===e.type||"easy-coupon"===e.type)&&r(e,"payload.code")}))}}})},uN8W:function(e,t){e.exports='<div class="neti-easy-coupon-product--product-price-field">\n    <sw-price-field\n            v-if="taxRate && currency"\n            :taxRate="taxRate"\n            :price="value"\n            :defaultPrice="defaultPrice"\n            :currency="currency"\n            :disabled="disabled"\n    ></sw-price-field>\n\n    <a\n            @click.prevent="displayMaintainCurrencies = true"\n            v-if="value && !disabled"\n            class="currency-modal-button"\n    >\n        {{ $t(\'sw-product.detailBase.linkMaintainCurrencyPrices\') }} <sw-icon name="default-arrow-simple-right" small></sw-icon>\n    </a>\n\n    <sw-maintain-currencies-modal\n            v-if="displayMaintainCurrencies"\n            :currencies="currencies"\n            :prices="value"\n            :defaultPrice="defaultPrice"\n            :taxRate="taxRate"\n            @modal-close="onCloseCurrenciesModal"\n    ></sw-maintain-currencies-modal>\n</div>\n'},uWzB:function(e,t){e.exports='<div class="neti-easy-coupon-price-field" v-if="price">\n    <sw-field\n            :label="label"\n            type="number"\n            v-model="price.gross"\n            :helpText="helpText"\n    ></sw-field>\n\n    <template v-if="main">\n        <a\n                class="currency-modal-button"\n                @click.prevent="currencyModal = true"\n        >\n            {{ $t(\'neti-easy-coupon.price-field.currencyModalBtn\') }}\n            <sw-icon name="default-arrow-simple-right" small></sw-icon>\n        </a>\n\n        <neti-easy-coupon-price-field-currency-modal\n                v-if="currencyModal"\n                :prices="prices"\n                @modal-close="onCurrencyModalClose"\n        ></neti-easy-coupon-price-field-currency-modal>\n    </template>\n</div>'},vIAK:function(e,t){e.exports='{% block sw_order_detail_base__user_card %}\n    <sw-alert\n            v-if="hasEasyCouponVouchers"\n            class="neti-easy-coupon--order-has-vouchers"\n    >\n        {{ $t(\'neti-easy-coupon.order-detail.hasVouchersAlert\') }}\n    </sw-alert>\n\n    {% parent %}\n{% endblock %}\n\n{% block sw_order_detail_base_line_items_card %}\n    <neti-easy-coupon-order-detail-vouchers\n        v-if="hasEasyCouponVouchers"\n        :order="order"\n        :data="easyCouponVouchers"\n        :is-loading="isLoading"\n    ></neti-easy-coupon-order-detail-vouchers>\n\n    {% parent %}\n{% endblock %}\n'},vpdF:function(e,t){e.exports='<div class="neti-easy-coupon-detail-transaction-list">\n    <neti-easy-coupon-create-transaction-modal\n            :model="model"\n            :active="createTransactionModal"\n            @close="createTransactionModal = false"\n            @refresh="onRefresh"\n    ></neti-easy-coupon-create-transaction-modal>\n\n    <sw-card>\n        <div class="grid-actions">\n            <sw-button\n                    variant="primary"\n                    @click="onCreateTransactionButtonClicked"\n                    size="small"\n            >\n                {{ $t(\'neti-easy-coupon.transaction-list.buttonCreate\') }}\n            </sw-button>\n        </div>\n\n        <template #grid>\n            <sw-entity-listing\n                    :items="data"\n                    :columns="columns"\n                    :repository="repository"\n                    :isLoading="isLoading"\n                    :fullPage="false"\n                    :showSettings="false"\n                    :showSelection="false"\n                    :allowDelete="false"\n            >\n\n                <template #column-createdAt="{ item }">\n                    {{ item.createdAt | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\n                </template>\n\n                <template #column-customer="{ item }">\n                    <router-link v-if="item.customer" :to="{ name: \'sw.customer.detail\', params: { id: item.customer.id } }">\n                        {{ item.customer.firstName }} {{ item.customer.lastName }}\n                    </router-link>\n                </template>\n\n                <template #column-value="{ item }">\n                    {{ getValue(item) }}\n                </template>\n\n                <template #column-order="{ item }">\n                    <router-link v-if="item.order" :to="{ name: \'sw.order.detail\', params: { id: item.order.id } }">\n                        {{ item.order.orderNumber }}\n                    </router-link>\n                </template>\n\n                <template #pagination>\n                    <sw-pagination\n                            :page="page"\n                            :limit="limit"\n                            :total="total"\n                            :total-visible="7"\n                            @page-change="onPageChange"\n                    ></sw-pagination>\n                </template>\n            </sw-entity-listing>\n        </template>\n    </sw-card>\n</div>'},w4FU:function(e){e.exports=JSON.parse('{"neti-easy-coupon-product":{"general":{"mainMenuItemGeneral":"Purchasable vouchers","descriptionTextModule":"Maintain your purchasable vouchers"},"list":{"title":"Purchasable vouchers","buttonCreate":"add","buttonCancel":"cancel","buttonDelete":"delete","contextMenuEdit":"edit","contextMenuDelete":"delete","modalTitleDelete":"delete purchasable voucher","textDeleteConfirm":"Are you sure you want to delete the voucher? If the purchasable voucher is deleted, the associated product will also be deleted.","messageEmpty":"No purchasable vouchers available","column":{"id":"ID","active":"active","title":"Title","code":"Code","createdAt":"created","updatedAt":"updated","valueType":"Value type"},"deleteMessage":"Do you really want to delete the entry? The associated product will also be deleted. | Are you sure you want to delete these {count} entries? The associated products will also be deleted."},"detail":{"title":"Purchasable voucher","buttonCancel":"cancel","buttonSave":"save","titleLabel":"Voucher title on redemption","titlePlaceholder":"Title","discardRemainingLabel":"Residual value expires","orderPositionNumberLabel":"Order number on redemption","errorTitle":"Error","errorMessage":"The purchasable voucher could not be saved.","successTitle":"Success","successMessage":"The purchasable voucher has been saved successfully.","titleHelpText":"Will be displayed in the shopping cart on redemption.","discardRemainingHelpText":"","orderPositionNumberHelpText":"","conditionInfo":"The conditions specified here will later be transferred to the created voucher and will not affect the order process of the purchase voucher.","combineVouchersLabel":"Combine Vouchers?","combineVouchersHelpText":"Should the vouchers created with the purchase voucher be combinable with other EasyCoupon vouchers?","validityTimeLabel":"Validity time (optional)","validityTimeHelpText":"Defines the validity time of the voucher that is being created later.","validityByEndOfYearLabel":"Valid by end of the year","validityByEndOfYearHelpText":"If enabled the validity time is calculated from the end of the current year instead of the purchase date.","validityTimeValues":{"0":"No limit","30":"30 days","90":"90 days","180":"6 months (180 days)","365":"1 year","730":"2 years","1095":"3 years"},"tab":{"base":"Details"},"cardTitle":{"base":"Basic information","conditions":"Conditions","product":"Product configuration"},"product":{"saveInfo":"The product configuration will be displayed here as soon as the purchasable voucher has been saved.","nameLabel":"Name","descriptionLabel":"Description","taxLabel":"Tax rate","isCloseoutLabel":"Sale","shippingFreeLabel":"Product is free of charge","categoriesLabel":"Product categories","categoriesPlaceholder":"Product categories","visibilitiesLabel":"Sales channel","visibilitiesPlaceholder":"Sales channel","tagsLabel":"Tags","tagsPlaceholder":"Tags","numberLabel":"Product number","stockLabel":"Stock","priceHelpText":"","nameHelpText":"","numberHelpText":"","descriptionHelpText":"","taxHelpText":"","stockHelpText":"","isCloseoutHelpText":"","shippingFreeHelpText":"","categoriesHelpText":"","visibilitiesHelptext":"","tagsHelpText":"","priceInformation":"For purchase vouchers of the type \\"defined values and individual values\\" the price results from the voucher configuration. For a voucher of the type \\"fixed value\\" you can change the price of the voucher here - the defined value of the voucher will not be adjusted."},"open-product-link":{"linkLabel":"open product"}},"price-field":{"valueLabel":"Value","fromValueLabel":"from","toValueLabel":"to","valuesLabel":"Values","currencyModalBtn":"Currency dependent values","currency-modal":{"title":"edit currencies","closeBtn":"close"},"values-field":{"validMessage":"add value","invalidMessage":"Please enter a numeric value"},"fromValueHelpText":"","toValueHelpText":"","valuesHelpText":"","valueHelpText":""}}}')},w4tj:function(e,t){e.exports='{% block sw_customer_detail_content_tab_order %}\n    {% parent %}\n\n    <sw-tabs-item\n        class="sw-customer-detail__tab-neti-easy-coupon"\n        :route="ecCustomerVoucherRoute"\n        :title="$t(\'neti-easy-coupon.customer.tabTitle\')"\n    >\n        {{ $t(\'neti-easy-coupon.customer.tabContent\') }}\n    </sw-tabs-item>\n{% endblock %}\n'},x07r:function(e,t,n){var o=n("TvG6");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("55becd12",o,!0,{})},x0xy:function(e,t,n){},zyLD:function(e,t,n){"use strict";n.r(t);var o=!1,r=Shopware.Data.Criteria,i={namespaced:!0,state:{defaultCurrency:null,priceField:null,valueTypes:[],voucherTypes:[],productValueTypes:[],transactionTypes:{},currencies:null,customApiErrors:{neti_easy_coupon:{code:null},product:{productNumber:null}},freeTaxId:null,detail:{neti_easy_coupon:{conditions:{conditionTree:null,deletedIds:[]}},neti_easy_coupon_product:{conditions:{conditionTree:null,deletedIds:[]}}},couponStatus:null},mutations:{setDefaultCurrency:function(e,t){e.defaultCurrency=t},setPriceField:function(e,t){e.priceField=t},setValueTypes:function(e,t){e.valueTypes=t},setVoucherTypes:function(e,t){e.voucherTypes=t},setProductValueTypes:function(e,t){e.productValueTypes=t},setTransactionTypes:function(e,t){e.transactionTypes=t},setCurrencies:function(e,t){e.currencies=t},setError:function(e,t){var n=t.entity,o=t.field,r=t.error;e.customApiErrors[n][o]=r},setFreeTaxId:function(e,t){e.freeTaxId=t},setEasyCouponConditions:function(e,t){var n=t.conditionTree,o=t.deletedIds;e.detail.neti_easy_coupon.conditions.conditionTree=n,e.detail.neti_easy_coupon.conditions.deletedIds=o},setEasyCouponProductConditions:function(e,t){var n=t.conditionTree,o=t.deletedIds;e.detail.neti_easy_coupon_product.conditions.conditionTree=n,e.detail.neti_easy_coupon_product.conditions.deletedIds=o},setCouponStatus:function(e,t){e.couponStatus=t}},actions:{loadConfig:function(e){if(!o){var t=Shopware.Application.getContainer("init").httpClient,n={Accept:"application/vnd.api+json",Authorization:"Bearer ".concat(Shopware.Context.api.authToken.access),"Content-Type":"application/json"};o=!0,t.get("_action/neti-easy-coupon/config",{headers:n}).then((function(t){var n=t.data;o=!1,e.commit("setValueTypes",n.valueTypes),e.commit("setVoucherTypes",n.voucherTypes),e.commit("setProductValueTypes",n.productValueTypes),e.commit("setTransactionTypes",n.transactionTypes),e.commit("setDefaultCurrency",n.defaultCurrency),e.commit("setPriceField",n.priceField),e.commit("setFreeTaxId",n.freeTaxId)}))}},loadCurrencies:function(e){if(!(e.state.currencies&&e.state.currencies.length>0)){var t=new r,n=Shopware.Service("repositoryFactory").create("currency");t.addSorting({field:"createdAt",order:"ASC"}),n.search(t,Shopware.Context.api).then((function(t){e.commit("setCurrencies",t)}))}},setError:function(e,t){var n=t.entity,o=t.field,r=t.error;e.commit("setError",{entity:n,field:o,error:r})}},getters:{valueTypes:function(e){return e.valueTypes},voucherTypes:function(e){return e.voucherTypes},productValueTypes:function(e){return e.productValueTypes},transactionTypes:function(e){return e.transactionTypes},defaultCurrencyId:function(e){return e.defaultCurrency?e.defaultCurrency.id:null},priceField:function(e){return e.priceField},currencies:function(e){return e.currencies},customApiErrors:function(e){return e.customApiErrors},freeTaxId:function(e){return e.freeTaxId},defaultCurrency:function(e){return e.defaultCurrency},easyCouponConditions:function(e){return e.detail.neti_easy_coupon.conditions},easyCouponProductConditions:function(e){return e.detail.neti_easy_coupon_product.conditions},couponStatus:function(e){return e.couponStatus}}};Shopware.State.registerModule("netiEasyCoupon",i);var a=n("hhpP"),s=n("qdUm");function c(){var e={},t={lowerThanEquals:{identifier:"<=",label:"global.sw-condition.operator.lowerThanEquals"},equals:{identifier:"=",label:"global.sw-condition.operator.equals"},greaterThanEquals:{identifier:">=",label:"global.sw-condition.operator.greaterThanEquals"},notEquals:{identifier:"!=",label:"global.sw-condition.operator.notEquals"},greaterThan:{identifier:">",label:"global.sw-condition.operator.greaterThan"},lowerThan:{identifier:"<",label:"global.sw-condition.operator.lowerThan"},isOneOf:{identifier:"=",label:"global.sw-condition.operator.isOneOf"},isNoneOf:{identifier:"!=",label:"global.sw-condition.operator.isNoneOf"},gross:{identifier:!1,label:"global.sw-condition.operator.gross"},net:{identifier:!0,label:"global.sw-condition.operator.net"},empty:{identifier:"empty",label:"global.sw-condition.operator.empty"}},n={defaultSet:[t.equals,t.notEquals,t.greaterThanEquals,t.lowerThanEquals],singleStore:[t.equals,t.notEquals],multiStore:[t.isOneOf,t.isNoneOf],string:[t.equals,t.notEquals],bool:[t.equals],number:[t.equals,t.greaterThan,t.greaterThanEquals,t.lowerThan,t.lowerThanEquals,t.notEquals],date:[t.equals,t.greaterThan,t.greaterThanEquals,t.lowerThan,t.lowerThanEquals,t.notEquals],isNet:[t.gross,t.net],empty:[t.empty],zipCode:[t.isOneOf,t.greaterThan,t.greaterThanEquals,t.lowerThan,t.lowerThanEquals,t.isNoneOf]},o={shipping:{id:"shipping",name:"sw-settings-rule.detail.types.shipping"},payment:{id:"payment",name:"sw-settings-rule.detail.types.payment"},price:{id:"price",name:"sw-settings-rule.detail.types.price"}};return{getByType:r,addCondition:function(t,n){n.type=t,e[t]=n},getConditions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Object.values(e);null!==t&&(n=n.filter((function(e){return t.some((function(t){return-1!==e.scopes.indexOf(t)}))})));return n},addModuleType:function(e){o[e.id]=e},getModuleTypes:function(){return Object.values(o)},getOperatorSet:function(e){return n[e]},getOperatorSetByComponent:function(e){var t=e.config.componentName,o=e.type;if("sw-single-select"===t)return n.singleStore;if("sw-multi-select"===t)return n.multiStore;if("bool"===o)return n.bool;if("text"===o)return n.string;if("int"===o)return n.number;return n.defaultSet},getAndContainerData:function(){return{type:"andContainer",value:{}}},isAndContainer:i,getOrContainerData:function(){return{type:"orContainer",value:{}}},isOrContainer:a,getPlaceholderData:function(){return{type:null,value:{}}},getComponentByCondition:function(e){if(i(e))return"sw-condition-and-container";if(a(e))return"sw-condition-or-container";if(!e.type)return"sw-condition-base";var t=r(e.type);if(void 0===t||!t.component)return"sw-condition-not-found";return t.component},addEmptyOperatorToOperatorSet:function(e){return e.concat(n.empty)}};function r(t){return t?e[t]:r("placeholder")}function i(e){return"andContainer"===e.type}function a(e){return"orContainer"===e.type}}Shopware.Locale.extend("de-DE",a),Shopware.Locale.extend("en-GB",s);n("0LRd");Shopware.Application.addServiceProvider("easyCouponRuleConditionService",(function(){return new c}));n("5gyZ");var u=n("mdar"),l=n.n(u);Shopware.Component.register("neti-easy-coupon-value-type-select",{template:l.a,props:{value:{type:Number,required:!1},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{currentValue:""}},computed:{options:function(){return Shopware.State.getters["netiEasyCoupon/valueTypes"]}},watch:{value:{immediate:!0,handler:function(){this.currentValue=""+this.value,null===this.value&&this.options.length>0&&this.onChange(this.options[0])}},options:function(e,t){e.length>0&&0===t.length&&null===this.value&&this.onChange(this.options[0])}},methods:{onChange:function(e){e=parseInt(e,10),this.$emit("input",e)}}});var d=n("Cdoh"),p=n.n(d);n("9cdj");Shopware.Component.register("neti-easy-coupon-voucher-type-select",{template:p.a,props:{value:{type:Number,required:!1},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{currentValue:""}},computed:{options:function(){return Shopware.State.getters["netiEasyCoupon/voucherTypes"]}},watch:{value:{immediate:!0,handler:function(){this.currentValue=""+this.value,null===this.value&&this.options.length>0&&this.onChange(this.options[0])}},options:function(e,t){e.length>0&&0===t.length&&null===this.value&&this.onChange(this.options[0])}},methods:{onChange:function(e){e=parseInt(e,10),this.$emit("input",e)}}});var m=n("W35+"),h=n.n(m);Shopware.Component.register("neti-easy-coupon-product-value-type-select",{template:h.a,props:{value:{type:Number,required:!1},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{currentValue:""}},computed:{options:function(){return Shopware.State.getters["netiEasyCoupon/productValueTypes"]}},watch:{value:{immediate:!0,handler:function(){this.currentValue=""+this.value,null===this.value&&this.options.length>0&&this.onChange(this.options[0])}},options:function(e,t){e.length>0&&0===t.length&&null===this.value&&this.onChange(this.options[0])}},methods:{onChange:function(e){e=parseInt(e,10),this.$emit("input",e)}}});var y=n("oGo7"),f=n.n(y);n("gEQP");Shopware.Component.register("neti-easy-coupon-open-easy-coupon-product-link",{template:f.a,inject:["repositoryFactory"],props:{product:{required:!0,type:Object}},data:function(){return{confirmOpen:!1}},computed:{visible:function(){return this.product&&this.product.extensions&&this.product.extensions.netiEasyCouponProduct},productRepository:function(){return this.repositoryFactory.create("product")}},methods:{onClick:function(){!0!==this.hasChanges()?this.openCoupon():this.confirmOpen=!0},openCoupon:function(){this.$router.push({name:"neti.easy_coupon_product.detail",params:{id:this.product.extensions.netiEasyCouponProduct.id}})},hasChanges:function(){return this.productRepository.hasChanges(this.product)}}});var b=n("WVmx"),g=n.n(b);Shopware.Component.register("neti-easy-coupon-discard-changes-modal",{template:g.a,props:{value:{required:!0,type:Boolean}},methods:{onConfirm:function(){var e=this;this.onClose(),this.$nextTick((function(){e.$emit("confirm")}))},onClose:function(){this.$emit("input",!1)}}});var v=n("cp8w"),w=n.n(v),C=Shopware.Data.Criteria;Shopware.Component.register("neti-easy-coupon-payment-status-select",{template:w.a,inject:["repositoryFactory"],props:{value:{required:!0,type:Array},label:{type:String},helpText:{type:String}},computed:{repository:function(){return this.repositoryFactory.create("state_machine_state")},criteria:function(){var e=new C;return e.addFilter(C.equals("stateMachine.technicalName","order_transaction.state")),e}},data:function(){return{currentValue:[]}},watch:{value:{immediate:!0,handler:function(){0===this.currentValue.length&&(this.currentValue=this.value)}}},methods:{onChange:function(e){this.currentValue=e,this.$emit("input",e)}}});var x=n("FoJb"),T=n.n(x);n("7PME");Shopware.Locale.extend("en-GB",{"neti-config-icon":{tooltipText:"Open plugin configuration"}}),Shopware.Locale.extend("de-DE",{"neti-config-icon":{tooltipText:"Plugin Konfiguration öffnen"}}),Shopware.Component.register("neti-config-icon",{template:T.a,props:{pluginName:{type:String,required:!0}},methods:{onConfigOpen:function(){this.$router.push({name:"sw.extension.config",params:{namespace:this.pluginName}})}}});var O=n("21GM"),S=n.n(O);n("YGWO");Shopware.Component.register("neti-easy-coupon-powered-by",{template:S.a,props:{pluginName:{type:String,required:!0}},computed:{pluginLink:function(){return"https://store.shopware.com/search?sSearch="+this.pluginName}}});var P=n("pBCJ"),j=n.n(P);Shopware.Component.register("neti-easy-coupon-cart-processor-priority-config",{template:j.a,props:{coupon:{type:Object,required:!0}},computed:{viewModeStore:function(){return[{label:this.$t("neti-easy-coupon.viewMode.cartProcessor.default"),value:0},{label:this.$t("neti-easy-coupon.viewMode.cartProcessor.before"),value:1},{label:this.$t("neti-easy-coupon.viewMode.cartProcessor.after"),value:2}]}}});n("Tw8X");var E=n("iBUu"),k=n.n(E);n("r71A");Shopware.Component.register("neti-easy-coupon-sidebar-menu",{template:k.a});var $=n("qEMu"),D=n("4XjB"),I=n("54T/"),_=n.n(I);Shopware.Component.extend("neti-easy-coupon-entity-listing","sw-entity-listing",{template:_.a,methods:{deleteItem:function(e){var t=this;return this.deleteId=null,this.safeDeleteItem(e).then((function(){return t.resetSelection(),t.doSearch()})).catch((function(n){t.$emit("delete-item-failed",{id:e.id,errorResponse:n})}))},deleteItems:function(){var e=this;this.isBulkLoading=!0;var t=[];return Object.values(this.selection).forEach((function(n){t.push(e.safeDeleteItem(n))})),Promise.all(t).then((function(){return e.deleteItemsFinish()})).catch((function(){return e.deleteItemsFinish()}))},safeDeleteItem:function(e){return e.deleted=!0,e.deletedDate=new Date,this.repository.save(e,this.items.context)}}});var L=n("/xz3"),M=n.n(L);n("x07r");function V(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=Shopware.Component.getComponentHelper().mapGetters;Shopware.Component.register("neti-easy-coupon-condition-tree",{template:M.a,inject:["easyCouponRuleConditionService","repositoryFactory"],props:{model:{required:!0,type:Object}},computed:N(N({},F("netiEasyCoupon",["easyCouponConditions"])),{},{conditionRepository:function(){return this.repositoryFactory.create(this.model.conditions.entity,this.model.conditions.source)}}),methods:{conditionsChanged:function(e){var t=e.conditions,n=e.deletedIds;Shopware.State.commit("netiEasyCoupon/setEasyCouponConditions",{conditionTree:t,deletedIds:[].concat(V(this.easyCouponConditions.deletedIds),V(n))})}}});var G=n("Uw0g"),H=n.n(G);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=Shopware.Component.getComponentHelper().mapGetters;Shopware.Component.register("neti-easy-coupon-value-field",{template:H.a,props:{value:{required:!0,type:Number},error:{type:Object,required:!1},disabled:{type:Boolean,required:!1},currencyFactor:{required:!0,type:Number},valueType:{required:!1,type:Number}},data:function(){return{currentValue:0}},computed:z(z({},U("netiEasyCoupon",["defaultCurrency"])),{},{isDisabled:function(){return this.disabled}}),watch:{currencyFactor:function(){this.onChange()},currentValue:function(){this.onChange()},valueType:function(){this.onChange()},defaultCurrency:function(e,t){t||this.setValue()}},mounted:function(){this.setValue()},methods:{setValue:function(){10020!==this.valueType?this.currencyFactor<=0||!this.defaultCurrency||(this.currentValue=this.value*this.currencyFactor/this.defaultCurrency.factor):this.currentValue=this.value},onChange:function(){10020!==this.valueType?this.currencyFactor<=0||this.$emit("input",this.currentValue/this.currencyFactor*this.defaultCurrency.factor):this.$emit("input",this.currentValue)}}});var K=n("iiBA"),Z=n.n(K);n("3Lk1");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=Shopware.Component.getComponentHelper().mapGetters;Shopware.Component.register("neti-easy-coupon-price-field-currency-modal",{template:Z.a,inject:["repositoryFactory"],props:{prices:{type:Array,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},X("netiEasyCoupon",["currencies"])),methods:{onClose:function(){this.$emit("modal-close")}}});var Q=n("uWzB"),ee=n.n(Q);n("7UbK");function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=Shopware.Component.getComponentHelper().mapGetters;Shopware.Component.register("neti-easy-coupon-price-field",{template:ee.a,inject:["repositoryFactory"],props:{prices:{type:Array,required:!0},currencyId:{type:String,required:!1},main:{type:Boolean,required:!1,default:function(){return!1}},label:{type:String,required:!1},helpText:{type:String,required:!1}},data:function(){return{currencyModal:!1}},computed:oe(oe({},ie("netiEasyCoupon",["defaultCurrencyId","priceField"])),{},{price:function(){var e=this;return this.prices.find((function(t){return t.currencyId===(e.currencyId||e.defaultCurrencyId)}))}}),mounted:function(){if("object"!==te(this.price)&&!1===this.main){var e=Object.assign({},{currencyId:this.defaultCurrencyId,net:0,linked:!0,gross:0});e.currencyId=this.currencyId,this.prices.push(e)}},methods:{onCurrencyModalClose:function(){this.currencyModal=!1}}});var ae=n("4IRh"),se=n.n(ae);n("PBRA");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=Shopware.Component.getComponentHelper().mapGetters,de=Shopware.Utils.format.currency;Shopware.Component.register("neti-easy-coupon-status",{template:se.a,computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},le("netiEasyCoupon",{status:"couponStatus"})),methods:{currency:function(e,t,n){return n=n||2,null===e?"-":de(e,t,n)}}});var pe=n("rhbM"),me=n.n(pe);function he(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){he(i,o,r,a,s,"next",e)}function s(e){he(i,o,r,a,s,"throw",e)}a(void 0)}))}}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=Shopware,we=ve.Component,Ce=ve.Mixin,xe=Shopware.Data.Criteria,Te=Shopware.Component.getComponentHelper().mapPropertyErrors;we.register("neti-easy-coupon-create-transaction-modal",{template:me.a,inject:["repositoryFactory"],mixins:[Ce.getByName("notification")],props:{model:{type:Object,required:!0},active:{type:Boolean,required:!0}},data:function(){return{transaction:null,isCreating:!1,isCreateSuccessful:!1}},computed:be(be({},Te("transaction",["value","currencyId","internComment"])),{},{transactionRepository:function(){return this.repositoryFactory.create("neti_easy_coupon_transaction")},currencyRepository:function(){return this.repositoryFactory.create("currency")}}),watch:{active:function(e){!0===e&&this.onReset()},"transaction.currencyId":function(e){var t=this;return ye(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t.transaction.currencyId){e.next=5;break}return e.next=3,t.getCurrency(t.transaction.currencyId);case 3:n=e.sent,t.transaction.currencyFactor=n.factor;case 5:case"end":return e.stop()}}),e)})))()}},methods:{onReset:function(){this.isCreateSuccessful=!1,this.isCreating=!1,this.transaction=this.transactionRepository.create(),this.transaction.transactionType=30020,this.transaction.easyCouponId=this.model.id,this.transaction.value=0,this.transaction.currencyFactor=1},onClose:function(){this.onReset(),this.$emit("close")},onCloseButtonClicked:function(){this.onClose()},onCreateButtonClicked:function(){var e=this;return ye(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isCreateSuccessful=!1,e.isCreating=!0,t.prev=2,t.next=5,e.transactionRepository.save(e.transaction,Shopware.Context.api);case 5:e.isCreating=!1,e.isCreateSuccessful=!0,e.createNotificationSuccess({title:e.$t("neti-easy-coupon.transaction-list.create-transaction.successTitle"),message:e.$t("neti-easy-coupon.transaction-list.create-transaction.successMessage")}),e.onClose(),e.$emit("refresh"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.onSaveError();case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()},onCreateFinish:function(){this.isCreateSuccessful=!1},onSaveError:function(){this.createNotificationError({title:this.$t("neti-easy-coupon.transaction-list.create-transaction.errorTitle"),message:this.$t("neti-easy-coupon.transaction-list.create-transaction.errorMessage")}),this.isCreating=!1},getCurrency:function(e){var t=this;return ye(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(o=new xe).addFilter(xe.equals("id",e)),n.next=4,t.currencyRepository.search(o,Shopware.Context.api);case 4:return r=n.sent,n.abrupt("return",r.first());case 6:case"end":return n.stop()}}),n)})))()}}});var Oe=n("8LaC"),Se=n.n(Oe);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=Shopware,ke=Ee.Component,$e=Ee.Mixin,De=Shopware.Data.Criteria,Ie=Shopware.Component.getComponentHelper().mapGetters;ke.register("neti-easy-coupon-list",{template:Se.a,inject:["repositoryFactory","searchTypeService"],mixins:[$e.getByName("listing"),$e.getByName("placeholder")],data:function(){return{data:null,customers:0,sortBy:"createdAt",sortDirection:"DESC",naturalSorting:!0,isLoading:!1,showDeleteModal:!1}},metaInfo:function(){return{title:this.$createTitle()}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({repository:function(){return this.repositoryFactory.create("neti_easy_coupon")},columns:function(){return this.getColumns()},defaultCriteria:function(){var e=new De(this.page,this.limit);return this.naturalSorting="createdAt"===this.sortBy,e.setTerm(this.term),e.addSorting(De.sort(this.sortBy,this.sortDirection,this.naturalSorting)),e.addFilter(De.equals("deleted",!1)),e}},Ie("netiEasyCoupon",["currencies"])),created:function(){Shopware.State.dispatch("netiEasyCoupon/loadCurrencies")},methods:{getList:function(){var e=this;this.isLoading=!0,this.repository.search(this.defaultCriteria,Shopware.Context.api).then((function(t){e.onUpdateRecords(t),e.isLoading=!1})).catch((function(){e.isLoading=!1}))},onUpdateRecords:function(e){this.total=e.total,this.data=e},onDelete:function(e){this.showDeleteModal=e},onCloseDeleteModal:function(){this.showDeleteModal=!1},onConfirmDelete:function(e){var t=this;return this.showDeleteModal=!1,e.deleted=!0,e.deletedDate=new Date,this.repository.save(e,Shopware.Context.api).then((function(){t.getList()}))},getColumns:function(){return[{property:"id",dataIndex:"id",label:"ID",allowResize:!0,visible:!1},{property:"active",dataIndex:"active",label:this.$t("neti-easy-coupon.list.column.active")},{property:"title",dataIndex:"title",label:this.$t("neti-easy-coupon.list.column.title"),primary:!0},{property:"code",dataIndex:"code",label:this.$t("neti-easy-coupon.list.column.code")},{property:"value",dataIndex:"value",label:this.$t("neti-easy-coupon.list.column.value")},{property:"createdAt",dataIndex:"createdAt",label:this.$t("neti-easy-coupon.list.column.createdAt")},{property:"updatedAt",dataIndex:"updatedAt",label:this.$t("neti-easy-coupon.list.column.updatedAt")}]},renderColumnValue:function(e){if(10020===e.valueType)return e.value+" %";if(this.currencies instanceof Array){var t=this.currencies.find((function(t){return t.id===e.currencyId}));if(t)return Math.round(e.value*e.currencyFactor*100)/100+" "+t.isoCode}return"-"}}});var _e=n("G3Rn"),Le=n.n(_e),Me=n("Kvpx"),Ve=n.n(Me);n("X9im");function Ae(e){return new Promise((function(t,n){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){t()}),(function(){n()})):!function(e){var t=document.createElement("textarea"),n=!1;t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")&&(n=!0)}catch(e){}return document.body.removeChild(t),n}(e)?n():t()}))}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=Shopware,Ge=Fe.Component,He=Fe.Mixin,qe=Shopware.Component.getComponentHelper(),ze=qe.mapPropertyErrors,We=qe.mapGetters;Ge.register("neti-easy-coupon-detail-base",{template:Ve.a,mixins:[He.getByName("placeholder"),He.getByName("notification")],props:{model:{type:Object,required:!0},isCreateMode:{type:Boolean,required:!0}},data:function(){return{isGeneratingCode:!1,isGeneratingCodeSuccessful:!1}},computed:Ne(Ne(Ne({},ze("model",["code","currencyId","orderPositionNumber","title","value","valueType","voucherType","comment"])),We("netiEasyCoupon",["customApiErrors"])),{},{valueContainerColumns:function(){return 10020===this.model.valueType?"1fr 1fr":"1fr 1fr 1fr auto"},valueTypeHelpText:function(){return this.$t("neti-easy-coupon.voucher-type-select.helpTexts."+this.model.voucherType)}}),watch:{valueContainerColumns:function(){var e=this;this.$nextTick((function(){return e.$refs.valueContainer.updateCssGrid()}))},"model.valueType":function(e){10020===e&&!0===this.model.discardRemaining&&(this.model.discardRemaining=!1)}},methods:{onGenerateCode:function(){var e=this,t=Shopware.Application.getContainer("init").httpClient,n={Accept:"application/vnd.api+json",Authorization:"Bearer ".concat(Shopware.Context.api.authToken.access),"Content-Type":"application/json"};this.isGeneratingCode=!0,this.isGeneratingCodeSuccessful=!1,t.get("_action/neti-easy-coupon/generate-code",{headers:n}).then((function(t){var n=t.data;e.isGeneratingCode=!1,"string"==typeof n.code?(e.model.code=n.code,e.isGeneratingCodeSuccessful=!0):e.createNotificationError({title:e.$t("neti-easy-coupon.detail.generateCode.errorTitle"),message:e.$t("neti-easy-coupon.detail.generateCode.errorMessage")})}))},onCopyCode:function(){var e=this;Ae(this.model.code).then((function(){e.createNotificationSuccess({title:e.$t("neti-easy-coupon.detail.copyCode.successTitle"),message:e.$t("neti-easy-coupon.detail.copyCode.successMessage")})})).catch((function(){e.createNotificationError({title:e.$t("neti-easy-coupon.detail.copyCode.errorTitle"),message:e.$t("neti-easy-coupon.detail.copyCode.errorMessage")})}))}}});var Ue=n("vpdF"),Ke=n.n(Ue);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=Shopware,Qe=Xe.Component,et=Xe.Mixin,tt=Shopware.Data.Criteria,nt=Shopware.Component.getComponentHelper().mapGetters;function ot(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function it(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function at(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){it(i,o,r,a,s,"next",e)}function s(e){it(i,o,r,a,s,"throw",e)}a(void 0)}))}}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qe.register("neti-easy-coupon-detail-transaction-list",{template:Ke.a,props:{model:{type:Object,required:!0}},inject:["repositoryFactory"],mixins:[et.getByName("notification"),et.getByName("listing")],data:function(){return{data:null,sortBy:"createdAt",sortDirection:"DESC",naturalSorting:!0,isLoading:!1,createTransactionModal:!1}},computed:Je(Je({},nt("netiEasyCoupon",["defaultCurrency"])),{},{repository:function(){return this.repositoryFactory.create("neti_easy_coupon_transaction")},columns:function(){return this.getColumns()},defaultCriteria:function(){var e=new tt(this.page,this.limit);return this.naturalSorting="createdAt"===this.sortBy,e.setTerm(this.term),e.addSorting(tt.sort(this.sortBy,this.sortDirection,this.naturalSorting)),e.addFilter(tt.equals("easyCouponId",this.model.id)),e.addAssociation("currency"),e.addAssociation("customer"),e.addAssociation("order"),e.addAssociation("user"),e}}),methods:{onRefresh:function(){this.$emit("refresh"),this.getList()},getList:function(){var e=this;this.isLoading=!0,this.repository.search(this.defaultCriteria,Shopware.Context.api).then((function(t){return e.total=t.total,e.data=t,e.isLoading=!1,t})).catch((function(){e.isLoading=!1}))},getColumns:function(){return[{property:"createdAt",dataIndex:"createdAt",label:this.$t("neti-easy-coupon.transaction-list.column.createdAt")},{property:"id",dataIndex:"id",label:this.$t("neti-easy-coupon.transaction-list.column.id"),allowResize:!0,visible:!1},{property:"value",dataIndex:"value",label:this.$t("neti-easy-coupon.transaction-list.column.value")},{property:"currency.isoCode",dataIndex:"currency.isoCode",label:this.$t("neti-easy-coupon.transaction-list.column.currency")},{property:"internComment",dataIndex:"internComment",label:this.$t("neti-easy-coupon.transaction-list.column.internComment")},{property:"order",dataIndex:"order",label:this.$t("neti-easy-coupon.transaction-list.column.orderNumber")},{property:"user.username",dataIndex:"user.username",label:this.$t("neti-easy-coupon.transaction-list.column.username")},{property:"customer",dataIndex:"customer",label:this.$t("neti-easy-coupon.transaction-list.column.customer")}]},getValue:function(e){return Math.round(e.value*e.currencyFactor/this.defaultCurrency.factor*100)/100},onCreateTransactionButtonClicked:function(){this.createTransactionModal=!0}}});var lt=Shopware,dt=lt.Component,pt=lt.Mixin,mt=Shopware.Data.Criteria,ht=Shopware.Component.getComponentHelper().mapGetters;dt.register("neti-easy-coupon-detail",{template:Le.a,inject:["repositoryFactory"],mixins:[pt.getByName("notification"),pt.getByName("placeholder")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onAbortButtonClick"},data:function(){return{isLoading:!1,isSaveSuccessful:!1,model:null,validateCodeTimeout:null}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:ct({repository:function(){return this.repositoryFactory.create("neti_easy_coupon")},transactionRepository:function(){return this.repositoryFactory.create("neti_easy_coupon_transaction")},isCreateMode:function(){return this.$route.name.includes("neti.easy_coupon.create")},conditionRepository:function(){return this.model?this.repositoryFactory.create(this.model.conditions.entity,this.model.conditions.source):null}},ht("netiEasyCoupon",["transactionTypes","currencies","defaultCurrencyId","easyCouponConditions"])),created:function(){Shopware.State.dispatch("netiEasyCoupon/loadConfig"),Shopware.State.dispatch("netiEasyCoupon/loadCurrencies"),this.createdComponent()},watch:{"$route.params.id":function(){this.createdComponent()},"model.currencyId":function(){this.setCurrencyFactor()},currencies:function(){this.setCurrencyFactor()},"model.code":function(){clearTimeout(this.validateCodeTimeout),this.validateCodeTimeout=setTimeout(this.validateCode.bind(this),250)},"model.voucherType":function(){40010===this.model.voucherType&&(this.model.discardRemaining=!1)},defaultCurrencyId:function(e){null!==this.model&&!0===this.isCreateMode&&(this.model.maxRedemptionValue[0].currencyId=e)}},methods:{createdComponent:function(){var e=this;this.isLoading=!0,Shopware.State.commit("netiEasyCoupon/setCouponStatus",null),this.isCreateMode?(Shopware.State.getters["context/isSystemDefaultLanguage"]||Shopware.State.commit("context/resetLanguageToDefault"),this.model=this.repository.create(Shopware.Context.api),this.model.active=!0,this.model.discardRemaining=!1,this.model.shippingCharge=!1,this.model.excludeFromShippingCosts=!1,this.model.noDeliveryCharge=!1,this.model.customerGroupCharge=!1,this.model.mailSent=!1,this.model.currencyFactor=0,this.model.individualVoucher=!1,this.model.valueType=null,this.model.voucherType=null,this.model.value=0,this.model.maxRedemptionValue=[{currencyId:this.defaultCurrencyId,net:0,linked:!0,gross:0}],this.model.combineVouchers=!1,this.model.redemptionOrder=0,this.isLoading=!1):this.repository.get(this.$route.params.id,Shopware.Context.api).then((function(t){t.maxRedemptionValue instanceof Array||(t.maxRedemptionValue=[{currencyId:e.defaultCurrencyId,net:0,linked:!0,gross:0}]),e.model=t,e.isLoading=!1,e.loadConditions(),e.loadStatus()}))},onSave:function(){var e=this;return at(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isSaveSuccessful=!1,e.isLoading=!0,10020!==e.model.valueType||e.model.currencyId||(e.model.currencyId=e.currencies.first().id),t.prev=3,!0!==e.isCreateMode){t.next=16;break}return n=e.transactionRepository.create(Shopware.Context.api),n=Object.assign(n,{transactionType:e.transactionTypes.createdByAdmin,value:e.model.value,internComment:"",currencyFactor:e.model.currencyFactor,currencyId:e.model.currencyId,easyCouponId:e.model.id,customerId:null,userId:null}),e.model.conditions=e.easyCouponConditions.conditionTree,t.next=10,e.validateCode();case 10:return t.next=12,e.repository.save(e.model,Shopware.Context.api);case 12:return t.next=14,e.transactionRepository.save(n,Shopware.Context.api);case 14:return e.onSaveSuccess(),t.abrupt("return");case 16:return t.next=18,e.validateCode();case 18:return t.next=20,e.repository.save(e.model,Shopware.Context.api);case 20:return t.next=22,e.syncConditions();case 22:e.onSaveSuccess(),e.createdComponent(),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(3),e.onSaveError();case 29:case"end":return t.stop()}}),t,null,[[3,26]])})))()},onSaveFinish:function(){this.isSaveSuccessful=!1,this.isCreateMode&&this.$router.push({name:"neti.easy_coupon.detail",params:{id:this.model.id}})},onSaveSuccess:function(){this.createNotificationSuccess({title:this.$t("neti-easy-coupon.detail.successTitle"),message:this.$t("neti-easy-coupon.detail.successMessage")}),this.isLoading=!1,this.isSaveSuccessful=!0},onSaveError:function(){this.createNotificationError({title:this.$t("neti-easy-coupon.detail.errorTitle"),message:this.$t("neti-easy-coupon.detail.errorMessage")}),this.isLoading=!1},onAbortButtonClick:function(){this.$router.push({name:"neti.easy_coupon.overview"}),this.isLoading=!1},abortOnLanguageChange:function(){return this.repository.hasChanges(this.model)},saveOnLanguageChange:function(){return this.onSave()},onChangeLanguage:function(){this.createdComponent()},validateCode:function(){var e=this;return new Promise((function(t,n){if(Shopware.State.dispatch("netiEasyCoupon/setError",{entity:"neti_easy_coupon",field:"code",error:null}),e.model.code){var o=e.repository.changesetGenerator.generate(e.model).changes;if(null!==o&&!1!==o.hasOwnProperty("code")){var r=Shopware.Application.getContainer("init").httpClient,i={Accept:"application/vnd.api+json",Authorization:"Bearer ".concat(Shopware.Context.api.authToken.access),"Content-Type":"application/json"};r.post("_action/neti-easy-coupon/validate-code",{code:e.model.code},{headers:i}).then((function(e){!1===e.data.valid?(Shopware.State.dispatch("netiEasyCoupon/setError",{entity:"neti_easy_coupon",field:"code",error:{code:"neti-easy-coupon.codeNotAvailable"}}),n()):t()}))}else t()}else t()}))},setCurrencyFactor:function(){if(this.model&&this.currencies&&!this.model.currencyFactor){var e=this.currencies.get(this.model.currencyId);e&&(this.model.currencyFactor=e.factor)}},loadConditions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=ct(ct({},Shopware.Context.api),{},{inheritance:!0});if(null===t)return this.conditionRepository.search(new mt,n).then((function(t){return e.loadConditions(t)}));if(t.total<=t.length)return this.model.conditions=t,Promise.resolve();var o=new mt(t.criteria.page+1,t.criteria.limit);return"product"===t.entity&&o.addAssociation("options.group"),this.conditionRepository.search(o,t.context).then((function(n){return t.push.apply(t,ot(n)),t.criteria=n.criteria,t.total=n.total,e.loadConditions(t)}))},syncConditions:function(){var e=this;return at(regeneratorRuntime.mark((function t(){var n,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.easyCouponConditions,o=n.conditionTree,r=n.deletedIds,t.next=3,e.conditionRepository.sync(o,Shopware.Context.api);case 3:if(!(r.length>0)){t.next=6;break}return t.next=6,e.conditionRepository.syncDeleted(r,Shopware.Context.api);case 6:case"end":return t.stop()}}),t)})))()},loadStatus:function(){var e=this;return Shopware.State.commit("netiEasyCoupon/setCouponStatus",null),new Promise((function(t,n){var o=Shopware.Application.getContainer("init").httpClient,r={Accept:"application/vnd.api+json",Authorization:"Bearer ".concat(Shopware.Context.api.authToken.access),"Content-Type":"application/json"};o.get("_action/neti-easy-coupon/status/"+e.model.id,{headers:r}).then((function(e){var t=e.data,n=t.success,o=t.data;n&&Shopware.State.commit("netiEasyCoupon/setCouponStatus",o)}))}))},onRefresh:function(){this.loadStatus()}}}),Shopware.Module.register("neti-easy_coupon",{type:"plugin",name:"NetiNextEasyCoupon",title:"neti-easy-coupon.general.mainMenuItemGeneral",description:"neti-easy-coupon.general.descriptionTextModule",icon:"default-package-gift",entity:"neti_easy_coupon",snippets:{"de-DE":$,"en-GB":D},routes:{overview:{components:{default:"neti-easy-coupon-list"},path:"overview"},create:{component:"neti-easy-coupon-detail",path:"create",meta:{parentPath:"neti.easy_coupon.overview"},redirect:{name:"neti.easy_coupon.create.base"},children:{base:{component:"neti-easy-coupon-detail-base",path:"base",meta:{parentPath:"neti.easy_coupon.overview"}}}},detail:{component:"neti-easy-coupon-detail",path:"detail/:id",meta:{parentPath:"neti.easy_coupon.overview"},redirect:{name:"neti.easy_coupon.detail.base"},children:{base:{component:"neti-easy-coupon-detail-base",path:"base",meta:{parentPath:"neti.easy_coupon.overview"}},transactions:{component:"neti-easy-coupon-detail-transaction-list",path:"transactions",meta:{parentPath:"neti.easy_coupon.overview"}}}}},navigation:[{id:"neti-easy-coupon-list",path:"neti.easy_coupon.overview",label:"neti-easy-coupon.general.mainMenuItemGeneral",position:-1e3,parent:"sw-marketing"}]});var yt=n("ZgPF"),ft=n("w4FU"),bt=n("bYSa"),gt=n.n(bt);n("7l3E");function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=Shopware.Component.getComponentHelper().mapGetters;Shopware.Component.register("neti-easy-coupon-product-price-field",{template:gt.a,inject:["repositoryFactory"],props:{prices:{type:Array,required:!0},valueType:{type:Number},currencyId:{type:String,required:!1},main:{type:Boolean,required:!1,default:function(){return!1}}},data:function(){return{currencyModal:!1}},computed:Ct(Ct({},Tt("netiEasyCoupon",["defaultCurrencyId","priceField"])),{},{price:function(){var e=this;return this.prices.find((function(t){return t.currencyId===(e.currencyId||e.defaultCurrencyId)}))}}),watch:{"price.selectableValues":function(){var e=this;this.price.selectableValues.forEach((function(t,n){"number"!=typeof t&&(e.price.selectableValues[n]=parseFloat(t))}))}},mounted:function(){if("object"!==vt(this.price)&&!1===this.main){var e=Object.assign({},this.priceField);e.currencyId=this.currencyId,this.prices.push(e)}},methods:{onValidateValue:function(e){var t=e.replace(/,/g,".");return parseFloat(t).toString()===t&&-1===this.price.selectableValues.indexOf(e)},onCurrencyModalClose:function(){this.currencyModal=!1}}});var Ot=n("C8kQ"),St=n.n(Ot);n("PQ3k");function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=Shopware.Component.getComponentHelper().mapGetters;Shopware.Component.register("neti-easy-coupon-product-price-field-currency-modal",{template:St.a,inject:["repositoryFactory"],props:{prices:{type:Array,required:!0},valueType:{type:Number,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Et("netiEasyCoupon",["currencies"])),methods:{onClose:function(){this.$emit("modal-close")}}});n("Vpt4");var kt=n("uN8W"),$t=n.n(kt);n("59a9");function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=Shopware.Component.getComponentHelper().mapGetters,Mt=Shopware.Data.Criteria;Shopware.Component.register("neti-easy-coupon-product-product-price-field",{template:$t.a,inject:["repositoryFactory"],props:{value:{type:Array,required:!0},taxId:{type:String},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{taxRates:[],displayMaintainCurrencies:!1}},computed:It(It({},Lt("netiEasyCoupon",["defaultCurrencyId","currencies"])),{},{currency:function(){var e=this;return this.currencies.find((function(t){return t.id===e.defaultCurrencyId}))},defaultPrice:function(){var e=this;return this.value.find((function(t){return t.currencyId===e.currency.id}))},taxRepository:function(){return this.repositoryFactory.create("tax")},taxRate:function(){var e=this;return this.taxRates.find((function(t){return t.id===e.taxId}))||{}}}),mounted:function(){this.loadTaxes()},methods:{loadTaxes:function(){var e=this,t=new Mt;this.taxRepository.search(t,Shopware.Context.api).then((function(t){e.taxRates=t}))},onCloseCurrenciesModal:function(e){this.$emit("input",e),this.displayMaintainCurrencies=!1}}});var Vt=n("jySF"),At=n.n(Vt);Shopware.Component.register("neti-easy-coupon-product-open-link",{template:At.a,inject:["repositoryFactory"],props:{model:{type:Object,required:!0},product:{type:Object,required:!0}},data:function(){return{confirmOpen:!1}},computed:{repository:function(){return this.repositoryFactory.create("neti_easy_coupon_product")},productRepository:function(){return this.repositoryFactory.create("product")}},methods:{onClick:function(){!1!==this.hasChanges()?this.confirmOpen=!0:this.openProduct()},openProduct:function(){this.$router.push({name:"sw.product.detail",params:{id:this.product.id}})},hasChanges:function(){return this.repository.hasChanges(this.model)||this.productRepository.hasChanges(this.product)}}});var Rt=n("srhp"),Nt=n.n(Rt);function Bt(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}Shopware.Component.extend("neti-easy-coupon-product-entity-listing","sw-entity-listing",{template:Nt.a,inject:["repositoryFactory"],computed:{productRepository:function(){return this.repositoryFactory.create("product")}},methods:{deleteItem:function(e){var t=this;return this.deleteId=null,this.deleteCoupon(e).then((function(){return t.resetSelection(),t.doSearch()})).catch((function(e){t.$emit("delete-item-failed",{id:id,errorResponse:e})}))},deleteItems:function(){var e=this;this.isBulkLoading=!0;var t=[];return Object.values(this.selection).forEach((function(n){t.push(e.deleteCoupon(n))})),Promise.all(t).then((function(){return e.deleteItemsFinish()})).catch((function(){return e.deleteItemsFinish()}))},deleteCoupon:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e.productId){t.next=4;break}return t.next=3,n.productRepository.delete(e.productId,Shopware.Context.api);case 3:return t.abrupt("return",t.sent);case 4:return t.next=6,n.repository.delete(e.id,n.items.context);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){Bt(i,o,r,a,s,"next",e)}function s(e){Bt(i,o,r,a,s,"throw",e)}a(void 0)}))})()}}});var Ft=n("JjeD"),Gt=n.n(Ft);n("mMAW");function Ht(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=Shopware.Component.getComponentHelper().mapGetters;Shopware.Component.register("neti-easy-coupon-product-condition-tree",{template:Gt.a,inject:["easyCouponRuleConditionService","repositoryFactory"],props:{model:{required:!0,type:Object}},computed:Wt(Wt({},Kt("netiEasyCoupon",["easyCouponProductConditions"])),{},{conditionRepository:function(){return this.repositoryFactory.create(this.model.conditions.entity,this.model.conditions.source)}}),methods:{conditionsChanged:function(e){var t=e.conditions,n=e.deletedIds;Shopware.State.commit("netiEasyCoupon/setEasyCouponProductConditions",{conditionTree:t,deletedIds:[].concat(Ht(this.easyCouponProductConditions.deletedIds),Ht(n))})}}});var Zt=n("om1H"),Jt=n.n(Zt),Yt=Shopware,Xt=Yt.Component,Qt=Yt.Mixin,en=Shopware.Data.Criteria;Xt.register("neti-easy-coupon-product-list",{template:Jt.a,inject:["repositoryFactory","searchTypeService"],mixins:[Qt.getByName("listing"),Qt.getByName("placeholder")],data:function(){return{data:null,customers:0,sortBy:"createdAt",sortDirection:"DESC",naturalSorting:!0,isLoading:!1,showDeleteModal:!1}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("neti_easy_coupon_product")},productRepository:function(){return this.repositoryFactory.create("product")},columns:function(){return this.getColumns()},defaultCriteria:function(){var e=new en(this.page,this.limit);return this.naturalSorting="createdAt"===this.sortBy,e.setTerm(this.term),e.addSorting(en.sort(this.sortBy,this.sortDirection,this.naturalSorting)),e}},methods:{getList:function(){var e=this;this.isLoading=!0,this.repository.search(this.defaultCriteria,Shopware.Context.api).then((function(t){e.onUpdateRecords(t),e.isLoading=!1})).catch((function(){e.isLoading=!1}))},onUpdateRecords:function(e){this.total=e.total,this.data=e},onDelete:function(e){this.showDeleteModal=e},onCloseDeleteModal:function(){this.showDeleteModal=!1},onConfirmDelete:function(e){return this.showDeleteModal=!1,"string"==typeof e.productId?Promise.all([this.productRepository.delete(e.productId,Shopware.Context.api),this.repository.delete(e.id,Shopware.Context.api)]).then(this.getList):this.repository.delete(e.id,Shopware.Context.api).then(this.getList)},getColumns:function(){return[{property:"id",dataIndex:"id",label:this.$t("neti-easy-coupon-product.list.column.id"),allowResize:!0,visible:!1},{property:"title",dataIndex:"title",label:this.$t("neti-easy-coupon-product.list.column.title"),primary:!0},{property:"valueType",dataIndex:"valueType",label:this.$t("neti-easy-coupon-product.list.column.valueType"),primary:!0},{property:"createdAt",dataIndex:"createdAt",label:this.$t("neti-easy-coupon-product.list.column.createdAt")},{property:"updatedAt",dataIndex:"updatedAt",label:this.$t("neti-easy-coupon-product.list.column.updatedAt")}]}}});var tn=n("CPno"),nn=n.n(tn),on=n("fu5W"),rn=n.n(on);n("MTtU");function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un=Shopware,ln=un.Component,dn=un.Mixin,pn=Shopware.Component.getComponentHelper(),mn=pn.mapPropertyErrors,hn=pn.mapGetters;function yn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function bn(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function gn(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){bn(i,o,r,a,s,"next",e)}function s(e){bn(i,o,r,a,s,"throw",e)}a(void 0)}))}}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ln.register("neti-easy-coupon-product-detail-base",{template:rn.a,mixins:[dn.getByName("placeholder")],props:{model:{type:Object,required:!0},isCreateMode:{type:Boolean,required:!0},repository:{type:Object,required:!0}},computed:sn(sn(sn({product:function(){return this.model.product}},mn("model",["title","orderPositionNumber"])),mn("product",["name","productNumber","stock","taxId"])),hn("netiEasyCoupon",["customApiErrors"])),methods:{openProduct:function(){console.log(this.repository.hasChanges(this.model))}}});var xn=Shopware,Tn=xn.Component,On=xn.Mixin,Sn=Shopware.Data.Criteria,Pn=Shopware.Component.getComponentHelper().mapGetters;Tn.register("neti-easy-coupon-product-detail",{template:nn.a,inject:["repositoryFactory","numberRangeService"],mixins:[On.getByName("notification"),On.getByName("placeholder")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onAbortButtonClick"},data:function(){return{isLoading:!1,isSaveSuccessful:!1,model:null,productNumberPreview:null}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:wn(wn({},Pn("netiEasyCoupon",["defaultCurrencyId","priceField","freeTaxId","easyCouponProductConditions"])),{},{repository:function(){return this.repositoryFactory.create("neti_easy_coupon_product")},productRepository:function(){return this.repositoryFactory.create("product")},taxRepository:function(){return this.repositoryFactory.create("tax")},isCreateMode:function(){return this.$route.name.includes("neti.easy_coupon_product.create")},defaultCriteria:function(){var e=new Sn;return e.addAssociation("product.categories"),e.addAssociation("product.visibilities.salesChannel"),e.addAssociation("product.tags"),e},productNotSaved:function(){return!this.model||!this.model.product||this.model.product._isNew},conditionRepository:function(){return this.model?this.repositoryFactory.create(this.model.conditions.entity,this.model.conditions.source):null}}),created:function(){Shopware.State.dispatch("netiEasyCoupon/loadConfig"),Shopware.State.dispatch("netiEasyCoupon/loadCurrencies"),this.createdComponent()},watch:{"$route.params.id":function(){this.createdComponent()},defaultCurrencyId:function(e){null!==this.model&&!0===this.isCreateMode&&(this.model.value[0].currencyId=e)},"model.product.productNumber":function(){Shopware.State.dispatch("netiEasyCoupon/setError",{entity:"product",field:"productNumber",error:null})},freeTaxId:function(e){this.model&&this.model.product&&null===this.model.product.taxId&&e&&(this.model.product.taxId=e)}},methods:{createdComponent:function(){var e=this;this.isLoading=!0,this.isCreateMode?(Shopware.State.getters["context/isSystemDefaultLanguage"]||Shopware.State.commit("context/resetLanguageToDefault"),this.model=this.repository.create(Shopware.Context.api),this.model=Object.assign(this.model,{title:"",valueType:null,value:[{currencyId:this.defaultCurrencyId,gross:0,net:0,linked:!1,from:0,to:0,selectableValues:[]}],taxId:null,orderPositionNumber:"",postal:!1,shippingCharge:!1,excludeFromShippingCosts:!1,noDeliveryCharge:!1,customerGroupCharge:!1,combineVouchers:!1,validityTime:0,validityByEndOfYear:!1}),this.isLoading=!1):this.repository.get(this.$route.params.id,Shopware.Context.api,this.defaultCriteria).then((function(t){return e.model=t,e.isLoading=!1,e.createProductIfNotExists(),e.loadConditions()}))},onSave:function(){var e=this;return gn(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isSaveSuccessful=!1,e.isLoading=!0,t.prev=2,!0!==e.isCreateMode){t.next=10;break}return e.model.conditions=e.easyCouponProductConditions.conditionTree,t.next=7,e.repository.save(e.model,Shopware.Context.api);case 7:e.onSaveSuccess(),t.next=32;break;case 10:return t.next=12,e.repository.save(e.model,Shopware.Context.api);case 12:return t.next=14,e.syncConditions();case 14:if(!0!==e.model.product._isNew||e.productNumberPreview!==e.model.product.productNumber){t.next=20;break}return t.next=17,e.numberRangeService.reserve("product");case 17:n=t.sent,e.productNumberPreview="reserved",e.model.product.productNumber=n.number;case 20:return t.next=22,e.productRepository.save(e.model.product,Shopware.Context.api);case 22:if(e.model.productId===e.model.product.id){t.next=30;break}return t.next=25,e.productRepository.get(e.model.product.id,Shopware.Context.api);case 25:return o=t.sent,e.model.productId=o.id,e.model.productVersionId=o.versionId,t.next=30,e.repository.save(e.model,Shopware.Context.api);case 30:e.onSaveSuccess(),e.createdComponent();case 32:t.next=38;break;case 34:t.prev=34,t.t0=t.catch(2),e.handleProductSaveErrors(t.t0),e.onSaveError();case 38:case"end":return t.stop()}}),t,null,[[2,34]])})))()},onSaveFinish:function(){this.isSaveSuccessful=!1,this.isCreateMode&&this.$router.push({name:"neti.easy_coupon_product.detail",params:{id:this.model.id}})},onSaveSuccess:function(){this.createNotificationSuccess({title:this.$t("neti-easy-coupon-product.detail.successTitle"),message:this.$t("neti-easy-coupon-product.detail.successMessage")}),this.isLoading=!1,this.isSaveSuccessful=!0},onSaveError:function(){this.createNotificationError({title:this.$t("neti-easy-coupon-product.detail.errorTitle"),message:this.$t("neti-easy-coupon-product.detail.errorMessage")}),this.isLoading=!1},onAbortButtonClick:function(){this.$router.push({name:"neti.easy_coupon_product.overview"}),this.isLoading=!1},abortOnLanguageChange:function(){return this.repository.hasChanges(this.model)},saveOnLanguageChange:function(){return this.onSave()},onChangeLanguage:function(){this.createdComponent()},createProductIfNotExists:function(){var e=this;this.model.product||(this.model.product=this.productRepository.create(Shopware.Context.api),this.model.product=Object.assign(this.model.product,{name:"",active:!0,taxId:this.freeTaxId||null,price:[{currencyId:this.defaultCurrencyId,net:0,linked:!0,gross:0}],stock:null,productNumber:null}),this.numberRangeService.reserve("product","",!0).then((function(t){e.model.product.productNumber=t.number,e.productNumberPreview=t.number})))},handleProductSaveErrors:function(e){var t=[];e&&e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),t.forEach((function(e){"CONTENT__DUPLICATE_PRODUCT_NUMBER"===e.code&&Shopware.State.dispatch("netiEasyCoupon/setError",{entity:"product",field:"productNumber",error:{code:"neti-easy-coupon.productNumberAlreadyInUse"}})}))},loadConditions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=wn(wn({},Shopware.Context.api),{},{inheritance:!0});if(null===t)return this.conditionRepository.search(new Sn,n).then((function(t){return e.loadConditions(t)}));if(t.total<=t.length)return this.model.conditions=t,Promise.resolve();var o=new Sn(t.criteria.page+1,t.criteria.limit);return"product"===t.entity&&o.addAssociation("options.group"),this.conditionRepository.search(o,t.context).then((function(n){return t.push.apply(t,yn(n)),t.criteria=n.criteria,t.total=n.total,e.loadConditions(t)}))},syncConditions:function(){var e=this;return gn(regeneratorRuntime.mark((function t(){var n,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.easyCouponProductConditions,o=n.conditionTree,r=n.deletedIds,t.next=3,e.conditionRepository.sync(o,Shopware.Context.api);case 3:if(!(r.length>0)){t.next=6;break}return t.next=6,e.conditionRepository.syncDeleted(r,Shopware.Context.api);case 6:case"end":return t.stop()}}),t)})))()}}}),Shopware.Module.register("neti-easy_coupon_product",{type:"plugin",name:"NetiNextEasyCoupon",title:"neti-easy-coupon-product.general.mainMenuItemGeneral",description:"neti-easy-coupon-product.general.descriptionTextModule",icon:"default-device-database",entity:"neti_easy_coupon_product",snippets:{"de-DE":yt,"en-GB":ft},routes:{overview:{components:{default:"neti-easy-coupon-product-list"},path:"overview"},create:{component:"neti-easy-coupon-product-detail",path:"create",meta:{parentPath:"neti.easy_coupon_product.overview"},redirect:{name:"neti.easy_coupon_product.create.base"},children:{base:{component:"neti-easy-coupon-product-detail-base",path:"base",meta:{parentPath:"neti.easy_coupon_product.overview"}}}},detail:{component:"neti-easy-coupon-product-detail",path:"detail/:id",meta:{parentPath:"neti.easy_coupon_product.overview"},redirect:{name:"neti.easy_coupon_product.detail.base"},children:{base:{component:"neti-easy-coupon-product-detail-base",path:"base",meta:{parentPath:"neti.easy_coupon_product.overview"}}}}}});n("U4Wn");var jn=n("+gsj"),En=n.n(jn);Shopware.Component.override("sw-product-detail-base",{template:En.a});var kn=n("w4tj"),$n=n.n(kn);Shopware.Component.override("sw-customer-detail",{template:$n.a,computed:{ecCustomerVoucherRoute:function(){return{name:"neti.easy-coupon.customer.detail.vouchers",params:{id:this.customerId}}}}});var Dn=n("9bLs"),In=n.n(Dn);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=Shopware,Vn=Mn.Component,An=Mn.Mixin,Rn=Shopware.Data.Criteria,Nn=Shopware.Component.getComponentHelper().mapGetters;Vn.register("neti-easy-coupon-customer-tab",{template:In.a,props:{customer:{type:Object,required:!0}},inject:["repositoryFactory","searchTypeService"],mixins:[An.getByName("listing"),An.getByName("placeholder")],data:function(){return{isError:!1,data:null,easyCouponIds:null,values:[],customers:0,sortBy:"createdAt",sortDirection:"DESC",naturalSorting:!0,isLoading:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({repository:function(){return this.repositoryFactory.create("neti_easy_coupon")},voucherTransactionRepository:function(){return this.repositoryFactory.create("neti_easy_coupon_transaction")},columns:function(){return this.getColumns()},voucherTransactionCriteria:function(){var e=new Rn;return e.addFilter(Rn.equals("customerId",this.customer.id)),e.addFilter(Rn.equals("easyCoupon.deleted",!1)),e.addAssociation("easyCoupon"),e.addAssociation("easyCoupon.currency"),e.addGroupField("easyCouponId"),e},defaultCriteria:function(){var e=new Rn(this.page,this.limit);return this.naturalSorting="createdAt"===this.sortBy,e.setTerm(this.term),e.addSorting(Rn.sort(this.sortBy,this.sortDirection,this.naturalSorting)),e.addFilter(Rn.equals("deleted",!1)),e.addFilter(Rn.equalsAny("id",this.easyCouponIds)),e}},Nn("netiEasyCoupon",["currencies"])),created:function(){Shopware.State.dispatch("netiEasyCoupon/loadCurrencies")},methods:{getList:function(){var e=this;this.isLoading=!0,this.loadVouchers().then((function(t){e.values=t,e.isLoading=!1,e.getCustomersVoucherIds().then((function(){e.easyCouponIds&&e.easyCouponIds.length>0&&e.repository.search(e.defaultCriteria,Shopware.Context.api).then((function(t){e.onUpdateRecords(t),e.isLoading=!1})).catch((function(){e.isLoading=!1}))}))})).catch((function(){e.isError=!0,e.isLoading=!1}))},isVoucherPaid:function(e){return this.values[e].active},loadVouchers:function(){var e=this;return new Promise((function(t,n){var o=Shopware.Application.getContainer("init").httpClient,r={Accept:"application/vnd.api+json",Authorization:"Bearer ".concat(Shopware.Context.api.authToken.access),"Content-Type":"application/json"};o.get("_action/neti-easy-coupon/customer-vouchers/"+e.customer.id,{headers:r}).then((function(e){var o=e.data,r=o.success,i=o.data;!0===r?t(i):n("Can not fetch customers vouchers")}))}))},getCustomersVoucherIds:function(){var e=this;return this.voucherTransactionRepository.search(this.voucherTransactionCriteria,Shopware.Context.api).then((function(t){null!==t.total&&(e.easyCouponIds=t.map((function(e){return e.easyCouponId})))})).catch((function(){e.isLoading=!1}))},onUpdateRecords:function(e){this.total=e.total,this.data=e},getColumns:function(){return[{property:"id",dataIndex:"id",label:"ID",allowResize:!0,visible:!1},{property:"active",dataIndex:"active",label:this.$t("neti-easy-coupon.customer.column.paid")},{property:"title",dataIndex:"title",label:this.$t("neti-easy-coupon.customer.column.title"),primary:!0},{property:"code",dataIndex:"code",label:this.$t("neti-easy-coupon.customer.column.code")},{property:"value",dataIndex:"value",label:this.$t("neti-easy-coupon.customer.column.value")},{property:"cashedValue",dataIndex:"cashedValue",label:this.$t("neti-easy-coupon.customer.column.cashedValue")},{property:"restValue",dataIndex:"restValue",label:this.$t("neti-easy-coupon.customer.column.restValue")}]},renderColumnValue:function(e,t){var n=this.values[e.id][t];if(10020===e.valueType)return n+" %";if(this.currencies instanceof Array&&0!==n){var o=this.currencies.find((function(t){return t.id===e.currencyId}));if(o)return Math.round(n*e.currencyFactor*100)/100+" "+o.isoCode}return"-"}}});var Bn=n("8DXu"),Fn=n.n(Bn);n("LPtN");function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Shopware.Component.register("neti-easy-coupon-order-detail-vouchers",{template:Fn.a,props:{order:{type:Object,required:!0},data:{type:Array,required:!0},isLoading:{type:Boolean,required:!1}},computed:{columns:function(){return this.getColumns()},mappedData:function(){var e=this,t=[];return this.data.forEach((function(n){if("purchasableVoucher"===e.getVoucherType(n)){var o=n.payload.netiNextEasyCoupon.vouchers||[];o.length||t.push(n),o.map((function(e){return Hn(Hn({},n),{},{id:e.id,payload:Hn(Hn({},n.payload),{},{netiNextEasyCoupon:Hn(Hn({},n.payload.netiNextEasyCoupon),{},{voucherId:e.id,code:e.code})})})})).forEach((function(e){return t.push(e)}))}else t.push(n)})),t}},methods:{getColumns:function(){return[{property:"type",dataIndex:"type",label:this.$t("neti-easy-coupon.order-detail.voucherList.column.type")},{property:"name",dataIndex:"name",label:this.$t("neti-easy-coupon.order-detail.voucherList.column.name")},{property:"value",dataIndex:"value",label:this.$t("neti-easy-coupon.order-detail.voucherList.column.value")},{property:"code",dataIndex:"code",label:this.$t("neti-easy-coupon.order-detail.voucherList.column.code")}]},getVoucherType:function(e){return"netiEasyCoupon"===e.payload.discountScope?"voucher":"netiNextEasyCoupon"in e.payload?"purchasableVoucher":"invalid"},getCode:function(e){return e.payload.code||e.payload.netiNextEasyCoupon.code},onOpenVoucher:function(e){var t=this.getVoucherType(e),n=null;"voucher"===t?n=e.payload.discountId:("purchasableVoucher"===t||"netiNextEasyCoupon"in e.payload)&&(n=e.payload.netiNextEasyCoupon.voucherId),null!=n&&this.$router.push({name:"neti.easy_coupon.detail",params:{id:n}})}}});n("t7us");var zn=n("vIAK"),Wn=n.n(zn);n("deAe");Shopware.Component.override("sw-order-detail-base",{template:Wn.a,computed:{hasEasyCouponVouchers:function(){return this.easyCouponVouchers.length>0},easyCouponVouchers:function(){return this.order?this.order.lineItems.filter((function(e){return"netiEasyCoupon"===e.payload.discountScope||"netiNextEasyCoupon"in e.payload})):[]}}});var Un=n("DS8m"),Kn=n.n(Un);n("XfGx");function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn=Shopware.Component,Qn=Xn.getComponentHelper().mapPropertyErrors;Xn.extend("sw-condition-neti-easy-coupon-uses-per-customer","sw-condition-base",{template:Kn.a,computed:Jn(Jn({value:{get:function(){return this.ensureValueExist(),this.condition.value.value||1},set:function(e){this.ensureValueExist(),this.condition.value=Jn(Jn({},this.condition.value),{},{value:e})}}},Qn("condition",["value.value"])),{},{currentError:function(){return this.conditionValueValueError}}),watch:{"condition.value":{deep:!0,immediate:!0,handler:function(){"number"!=typeof this.condition.value.value&&(this.condition.value.value=1)}}}});n("ToTw");var eo=n("0cAn"),to=n.n(eo);function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var io=Shopware,ao=io.Component,so=io.Context,co=ao.getComponentHelper().mapPropertyErrors,uo=Shopware.Data,lo=uo.EntityCollection,po=uo.Criteria;ao.extend("sw-condition-neti-easy-coupon-customer","sw-condition-base",{template:to.a,inject:["repositoryFactory"],data:function(){return{customers:null}},computed:oo(oo({operators:function(){return this.conditionDataProviderService.getOperatorSet("multiStore")},customerRepository:function(){return this.repositoryFactory.create("customer")},customerIds:{get:function(){return this.ensureValueExist(),this.condition.value.customerIds||[]},set:function(e){this.ensureValueExist(),this.condition.value=oo(oo({},this.condition.value),{},{customerIds:e})}}},co("condition",["value.operator","value.customerIds"])),{},{currentError:function(){return this.conditionValueOperatorError||this.conditionValueCustomerIdsError}}),created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;if(this.customers=new lo(this.customerRepository.route,this.customerRepository.entityName,so.api),this.customerIds.length<=0)return Promise.resolve();var t=new po;return t.setIds(this.customerIds),this.customerRepository.search(t,so.api).then((function(t){e.customers=t}))},setCustomerIds:function(e){this.customerIds=e.getIds(),this.customers=e}}});var mo=n("N+Cw"),ho=n.n(mo);n("bFII");function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var go=Shopware.Component,vo=go.getComponentHelper().mapPropertyErrors;go.extend("sw-condition-neti-easy-coupon-total-uses","sw-condition-base",{template:ho.a,computed:fo(fo({value:{get:function(){return this.ensureValueExist(),this.condition.value.value||1},set:function(e){this.ensureValueExist(),this.condition.value=fo(fo({},this.condition.value),{},{value:e})}}},vo("condition",["value.value"])),{},{currentError:function(){return this.conditionValueValueError}})});var wo=n("36OD"),Co=n.n(wo);n("6Mmf");function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var So=Shopware.Component,Po=So.getComponentHelper().mapPropertyErrors;So.extend("sw-condition-neti-easy-coupon-mail-address","sw-condition-base",{template:Co.a,inject:["repositoryFactory"],data:function(){return{}},computed:To(To({operators:function(){return this.conditionDataProviderService.getOperatorSet("multiStore")},emails:{get:function(){return this.ensureValueExist(),this.condition.value.emails||[]},set:function(e){this.ensureValueExist(),this.condition.value=To(To({},this.condition.value),{},{emails:e})}}},Po("condition",["value.operator","value.emails"])),{},{currentError:function(){return this.conditionValueOperatorError||this.conditionValueEmailsError}})}),Shopware.Module.register("neti-easy-coupon-tab-attribute",{routeMiddleware:function(e,t){"sw.customer.detail"===t.name&&t.children.push({name:"neti.easy-coupon.customer.detail.vouchers",path:"/sw/customer/detail/:id/vouchers",component:"neti-easy-coupon-customer-tab",meta:{parentPath:"sw.customer.index"}}),e(t)}})}},[["zyLD","runtime","vendors-node"]]]);